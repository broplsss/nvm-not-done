/*
 ******************************************************** !*\
  !*** ./node_modules/detect-gpu/dist/detect-gpu.esm.js ***!
  \******************************************************* exports provided: getGPUTier  *************************************** !*\
  !*** ./src/zonemasters/adstrategy.ts ***!
  \************************************** no static exports found  ******************************************************* !*\
  !*** ./src/zonemasters/components/bannercomponent.ts ***!
  \****************************************************** ./supercomponent  ../adstrategy  ********************************************************* !*\
  !*** ./src/zonemasters/components/createjscomponent.ts ***!
  \******************************************************** ************************************************* !*\
  !*** ./src/zonemasters/components/editorial.ts ***!
  \************************************************ ../utils  ************************************************* !*\
  !*** ./src/zonemasters/components/imaplayer.ts ***!
  \************************************************ ***************************************************** !*\
  !*** ./src/zonemasters/components/instreamvideo.ts ***!
  \**************************************************** ./videoplayer  ./imaplayer  *************************************************** !*\
  !*** ./src/zonemasters/components/onrpghotbox.ts ***!
  \************************************************** ./editorial  ******************************************************* !*\
  !*** ./src/zonemasters/components/scriptcomponent.ts ***!
  \****************************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/segmentedvideo.ts ***!
  \***************************************************** ************************************************ !*\
  !*** ./src/zonemasters/components/siteskin.ts ***!
  \*********************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/supercomponent.ts ***!
  \***************************************************** ../requests/superrequest  SuperClasses/rootcomponent  *************************************************** !*\
  !*** ./src/zonemasters/components/videoplayer.ts ***!
  \************************************************** *************************************** !*\
  !*** ./src/zonemasters/data/steam.ts ***!
  \************************************** ****************************************** !*\
  !*** ./src/zonemasters/mobilemodules.ts ***!
  \***************************************** ./utils  ./requests/starbannerrequest  ./requests/starjsonrequest  ./requests/headerbiddingrequest  ./requests/editorialrequest  ./requests/skinrequest  ./components/supercomponent  ./components/bannercomponent  ./components/editorial  ./components/onrpghotbox  ./components/instreamvideo  ./components/scriptcomponent  ./components/siteskin  ./components/createjscomponent  SuperClasses/componentregistry  ./components/segmentedvideo  detect-gpu  ./data/steam  ****************************************************** !*\
  !*** ./src/zonemasters/requests/editorialrequest.ts ***!
  \***************************************************** ./superrequest  ********************************************************** !*\
  !*** ./src/zonemasters/requests/headerbiddingrequest.ts ***!
  \********************************************************* ************************************************* !*\
  !*** ./src/zonemasters/requests/skinrequest.ts ***!
  \************************************************ ./editorialrequest  ******************************************************* !*\
  !*** ./src/zonemasters/requests/starbannerrequest.ts ***!
  \****************************************************** ***************************************************** !*\
  !*** ./src/zonemasters/requests/starjsonrequest.ts ***!
  \**************************************************** ************************************************** !*\
  !*** ./src/zonemasters/requests/superrequest.ts ***!
  \************************************************* ***************************************************************** !*\
  !*** ./src/zonemasters/superclasses/basic/componentregistry.ts ***!
  \**************************************************************** ************************************************************* !*\
  !*** ./src/zonemasters/superclasses/basic/rootcomponent.ts ***!
  \************************************************************ ********************************** !*\
  !*** ./src/zonemasters/utils.ts ***!
  \********************************* ************************************************ !*\
  !*** multi ./src/zonemasters/mobilemodules.ts ***!
  \*********************************************** ./src/zonemasters/mobilemodules.ts */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,l,q){d!=Array.prototype&&d!=Object.prototype&&(d[l]=q.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(l){return $jscomp.SYMBOL_PREFIX+(l||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var l=0;return $jscomp.iteratorPrototype(function(){return l<d.length?{done:!1,value:d[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var l=d[Symbol.iterator];return l?l.call(d):$jscomp.arrayIterator(d)};$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},l={};try{return l.__proto__=d,l.a}catch(q){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,l){d.__proto__=l;if(d.__proto__!==l)throw new TypeError(d+" is not extensible");return d}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(d){if(!(d instanceof Object))throw new TypeError("Iterator result "+d+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(d){this.yieldResult=d};$jscomp.generator.Context.prototype.throw_=function(d){this.abruptCompletion_={exception:d,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(d){this.abruptCompletion_={return:d};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(d){this.abruptCompletion_={jumpTo:d};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(d,l){this.nextAddress=l;return{value:d}};$jscomp.generator.Context.prototype.yieldAll=function(d,l){d=$jscomp.makeIterator(d);var q=d.next();$jscomp.generator.ensureIteratorResultIsObject_(q);if(q.done)this.yieldResult=q.value,this.nextAddress=l;else return this.yieldAllIterator_=d,this.yield(q.value,l)};
$jscomp.generator.Context.prototype.jumpTo=function(d){this.nextAddress=d};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(d,l){this.catchAddress_=d;void 0!=l&&(this.finallyAddress_=l)};$jscomp.generator.Context.prototype.setFinallyBlock=function(d){this.catchAddress_=0;this.finallyAddress_=d||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(d,l){this.nextAddress=d;this.catchAddress_=l||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(d){this.catchAddress_=d||0;d=this.abruptCompletion_.exception;this.abruptCompletion_=null;return d};$jscomp.generator.Context.prototype.enterFinallyBlock=function(d,l,q){q?this.finallyContexts_[q]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=d||0;this.finallyAddress_=l||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,l){l=this.finallyContexts_.splice(l||0)[0];if(l=this.abruptCompletion_=this.abruptCompletion_||l){if(l.isException)return this.jumpToErrorHandler_();void 0!=l.jumpTo&&this.finallyAddress_<l.jumpTo?(this.nextAddress=l.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=d};$jscomp.generator.Context.prototype.forIn=function(d){return new $jscomp.generator.Context.PropertyIterator(d)};
$jscomp.generator.Context.PropertyIterator=function(d){this.object_=d;this.properties_=[];for(var l in d)this.properties_.push(l);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var d=this.properties_.pop();if(d in this.object_)return d}return null};$jscomp.generator.Engine_=function(d){this.context_=new $jscomp.generator.Context;this.program_=d};
$jscomp.generator.Engine_.prototype.next_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,d,this.context_.next_);this.context_.next_(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(d){this.context_.start_();var l=this.context_.yieldAllIterator_;if(l)return this.yieldAllStep_("return"in l?l["return"]:function(l){return{value:l,done:!0}},d,this.context_.return);this.context_.return(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],d,this.context_.next_);this.context_.throw_(d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,l,q){try{var t=d.call(this.context_.yieldAllIterator_,l);$jscomp.generator.ensureIteratorResultIsObject_(t);if(!t.done)return this.context_.stop_(),t;var p=t.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}this.context_.yieldAllIterator_=null;q.call(this.context_,p);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var d=this.program_(this.context_);if(d)return this.context_.stop_(),{value:d.value,done:!1}}catch(l){this.context_.yieldResult=void 0,this.context_.throw_(l)}this.context_.stop_();if(this.context_.abruptCompletion_){d=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(d.isException)throw d.exception;return{value:d.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(d){this.next=function(l){return d.next_(l)};this.throw=function(l){return d.throw_(l)};this.return=function(l){return d.return_(l)};$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(d,l){l=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(l));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(l,d.prototype);return l};
$jscomp.polyfill=function(d,l,q,t){if(l){q=$jscomp.global;d=d.split(".");for(t=0;t<d.length-1;t++){var p=d[t];p in q||(q[p]={});q=q[p]}d=d[d.length-1];t=q[d];l=l(t);l!=t&&null!=l&&$jscomp.defineProperty(q,d,{configurable:!0,writable:!0,value:l})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(d){function l(){this.batch_=null}function q(h){return h instanceof p?h:new p(function(b,k){b(h)})}if(d&&!$jscomp.FORCE_POLYFILL_PROMISE)return d;l.prototype.asyncExecute=function(h){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(h);return this};l.prototype.asyncExecuteBatch_=function(){var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})};var t=$jscomp.global.setTimeout;l.prototype.asyncExecuteFunction=function(h){t(h,
0)};l.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var b=0;b<h.length;++b){var k=h[b];h[b]=null;try{k()}catch(g){this.asyncThrow_(g)}}}this.batch_=null};l.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var p=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{h(b.resolve,b.reject)}catch(k){b.reject(k)}};p.prototype.createResolveAndReject_=
function(){function h(g){return function(a){k||(k=!0,g.call(b,a))}}var b=this,k=!1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};p.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof p)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var b=null!=h;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};p.prototype.resolveToNonPromiseObj_=function(h){var b=
void 0;try{b=h.then}catch(k){this.reject_(k);return}"function"==typeof b?this.settleSameAsThenable_(b,h):this.fulfill_(h)};p.prototype.reject_=function(h){this.settle_(2,h)};p.prototype.fulfill_=function(h){this.settle_(1,h)};p.prototype.settle_=function(h,b){if(0!=this.state_)throw Error("Cannot settle("+h+", "+b+"): Promise already settled in state"+this.state_);this.state_=h;this.result_=b;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=
0;h<this.onSettledCallbacks_.length;++h)u.asyncExecute(this.onSettledCallbacks_[h]);this.onSettledCallbacks_=null}};var u=new l;p.prototype.settleSameAsPromise_=function(h){var b=this.createResolveAndReject_();h.callWhenSettled_(b.resolve,b.reject)};p.prototype.settleSameAsThenable_=function(h,b){var k=this.createResolveAndReject_();try{h.call(b,k.resolve,k.reject)}catch(g){k.reject(g)}};p.prototype.then=function(h,b){function k(f,c){return"function"==typeof f?function(c){try{g(f(c))}catch(r){a(r)}}:
c}var g,a,e=new p(function(f,c){g=f;a=c});this.callWhenSettled_(k(h,g),k(b,a));return e};p.prototype.catch=function(h){return this.then(void 0,h)};p.prototype.callWhenSettled_=function(h,b){function k(){switch(g.state_){case 1:h(g.result_);break;case 2:b(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?u.asyncExecute(k):this.onSettledCallbacks_.push(k)};p.resolve=q;p.reject=function(h){return new p(function(b,k){k(h)})};p.race=function(h){return new p(function(b,
k){for(var g=$jscomp.makeIterator(h),a=g.next();!a.done;a=g.next())q(a.value).callWhenSettled_(b,k)})};p.all=function(h){var b=$jscomp.makeIterator(h),k=b.next();return k.done?q([]):new p(function(g,a){function e(a){return function(m){f[a]=m;c--;0==c&&g(f)}}var f=[],c=0;do f.push(void 0),c++,q(k.value).callWhenSettled_(e(f.length-1),a),k=b.next();while(!k.done)})};return p},"es6","es3");
$jscomp.polyfill("Object.is",function(d){return d?d:function(l,d){return l===d?0!==l||1/l===1/d:l!==l&&d!==d}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(d){return d?d:function(l,d){var t=this;t instanceof String&&(t=String(t));var p=t.length;d=d||0;for(0>d&&(d=Math.max(d+p,0));d<p;d++){var u=t[d];if(u===l||Object.is(u,l))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(d,l,q){if(null==d)throw new TypeError("The 'this' value for String.prototype."+q+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+q+" must not be a regular expression");return d+""};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(d,q){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,q||0)}},"es6","es3");
$jscomp.findInternal=function(d,l,q){d instanceof String&&(d=String(d));for(var t=d.length,p=0;p<t;p++){var u=d[p];if(l.call(q,u,p,d))return{i:p,v:u}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,q){return $jscomp.findInternal(this,d,q).v}},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(d){return d||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.iteratorFromArray=function(d,l){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var q=0,t={next:function(){if(q<d.length){var p=q++;return{value:l(p,d[p]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
(function(d){function l(t){if(q[t])return q[t].exports;var p=q[t]={i:t,l:!1,exports:{}};d[t].call(p.exports,p,p.exports,l);p.l=!0;return p.exports}var q={};l.m=d;l.c=q;l.d=function(d,p,u){l.o(d,p)||Object.defineProperty(d,p,{enumerable:!0,get:u})};l.r=function(d){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(d,"__esModule",{value:!0})};l.t=function(d,
p){p&1&&(d=l(d));if(p&8||p&4&&"object"===typeof d&&d&&d.__esModule)return d;var u=Object.create(null);l.r(u);Object.defineProperty(u,"default",{enumerable:!0,value:d});if(p&2&&"string"!=typeof d)for(var h in d)l.d(u,h,function(b){return d[b]}.bind(null,h));return u};l.n=function(d){var p=d&&d.__esModule?function(){return d["default"]}:function(){return d};l.d(p,"a",p);return p};l.o=function(d,l){return Object.prototype.hasOwnProperty.call(d,l)};l.p="";return l(l.s=0)})({"./node_modules/detect-gpu/dist/detect-gpu.esm.js":function(d,
l,q){function t(c,a,f,n){return new (f||(f=Promise))(function(m,b){function r(c){try{g(n.next(c))}catch(z){b(z)}}function e(c){try{g(n.throw(c))}catch(z){b(z)}}function g(c){var a;c.done?m(c.value):(a=c.value,a instanceof f?a:new f(function(c){c(a)})).then(r,e)}g((n=n.apply(c,a||[])).next())})}q.r(l);q.d(l,"getGPUTier",function(){return f});var p="geforce 320m;geforce 8600;geforce 8600m gt;geforce 8800 gs;geforce 8800 gt;geforce 9400;geforce 9400m g;geforce 9400m;geforce 9600m gt;geforce 9600m;geforce fx go5200;geforce gt 120;geforce gt 130;geforce gt 330m;geforce gtx 285;google swiftshader;intel g41;intel g45;intel gma 4500mhd;intel gma x3100;intel hd 3000;intel q45;legacy;mali-2;mali-3;mali-4;quadro fx 1500;quadro fx 4;quadro fx 5;radeon hd 2400;radeon hd 2600;radeon hd 4670;radeon hd 4850;radeon hd 4870;radeon hd 5670;radeon hd 5750;radeon hd 6290;radeon hd 6300;radeon hd 6310;radeon hd 6320;radeon hd 6490m;radeon hd 6630m;radeon hd 6750m;radeon hd 6770m;radeon hd 6970m;radeon r9 200;sgx 543;sgx543".split(";"),
u=function(c){return c.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},h="undefined"==typeof window,b=function(){if(!h){var c=window.navigator,a=c.userAgent,f=c.platform,n=c.maxTouchPoints;c=/(iphone|ipod|ipad)/i.test(a);f="iPad"===f||"MacIntel"===f&&0<n&&!window.MSStream;return{isIpad:f,isMobile:/android/i.test(a)||c||f,isSafari12:/Version\/12.+Safari/.test(a)}}}(),k=function(c,a,f){if("apple gpu"===a){a=[a];if(f){var m=c.createShader(35633),
e=c.createShader(35632);f=c.createProgram();e&&m&&f&&(c.shaderSource(m,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),c.shaderSource(e,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),
c.compileShader(m),c.compileShader(e),c.attachShader(f,m),c.attachShader(f,e),c.linkProgram(f),c.detachShader(f,m),c.detachShader(f,e),c.deleteShader(m),c.deleteShader(e),c.useProgram(f),m=c.createBuffer(),c.bindBuffer(34962,m),c.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044),e=c.getAttribLocation(f,"aPosition"),c.vertexAttribPointer(e,3,5126,!1,0,0),c.enableVertexAttribArray(e),c.clearColor(1,1,1,1),c.clear(16384),c.viewport(0,0,1,1),c.drawArrays(4,0,3),e=new Uint8Array(4),c.readPixels(0,
0,1,1,6408,5121,e),c.deleteProgram(f),c.deleteBuffer(m),a={801621810:(null==b?0:b.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==b?0:b.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[e.join("")]||a)}c=a}else c=[a];return c},g=[],a=[],e=function(c,f){if(c===f)return 0;var m=c;c.length>f.length&&(c=f,f=m);m=c.length;for(var n=f.length;0<m&&c.charCodeAt(~-m)===f.charCodeAt(~-n);)m--,n--;for(var b=
0;b<m&&c.charCodeAt(b)===f.charCodeAt(b);)b++;if(m-=b,n-=b,0===m)return n;for(var e,k,h=0,u=0,d=0;u<m;)a[u]=c.charCodeAt(b+u),g[u]=++u;for(;d<n;)for(c=f.charCodeAt(b+d),e=d++,h=d,u=0;u<m;u++)k=c===a[u]?e:e+1,e=g[u],h=g[u]=e>h?k>h?h+1:k:k>e?e+1:k;return h},f=function(a){a=void 0===a?{}:a;var c=void 0===a.mobileTiers?[0,15,30,60]:a.mobileTiers,f=void 0===a.desktopTiers?[0,15,30,60]:a.desktopTiers,n=void 0===a.override?{}:a.override,g=a.glContext,d=void 0===a.failIfMajorPerformanceCaveat?!1:a.failIfMajorPerformanceCaveat,
l=void 0===a.benchmarksURL?"https://unpkg.com/detect-gpu@3.1.25/dist/benchmarks":a.benchmarksURL;return t(void 0,void 0,void 0,function A(){var a,m,r,w,H,q,S,v,Q,N,R,E,na,C,oa,J,U,W,da,qa,wa,O;return $jscomp.generator.createGenerator(A,function(z){if(1==z.nextAddress){a={};if(h)return z.return({tier:0,type:"SSR"});m=n;r=void 0===m.isIpad?!(null==b||!b.isIpad):m.isIpad;w=void 0===m.isMobile?!(null==b||!b.isMobile):m.isMobile;H=void 0===m.screenSize?window.screen:m.screenSize;q=void 0===m.loadBenchmarks?
function(a){return t(void 0,void 0,void 0,function P(){var c;return $jscomp.generator.createGenerator(P,function(f){if(1==f.nextAddress)return f.yield(fetch(l+"/"+a).then(function(a){return a.json()}),2);c=f.yieldResult;return f.return((c.shift(),c))})})}:m.loadBenchmarks;S=n;v=S.renderer;Q=function(a,c,f,m,b){return{device:b,fps:m,gpu:f,isMobile:w,tier:a,type:c}};R="";if(v)v=u(v),N=[v];else{E=g||function(a,c){c={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:void 0===c?!1:c,powerPreference:"high-performance",
stencil:!1};a&&delete c.powerPreference;a=window.document.createElement("canvas");a=a.getContext("webgl",c)||a.getContext("experimental-webgl",c);return null!=a?a:void 0}(null==b?void 0:b.isSafari12,d);if(!E)return z.return(Q(0,"WEBGL_UNSUPPORTED"));na=E.getExtension("WEBGL_debug_renderer_info");if(na&&(v=E.getParameter(na.UNMASKED_RENDERER_WEBGL)),!v)return z.return(Q(1,"FALLBACK"));R=v;v=u(v);N=k(E,v,w)}return z.yield(Promise.all(N.map(function(c){return t(void 0,void 0,void 0,function P(){var f,
m,b,n,g,k,h,u,d,l,p,E,z,xa,S,t,A,v,C,y,B,J,R,K,U,F,N;return $jscomp.generator.createGenerator(P,function(X){switch(X.nextAddress){case 1:f=function(a){for(var c=$jscomp.makeIterator(w?"adreno apple mali-t mali nvidia powervr".split(" "):["intel","amd","radeon","nvidia","geforce"]),f=c.next();!f.done;f=c.next())if(f=f.value,a.includes(f))return f}(c);if(!f)return X.return();m=(w?"m":"d")+"-"+f+".json";b=a[m]=a[m]||q(m);X.setCatchFinallyBlocks(2);return X.yield(b,4);case 4:n=X.yieldResult;X.leaveTryBlock(3);
break;case 2:return X.enterCatchBlock(),X.return();case 3:g=function(a){var c,f=(a=a.replace(/\([^)]+\)/,"")).match(/\d+/)||a.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(c=null==f?void 0:f.join("").replace(/\W|amd/g,""))&&void 0!==c?c:""}(c);k="apple"===f;h=n.filter(function(a){a=$jscomp.makeIterator(a);a.next();return a.next().value===g});h.length||(h=n.filter(function(a){return $jscomp.makeIterator(a).next().value.includes(c)}));u=h.length;if(0===u)return X.return();l=$jscomp.makeIterator(1<
u?h.map(function(a){return[a,e(c,a[0])]}).sort(function(a,c){a=$jscomp.makeIterator(a);a.next();a=a.next().value;c=$jscomp.makeIterator(c);c.next();c=c.next().value;return a-c})[0][0]:h[0]);p=l.next().value;l.next();l.next();E=l.next().value;z=Number.MAX_VALUE;xa=window;S=xa.devicePixelRatio;t=H.width*S*H.height*S;k&&w&&(E=E.filter(function(a){a=$jscomp.makeIterator(a);a.next();a.next();a.next();a=a.next().value;var c;return-1<(null!==(c=null==a?void 0:a.indexOf(r?"ipad":"iphone"))&&void 0!==c?c:
-1)}));A=$jscomp.makeIterator(E);for(v=A.next();!v.done;v=A.next())C=v.value,y=$jscomp.makeIterator(C),B=y.next().value,J=y.next().value,R=B*J,K=Math.abs(t-R),K<z&&(z=K,d=C);if(!d)return X.return();U=$jscomp.makeIterator(d);U.next();U.next();F=U.next().value;N=U.next().value;return X.return([z,F,p,N])}})})})),2)}C=z.yieldResult.filter(function(a){return!!a});if(!C.length)return oa=p.find(function(a){return v.includes(a)}),z.return(oa?Q(0,"BLOCKLISTED",oa):Q(1,"FALLBACK",v+" ("+R+")"));J=$jscomp.makeIterator(C.sort(function(a,
c){a=$jscomp.makeIterator(a).next().value;a=void 0===a?Number.MAX_VALUE:a;c=$jscomp.makeIterator(c).next().value;return a-(void 0===c?Number.MAX_VALUE:c)})[0]);J.next();U=J.next().value;W=J.next().value;da=J.next().value;if(-1===U)return z.return(Q(0,"BLOCKLISTED",W,U,da));qa=w?c:f;for(O=wa=0;O<qa.length;O++)U>=qa[O]&&(wa=O);return z.return(Q(wa,"BENCHMARK",W,U,da))})})}},"./src/zonemasters/adstrategy.ts":function(d,l,q){Object.defineProperty(l,"__esModule",{value:!0});l.TotalCPMStrategy=void 0;l.TotalCPMStrategy=
function(d){d.refreshrate||(d.refreshrate=14E4);d.minslice||(d.minslice=1E4);d.minslicecpmpercent||(d.minslicecpmpercent=.85);return function(l){for(var u,h,b,k,g,a=0,e=null,f={},c=(new Date).getTime(),m=0;m<l.length;m++)for(var r=l[m],n=0;n<d.match.length;n++){var w=d.match[n],H=Math.max(null!==(u=w.multi)&&void 0!==u?u:1,null!==(h=w.target)&&void 0!==h?h:1);w.bidInfos&&w.bidInfos.length==H||w.w&&r.w!=w.w||w.h&&r.h!=w.h||w.mediaType&&r.mediaType!=w.mediaType||w.bidder&&r.bidder!=w.bidder||w.minBid&&
r.cpm<w.minBid||(f[n]||(f[n]={bidInfos:[],totalCpm:0,totalMs:0}),f[n].w&&r.w!=f[n].w||f[n].h&&r.h!=f[n].h||(w.fixedSize&&(f[n].w=r.w,f[n].h=r.h),f[n].bidInfos.length<H&&f[n].bidInfos.push(r)))}l={picks:[]};for(n=0;n<d.match.length;n++){m=0;w=d.match[n];H=Math.max(null!==(b=w.multi)&&void 0!==b?b:1,null!==(k=w.target)&&void 0!==k?k:1);w=null!==(g=w.target)&&void 0!==g?g:1;u=f[n];for(h=0;h<(-1==w?H:w)&&h<u.bidInfos.length;h++)m+=u.bidInfos[h].cpm;r=[];var p=0,x=0;for(h=0;h<u.bidInfos.length;h++){var q=
u.bidInfos[h],t=Math.max(d.minslice,q.cpm/m);if(q.expires>c+x){r.push(q);if(-1==w||r.length<=w)p+=q.cpm;x+=t;if(r.length>=H||x>d.refreshrate)break}}u.totalCpm=p;u.bidInfos=r;p>a&&(e=u,a=p)}if(e)for(m=l.totalCPM=0;m<e.bidInfos.length&&!(b=e.bidInfos[m],l.picks.push({adId:b.adId,cpm:b.cpm,w:b.w,h:b.h}),b.cpm&&(l.totalCPM+=b.cpm),d.maxslices&&0<d.maxslices&&l.picks.length>=d.maxslices);m++);return l}}},"./src/zonemasters/components/bannercomponent.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=
function(h,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var a in g)g.hasOwnProperty(a)&&(b[a]=g[a])};return d(h,b)};return function(h,b){function k(){this.constructor=h}d(h,b);h.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});d=q("./src/zonemasters/components/supercomponent.ts");var p=q("./src/zonemasters/adstrategy.ts");q=function(d){function h(b,k){b=d.call(this,
b,k)||this;b.becameViewable=!1;b.isAttached=!0;b.isDetachable=!1;b.closeDiv=null;b.timeSliceBlocked=!1;return b}t(h,d);h.prototype.testResponseValidity=function(b){var k,g,a,e,f,c,m,r,n,h,u,l,q=null!==(k=this.module.options.maxslices)&&void 0!==k?k:-1;if(b){this||b(!1);this.res||b(!1);try{if(this.module.options.areaslice&&this.res.pickAds&&this.module.options.width&&this.module.options.height){var t={minslice:null!==(g=this.module.options.minslice)&&void 0!==g?g:this.DEFAULTMINSLICE,minslicecpmpercent:null!==
(a=this.module.options.minslicecpmpercent)&&void 0!==a?a:this.DEFAULTMINSLICECPMPERCENT,refreshrate:null!==(e=this.module.options.refreshrate)&&void 0!==e?e:this.DEFAULTREFRESHRATE,maxslices:q,match:[{w:null,h:null,target:1}]};970==this.module.options.width?t.match.push({fixedSize:!0,w:300,h:250,multi:null!==(f=this.module.options.slicemulti)&&void 0!==f?f:this.DEFAULTSLICEMULTI,target:3}):300==this.module.options.width&&600==this.module.options.height&&t.match.push({fixedSize:!0,w:300,h:250,multi:null!==
(c=this.module.options.slicemulti)&&void 0!==c?c:this.DEFAULTSLICEMULTI,target:2});var F=p.TotalCPMStrategy(t);this.pickResult=this.res.pickAds(this.module,F);var z=null===(m=this.pickResult)||void 0===m?void 0:m.picks;this.pickResult&&z?(this.mm.log("Area slicing returned "+z.length+" picks worth $"+this.pickResult.totalCPM.toFixed(2)+" CPM"),d.prototype.testResponseValidity.call(this,b)):b(!1)}else if(this.module.options.timeslice&&!this.timeSliceBlocked&&this.res.pickAds){var V=p.TotalCPMStrategy({minslice:null!==
(r=this.module.options.minslice)&&void 0!==r?r:this.DEFAULTMINSLICE,refreshrate:null!==(n=this.module.options.refreshrate)&&void 0!==n?n:this.DEFAULTREFRESHRATE,minslicecpmpercent:null!==(h=this.module.options.minslicecpmpercent)&&void 0!==h?h:this.DEFAULTMINSLICECPMPERCENT,maxslices:q,match:[{fixedSize:!0,multi:null!==(u=this.module.options.slicemulti)&&void 0!==u?u:this.DEFAULTSLICEMULTI,target:q},{w:null,h:null,target:1}]});this.pickResult=this.res.pickAds(this.module,V);z=null===(l=this.pickResult)||
void 0===l?void 0:l.picks;this.pickResult&&z?d.prototype.testResponseValidity.call(this,b):b(!1)}else d.prototype.testResponseValidity.call(this,b)}catch(ba){b(!1)}}};h.prototype.getRenderTargetDivID=function(b){void 0===b&&(b=0);var k=d.prototype.getRenderTargetDivID.call(this,b);return this.module.options.areaslice?k+"_"+b:k};h.prototype.render=function(b,k,g){var a,e,f,c=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=1==this.module.options.requireViewable||"true"==this.module.options.requireViewable?
!0:!1;var m=this.module.renderIndex,r=970==this.module.options.width?3:2;if(this.module.options.areaslice&&c&&c.length>=m+r&&(this.module.options.width||this.module.options.height)){r=this.pickResult.picks;k=1;c=g="0";var n=null!==(e=this.module.options.width)&&void 0!==e?e:r[0].w;e=null!==(f=this.module.options.height)&&void 0!==f?f:r[0].h;for(var h=f=0,u=0,l=0;m<r.length;m++)f+r[m].w<=n&&(f+=r[m].w,u++),h+r[m].h<=e&&(h+=r[m].h,l++);1<u?(k=u,b.style.display="inline-block",g=(n-f)/(k-1)+"px"):1<l&&
(k=l,b.style.display="block",c=(e-h)/(k-1)+"px");if(!a||this.isViewable(b,null))for(b.innerHTML="",a=0;a<k;a++)if(m=document.createElement("div"),m.id=this.getRenderTargetDivID(a),b.appendChild(m),this.res.renderAd(this.module,m,null,{blockGam:!0}),this.res.nextAd(this.module))a!=k-1&&(m.style.marginRight=g,m.style.marginBottom=c);else break}else d.prototype.render.call(this,b,k,g)};h.prototype.init=function(b,k){function g(){!c.becameViewable&&c.isViewable(r,null)&&b.renderAd&&(c.render(r),c.becameViewable=
!0,c.removeEventListener("DOMContentLoaded",g),c.removeEventListener("load",g),c.removeEventListener("scroll",g),c.removeEventListener("resize",g),c.removeEventListener("orientationchange",g))}function a(){var a=r.ownerDocument?r.ownerDocument:document;if(c.becameViewable&&c.isDetachable)if(c.isViewable(n,null))c.isAttached||(f=a.getElementById(String(c.module.info.name).replace(/\s/g,"")),f.style.display="none",r.style.position="static",c.isAttached=!0);else if(c.isAttached){if(!c.closeDiv){c.closeDiv=
a.createElement("div");c.closeDiv.style.backgroundColor="white";c.closeDiv.style.color="#77b0f2";c.closeDiv.style.height="20px";c.closeDiv.style.width="60px";c.closeDiv.style.position="relative";var f=parseInt(String(r.offsetWidth))/2-30;c.closeDiv.style.left=""+f+"px";c.closeDiv.style.top="1px";c.closeDiv.id=c.module.info.name?String(c.module.info.name).replace(/\s/g,""):"closeDiv";c.closeDiv.innerHTML="Close Ad";c.closeDiv.style.borderRadius="2px";c.closeDiv.style.cursor="pointer";c.closeDiv.addEventListener("click",
function(){c.isDetachable=!1;r.style.position="static";c.isAttached=!0;a.getElementById(String(c.module.info.name).replace(/\s/g,"")).style.display="none"});r.insertBefore(c.closeDiv,r.firstElementChild)}f=a.getElementById(String(c.module.info.name).replace(/\s/g,""));f.style.display="block";r.style.position="fixed";r.style.bottom="0px";c.isAttached=!1}}var e,f;d.prototype.init.call(this,b,k);var c=this;if(c.module.options.maxHeight&&((null===(f=null===(e=c.mm.zonedata)||void 0===e?void 0:e.options)||
void 0===f?0:f.cls)||c.module.options.cls))try{var m=""+parseInt(c.module.options.maxHeight)+"px";c.setCss({".cls":{display:"flex","justify-content":"center","align-items":"center","min-height":m}});c.module.div.classList.add("cls")}catch(w){}var r=this.getRenderTarget(),n=r.parentNode;c.timeSliceBlocked=!1;c.halt&&(c.timeSliceBlocked=!0);if(this.mm.locationData)for(k=0;k<c.TIMESLICEGEOSBLOCKED.length;k++)if(e=c.TIMESLICEGEOSBLOCKED[k],e.countryCode&&this.mm.locationData.countryCode==e.countryCode&&
(null==e.region||e.region==this.mm.locationData.region)){c.timeSliceBlocked=!0;break}this.module.options.timeslice&&!c.timeSliceBlocked&&this.initSliceManager();this.isDetachable=1==this.module.options.isDetachable||"true"==this.module.options.isDetachable?!0:!1;1!=this.module.options.requireViewable&&"true"!=this.module.options.requireViewable||d.prototype.isViewable.call(this,r,null)?(c.render(r),c.becameViewable=!0):(c.onEvent(window,"DOMContentLoaded",g),c.onEvent(window,"load",g),c.onEvent(window,
"scroll",g),c.onEvent(window,"resize",g),c.onEvent(window,"orientationchange",g));this.isDetachable&&(c.onEvent(window,"DOMContentLoaded",a),c.onEvent(window,"load",a),c.onEvent(window,"scroll",a),c.onEvent(window,"resize",a),c.onEvent(window,"orientationchange",a))};return h}(d.default);l.default=q},"./src/zonemasters/components/createjscomponent.ts":function(d,l,q){Object.defineProperty(l,"__esModule",{value:!0});var t=q("./src/zonemasters/components/supercomponent.ts"),p=q("./src/zonemasters/adstrategy.ts");
l.default=function(d,h){var b=function(b,g){t.default.call(this,b,g)};b.prototype=Object.create(t.default.prototype);b.prototype.constructor=b;b.prototype.getRequestData=function(){var b=t.default.prototype.getRequestData.call(this);if(null!=d&&d.request)for(var g=Object.keys(d.request),a=0;a<g.length;a++){var e=g[a];b[e]=b[e]?b[e]:d.request[e]}return b};b.prototype.init=function(b,g){t.default.prototype.init.call(this,b,g);g=this.module.options;if(null!=d&&d.options)for(var a=Object.keys(d.options),
e=0;e<a.length;e++){var f=a[e];g[f]=g[f]?g[f]:d.options[f]}this.module.requestInstance&&this.module.requestInstance.config&&(g.pid=this.module.requestInstance.config.poolid);g.renderAd=b.renderAd.bind(b,this.module);g.triggerEvent=this.triggerEvent.bind(this);null==g.el&&(this.module.el||this.module.target)&&this.module.div&&(g.el=this.module.div.parentNode);this.jsController=window[h](g);this.module.options.timeslice&&this.initSliceManager()};b.prototype.tryNextTimeslice=function(){var b=(new Date).getTime();
if(b<this.nextSliceTimestamp)b-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+b+"ms"),this.setSliceTimer(b);else{b=this.getRenderTarget();var g=5E3;this.isViewable(b,null)&&(this.res.nextAd(this.module)&&(b={kind:"adcmd",command:"refresh",renderFn:this.res.renderAd.bind(this.res,this.module)},this.jsController?this.jsController.adcmd(b):this.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")),g=this.getNextTimesliceMs());this.setSliceTimer(g)}};
b.prototype.testResponseValidityHelper=function(b){var g=this;t.default.prototype.testResponseValidity.call(this,function(a){a?g.res?window[h].validityTest?(a=window[h].testValidity(g.res),b(a)):b(!0):b(!1):b(!1)})};b.prototype.testResponseValidity=function(b){var g,a,e,f,c,m,r,n,k=null!==(g=this.module.options.maxslices)&&void 0!==g?g:-1;if(this.module.options.timeslice)if(g=p.TotalCPMStrategy({minslicecpmpercent:null!==(a=this.module.options.minslicecpmpercent)&&void 0!==a?a:this.DEFAULTMINSLICECPMPERCENT,
minslice:null!==(e=this.module.options.minslice)&&void 0!==e?e:this.DEFAULTMINSLICE,refreshrate:null!==(f=this.module.options.refreshrate)&&void 0!==f?f:this.DEFAULTREFRESHRATE,match:[{fixedSize:!0,multi:null!==(c=this.module.options.slicemulti)&&void 0!==c?c:this.DEFAULTSLICEMULTI,target:k},{fixedSize:!0,multi:null!==(m=this.module.options.slicemulti)&&void 0!==m?m:this.DEFAULTSLICEMULTI,target:k},{fixedSize:!0,multi:null!==(r=this.module.options.slicemulti)&&void 0!==r?r:this.DEFAULTSLICEMULTI,
target:k},{w:null,h:null,target:1}]}),this.res.pickAds)if(this.pickResult=this.res.pickAds(this.module,g),a=null===(n=this.pickResult)||void 0===n?void 0:n.picks,0<k&&(a=a.slice(this.module.options.maxslices)),this.pickResult&&a){for(n=this.pickResult.totalCPM=0;n<a.length;n++)a[n].cpm&&(this.pickResult.totalCPM+=a[n].cpm);this.testResponseValidityHelper(b)}else b(!1);else b(!1);else this.testResponseValidityHelper(b)};b.prototype.adcmd=function(b){var g=this;"object"===typeof b&&("refresh"===b.command?
this.request(function(){b.renderFn=g.res.renderAd.bind(g.res,g.module);g.jsController?g.jsController.adcmd(b):g.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")}):"addEventListener"===b.command?this.addEventListener.apply(this,b.args):"removeEventListener"===b.command?this.removeEventListener.apply(this,b.args):this.jsController?this.jsController.adcmd(b):g.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller"))};return b}},"./src/zonemasters/components/editorial.ts":function(d,
l,q){var t=this&&this.__extends||function(){var d=function(h,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var a in g)g.hasOwnProperty(a)&&(b[a]=g[a])};return d(h,b)};return function(h,b){function k(){this.constructor=h}d(h,b);h.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/utils.ts");d=function(d){function h(b,k){b=d.call(this,b,k)||this;
b.defaultRequestKind="json";return b}t(h,d);h.prototype.convertCreative=function(b){var k=this;b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:p.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(a,f,b,n){var c=p.getCtx();n?(a=getComputedStyle(n),a.fontSize&&a.fontFamily&&(c.font=a.fontSize+" "+a.fontFamily),a=n.offsetWidth-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))-(parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))):
c.font="6px Arial";n=this.creativemacros.DESC300?p.from_utf8(this.creativemacros.DESC300):null;var m=this.creativemacros.DESC?p.from_utf8(this.creativemacros.DESC):null;m=(n?n:m?m:"").split("<br");for(var e=[],r=0;r<m.length;r++)n=m[r],n=n.trim(),"/"==n[0]&&">"==n[1]&&(n=n.slice(2)),n=n.trim(),0<n.length&&e.push(n);m="";var g=0;for(r=0;r<e.length;r++){n=e[r];var h=c.measureText(n).width;h=Math.ceil(h/a);if(1<=g&&g+h>f)break;g+=h;if(null!=b&&m.length+n.length>b){f=!1;if("false"!==k.module.options.endOnPunctuation)for(c=
b-1;c>=Math.ceil(b/1.5);c--)if(" "==n[c]&&("!"==n[c-1]||"."==n[c-1]||"?"==n[c-1])){f=!0;m+=n.slice(0,c);break}f||(m+=n.slice(0,b-m.length-3)+"...");break}else m+=n+"<br/>"}return m}.bind(b);b.getMaxLength=function(a,f){}.bind(b);b.availImages=[];for(var g=Object.keys(b.creativemacros),a=0;a<g.length;a++){var e=g[a],f=null;if("IMAGE"==e.slice(0,5))f=e.slice(5).split("X");else if("BANNER"==e.slice(0,6))f=e.slice(6).split("X");else continue;f&&2==f.length&&b.availImages.push({width:f[0],height:f[1],
url:b.creativemacros[e]})}b.closestAspect=function(a,f,b){if(0==b.length)return{url:"",width:a,height:f};for(var c=a/f,m=-1,e=0;4>e&&-1==m;e++)for(var g=0,r=0;r<b.length;r++)if(!(a>2*b[r].width||a<b[r].width/2||f>2*b[r].height||a<b[r].height/2)){var k=b[r].width/b[r].height/c;1<k&&(k=1/k);k>g&&(g=k,m=r)}-1==m&&(m=0);return b[m]};b.getImageUrl=function(a,f){return b.closestAspect(a,f,b.availImages).url}};h.prototype.init=function(b,k){b=b.getResponseData();var g=this.module.options,a=window.innerWidth<
window.innerHeight?window.innerWidth:window.innerHeight;a=g.descriptionPixelWidth?g.descriptionPixelWidth:a;var e=g.maxDescriptionLines?g.maxDescriptionLines:1,f=g.descriptionLength?g.descriptionLength:120,c=this.module.iteration?this.module.iteration:0,m=g.cap?g.cap:b.creatives?b.creatives.length:20,r=[];if(b.creatives){var n=c%b.creatives.length;for(c=n;c<b.creatives.length&&c<n+m;c++){var h=b.creatives[c];this.convertCreative(h);h.thumbUrl=h.getImageUrl(g.thumbWidth,g.thumbHeight);h.imageUrl=h.getImageUrl(g.imageWidth,
g.imageHeight);h.description=h.getDescription(a,e,f);h.title=h.getTitle();h.clickUrl=h.getLink();null==h.title?(b.creatives.splice(c,1),c--):(r.push(b.creatives[c]),c+1>=b.creatives.length&&r.length<m&&(c=-1,n=0,m-=r.length))}}this.module.creatives=r;d.prototype.init.call(this,b,k);if(g.descriptionTarget&&void 0==this.module.options.sandbox)for(k=this.mm.findEls(g.descriptionTarget,this.module.div),c=0;c<k.length;c++)this.module.creatives&&this.module.creatives[c]&&(k[c].innerHTML=this.module.creatives[c].getDescription(a,
e,f,k[c]))};return h}(q("./src/zonemasters/components/supercomponent.ts").default);l.default=d},"./src/zonemasters/components/imaplayer.ts":function(d,l,q){function t(d){var h=(new MessageChannel).port1;d.dispatchEvent=h.dispatchEvent.bind(h);d.addEventListener=h.addEventListener.bind(h);d.removeEventListener=h.removeEventListener.bind(h)}function p(d){if("function"===typeof Event)var h=new Event(d);else h=document.createEvent("Event"),h.initEvent(d,!1,!1);return h}Object.defineProperty(l,"__esModule",
{value:!0});d=function(){function d(h){this.mm=h;this.paused=this.autoPlayChecked=!1;this.pauseBeganTime=0;this.muted=this.ended=this.began=!1;this.startTime=0;this.mastervideotagurl=null;this.getVolume=function(){return this.adsManager_.getVolume()};this.setVolume=function(b){0>b&&(b=0);1<b&&(b=1);this.adsManager_&&this.adsManager_.setVolume(b);this.volume=b};t(this)}d.prototype.videoEl=function(){return this.videoContent_};d.prototype.dispatchEvent=function(h){return!1};d.prototype.initInternal=
function(h,b,k,g){var a=this;a.mastervideotagurl=h;a.width=b;a.height=k;a.options=g;var e=null;e=this.container_.ownerDocument.getElementById("adContainer");if(null==e)throw this.mm.log("Could not find adcontainer in initInternal"),Error("Could not find adcontainer in initInternal");a.initVideoElement();a.options.clickToPlay?(a.autoPlayChecked=!0,a.adDisplayContainer=new google.ima.AdDisplayContainer(e,a.videoContent_),a.adDisplayContainer.initialize(),a.startAdRequest(!1)):(a.autoPlayAdjustMuted(function(f){a.autoPlayChecked=
!0;a.adDisplayContainer=new google.ima.AdDisplayContainer(e,a.videoContent_);a.adDisplayContainer.initialize();a.startAdRequest(f.requiresMuted)}),a.videoContent_.load())};d.prototype.startAdRequest=function(h){var b=new google.ima.AdsLoader(this.adDisplayContainer);b.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);b.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"),!1);var k=new google.ima.AdsRequest;
k.adTagUrl=this.mastervideotagurl;k.linearAdSlotWidth=parseInt(""+16/9*(0+this.height));k.linearAdSlotHeight=this.height;k.nonLinearAdSlotWidth=parseInt(""+16/9*(0+this.height));k.nonLinearAdSlotHeight=this.height;k.forceNonLinearFullSlot=!0;k.setAdWillAutoPlay(!1);!0===this.options.muted||h?(k.setAdWillPlayMuted(!0),this.setMuted(!0)):(k.setAdWillPlayMuted(!1),this.setMuted(!1));b.requestAds(k)};d.prototype.onTimeout=function(){this.timeoutTimer_=null;this.end("error",null)};d.prototype.initVideoElement=
function(){var h=this.container_.ownerDocument,b=this.videoContent_;b.setAttribute("playsinline","true");b.style.left="0px";b.style.top="0px";b.style.position="absolute";b.style.width="100%";b.style.height="100%";h=h.createElement("source");h.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");h.setAttribute("type","video/mp4");b.appendChild(h);return b};d.prototype.autoPlayAdjustMuted=function(h){void 0===h&&(h=null);var b=this,k=!1,g=!1,a=b.videoContent_,e=function(){a.removeEventListener("error",
e);a.removeEventListener("canplay",f);for(var c=0;c<a.children.length;c++)"source"==a.children[c].tagName.toLowerCase()&&a.children[c].removeEventListener("error",e);g||(g=!0,b.setMuted(!0),h&&h({canAutoplay:!1,requiresMuted:!0}))},f=function(){a.removeEventListener("error",e);a.removeEventListener("canplay",f);for(var c=0;c<a.children.length;c++)"source"==a.children[c].tagName.toLowerCase()&&a.children[c].removeEventListener("error",e);k||(k=!0,b.mm.log("did not autoplay, so call play manually"),
c=a.play(),void 0!==c?c.then(function(){g||(g=!0,h&&h({canAutoplay:!0,requiresMuted:!1}))}).catch(function(c){b.mm.log("call to play prevented so had to mute");b.setMuted(!0);a.play().then(function(){g||(g=!0,h&&h({canAutoplay:!0,requiresMuted:!0}))}).catch(function(a){b.mm.log("call to play failed even when muted");g||(g=!0,h&&h({canAutoplay:!1,requiresMuted:!1}))})}):g||(g=!0,h&&h({canAutoplay:!0,requiresMuted:!1})))};a.addEventListener("error",f);a.addEventListener("canplay",f);for(var c=0;c<a.children.length;c++)"source"==
a.children[c].tagName.toLowerCase()&&a.children[c].addEventListener("error",e)};d.prototype.play=function(){this.adsManager_&&this.paused?(this.paused=!1,this.adsManager_.resume()):!this.adsManager_||this.began||this.ended||(this.adsManager_.start(),this.began=!0)};d.prototype.isSkippable=function(){return this.adsManager_?this.adsManager_.getAdSkippableState():!1};d.prototype.replay=function(){};d.prototype.pause=function(){this.paused||(this.adsManager_.pause(),this.pauseBeganTime=Date.now(),this.paused=
!0)};d.prototype.isPlaying=function(){return this.began&&!this.paused&&!this.ended};d.prototype.isPaused=function(){return this.paused};d.prototype.isMuted=function(){return this.muted};d.prototype.setMuted=function(h){window.navigator.userAgent&&window.navigator.userAgent.toLowerCase();this.adsManager_?h?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1):this.videoContent_&&(this.videoContent_.muted=h);this.muted=h};d.prototype.getSkipOffset=function(){return-1};d.prototype.setSkipOffset=
function(h){};d.prototype.getDuration=function(){return this.adsManager_&&"function"===typeof this.adsManager_.getDuration?this.adsManager_.getDuration():-1};d.prototype.getRemainingTime=function(){return this.adsManager_?this.adsManager_.getRemainingTime():0};d.prototype.close=function(){this.end("skipped")};d.prototype.init=function(h,b,k,g,a){this.width=k;this.height=g;this.options=a;this.container_=b;var e=b.ownerDocument,f=e.createElement("div");this.videoContainer_=f;f.style.position="relative";
f.id="CPMSTAR_VIDEOCONTAINER";f.style.position="absolute";f.style.left="0";f.style.top="0";f.style.bottom="0";f.style.right="0";f.style.zIndex="2147483638";f.style.backgroundColor="black";var c=e.createElement("video");c.id="contentElement";c.style.position="absolute";c.style.left="0";c.style.top="0";c.style.bottom="0";c.style.right="0";this.videoContent_=c;a.className&&c.classList.add(a.className);e=e.createElement("div");e.id="adContainer";this.adContainer_=e;b.appendChild(f);f.appendChild(c);f.appendChild(e);
this.videoContainer_=f;"undefined"!==typeof google&&"undefined"!=typeof google.ima?this.initInternal(h,k,g,a):(b="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this.mm.debug&&(b="https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js"),this.mm.getScript(b,this.initInternal.bind(this,h,k,g,a)));this.startFailsafeTimeout(15)};d.prototype.clearFailsafeTimeout=function(){this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};d.prototype.startFailsafeTimeout=function(h){this.clearFailsafeTimeout();
this.timeoutTimer_=window.setTimeout(this.onTimeout.bind(this),1E3*h)};d.prototype.end=function(h,b){b&&this.mm.log("VAST Error "+b.getError());this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null);null!=this.adsManager_&&(this.adsManager_.destroy(),this.adsManager_=null);this.videoContainer_&&this.container_&&(this.container_.removeChild(this.videoContainer_),this.videoContainer_=null);this.ended||(this.ended=!0,h&&"error"==h?this.dispatchEvent(p("error")):this.dispatchEvent(p("complete")))};
d.prototype.setSize=function(h,b){this.adsManager_&&this.adsManager_.resize(h,b,google.ima.ViewMode.NORMAL)};d.prototype.isVpaidMode=function(){return!0};d.prototype.onEvent=function(h,b){this.mm.log("Ad Event "+h+" "+(b?b:""));"AdLoaded"==h&&(this.mm.log("VPAID video became ready"),this.dispatchEvent(p("ready")));"AdStarted"==h&&this.dispatchEvent(p("start"));"AdVideoComplete"!=h&&"AllAdsCompleted"!=h||this.end("complete");"AdSkippableStateChange"==h&&this.dispatchEvent(p("skippablestatechange"));
"AdSkipped"!=h&&"AdStopped"!=h||this.end("skipped");"Paused"==h&&(this.paused=!0,this.play());"UserClose"==h&&this.end("userclose");"ContentResume"==h&&this.end("contentresume",b);"AdError"==h&&this.end("error",b);"Resumed"==h&&(this.paused=!1)};d.prototype.onAdsManagerLoaded=function(h){this.adsManager_=h.getAdsManager(this.videoContent_);this.adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.AD_METADATA,
this.onEvent.bind(this,"AdMetaData"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onEvent.bind(this,"AllAdsCompleted"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onEvent.bind(this,"AdVideoComplete"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onEvent.bind(this,"ContentResume"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onEvent.bind(this,"AdVideoFirstQuartile"));
this.adsManager_.addEventListener(google.ima.AdEvent.Type.LOADED,this.onEvent.bind(this,"AdLoaded"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onEvent.bind(this,"AdVideoMidpoint"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onEvent.bind(this,"Paused"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onEvent.bind(this,"Resumed"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onEvent.bind(this,
"AdSkippableStateChange"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onEvent.bind(this,"AdSkipped"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onEvent.bind(this,"AdVideoThirdQuartile"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onEvent.bind(this,"UserClose"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.STARTED,this.onEvent.bind(this,"AdStarted"));try{this.adsManager_.init(this.videoContainer_&&
this.videoContainer_.clientWidth?this.videoContainer_.clientWidth:this.width,this.videoContainer_&&this.videoContainer_.clientHeight?this.videoContainer_.clientHeight:this.height,google.ima.ViewMode.NORMAL)}catch(b){this.end("error",null)}this.muted?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1);this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};return d}();l.default=d},"./src/zonemasters/components/instreamvideo.ts":function(d,l,q){var t=this&&this.__extends||
function(){var b=function(k,g){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])};return b(k,g)};return function(k,g){function a(){this.constructor=k}b(k,g);k.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/components/supercomponent.ts"),u=q("./src/zonemasters/components/videoplayer.ts"),h=q("./src/zonemasters/components/imaplayer.ts");
d=function(b){function k(g,a){var e=b.call(this,g,a)||this;e.isHidden=!1;e.videoReady=!1;e.firstDetectViewable=!0;e.becameViewable=!1;e.renderAttempts=0;e.px_cr=null;e.pb_err=null;e.setvolume=void 0;e.defaultRequestKind="json";e.api.skip=function(){};e.api.setvolume=function(a){a.volume&&e&&e.videoObj&&e.videoObj.setVolume&&e.videoObj.setVolume(a.volume)};e.api.getduration=function(a){if(e&&e.videoObj&&e.videoObj.getDuration){var c=e.videoObj.getDuration();a.cb&&a.cb(function(){},c)}else a.fail&&
a.fail()};e.api.getremainingtime=function(a){if(e&&e.videoObj&&e.videoObj.getRemainingTime){var c=e.videoObj.getRemainingTime();a.cb&&a.cb(function(){},c)}else a.fail&&a.fail()};return e}t(k,b);k.prototype.isViewable=function(b,a){if(!1===this.module.options.requireViewable)return!0;b=b.getBoundingClientRect();a&&(b.height=a);var e=window.innerWidth;a=window.innerHeight;var f=document.documentElement.clientWidth,c=document.documentElement.clientHeight,m=e;e&&f&&(m=Math.min(e,f));null==m&&(m=f);null==
m&&(m=document.getElementsByTagName("body")[0].clientWidth);(e=a)&&c&&(e=Math.min(a,c));null==e&&(e=c);null==e&&(e=document.getElementsByTagName("body")[0].clientHeight);return 0<=b.top&&0<=b.left&&b.top+.6*b.height<=e&&b.left+.8*b.width<=m?!0:!1};k.prototype.testResponseValidity=function(b){var a=this;p.default.prototype.testResponseValidity.call(a,function(e){if(e)if(a.res.renderAd)switch(a.res.getAdTypeAvailable(a.module)){case "video":case "banner":case "editorial":e=!0;break;default:e=!1}else e=
a.res&&a.res.getResponseData?(e=a.res.getResponseData())&&e.creativemacros&&e.creativemacros.HTML5VID_VASTSTRING?!0:e&&e.creativemacros&&e.creativemacros.HTML5VID_ADX?!0:!1:!1;b(e)})};k.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.repeatElement&&(this.repeatElement.style.display="block"),this.muteElement&&
(this.muteElement.style.display="block"),this.playElement&&(this.playElement.style.display="block"),this.skipElement&&(this.skipElement.style.display="block"),this.closeElement&&(this.closeElement.style.display="block"),this.isHidden=!1)};k.prototype.hideContainer=function(){var b=this;this.isHidden||(b.outercontainer.classList.remove("cpmsvideoshow"),b.outercontainer.classList.add("cpmsvideohide"),b.repeatElement&&(b.repeatElement.style.display="none"),b.muteElement&&(b.muteElement.style.display=
"none"),b.playElement&&(b.playElement.style.display="none"),b.skipElement&&(b.skipElement.style.display="none"),b.closeElement&&(b.closeElement.style.display="none"),b.setTimeout(function(){b.outercontainer.style.display="none";b.isHidden=!0},700))};k.prototype.closing=function(){var b=this;null!=b.module.options.hideAfter&&b.videoObj&&0==b.videoObj.isVpaidMode()?b.hideTimer=b.setTimeout(function(){b.triggerEvent("hideafter");b.close()},b.module.options.hideAfter):b.close()};k.prototype.close=function(){this.triggerEvent("onclose");
this.videoObj&&this.videoObj.close();this.hideContainer()};k.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};k.prototype.attemptRenderPixel=function(b){if(this.outercontainer&&null!=b&&""!=b&&(0<=b.indexOf("http://")||0<=b.indexOf("https://")||0==b.indexOf("//")))try{var a=document.createElement("img");a.src=b;a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";
a.style.height="1px";this.outercontainer.appendChild(a);a.onload=function(){a.style.display="none";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";a.style.height="1px"}}catch(e){this.mm.log("Error hitting pixel: "+e)}};k.prototype.initVideoObj=function(b,a){void 0===a&&(a=!1);var e=this;e.playElement=document.createElement("div");e.muteElement=document.createElement("div");e.skipElement=document.createElement("div");e.videoObj=a?new h.default(this.mm):new u.default(this.mm);
e.videoObj.addEventListener("ready",function(a){e.videoReady=!0;e.module.options&&e.module.options.volume&&e.api.setvolume({volume:e.module.options.volume});e.module.div.style.visibility="visible";e.videoObj.play()});e.videoObj.addEventListener("start",function(){e.px_cr&&e.attemptRenderPixel(e.px_cr);e.showContainer();e.updateMuteElementCSSClass();e.muteElement.onclick=function(){e.videoObj.setMuted(!e.videoObj.isMuted());e.updateMuteElementCSSClass()};e.outercontainer.insertBefore(e.muteElement,
e.outercontainer.firstChild);e.playElement.className="cpmsvideopause";e.playElement.onclick=function(){e.videoObj.isPaused()?e.videoObj.play():e.videoObj.pause();e.playElement.className=e.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};e.outercontainer.insertBefore(e.playElement,e.outercontainer.firstChild);e.skipElement.className="cpmsskipad";e.skipElement.onclick=function(){e.videoObj.skip()};e.outercontainer.insertBefore(e.skipElement,e.outercontainer.firstChild);e.skipElement.style.display=
e.videoObj.isSkippable()?"":"none";e.triggerEvent("onstart")});e.videoObj.addEventListener("skippablestatechange",function(){e.skipElement.style.display=e.videoObj.isSkippable()?"":"none"});e.videoObj.addEventListener("error",function(){e.px_cr=null;e.pb_err=null;e.triggerEvent("onend");2>=e.renderAttempts?e.nextAd()?e.attemptRender(null):e.close():e.close()});e.videoObj.addEventListener("complete",function(){e.triggerEvent("onend");e.playElement.style.display="none";e.muteElement.style.display="none";
null==e.repeatElement&&!1!==e.module.options.replay&&0==e.videoObj.isVpaidMode()&&(e.repeatElement=document.createElement("div"),e.repeatElement.className="cpmsvideorepeat",e.repeatElement.onclick=function(){null!=e.hideTimer&&(e.hideTimer(),e.hideTimer=null);e.outercontainer.removeChild(e.repeatElement);e.repeatElement=null;e.videoObj.replay()},e.outercontainer.insertBefore(e.repeatElement,e.outercontainer.firstChild));e.closing()});e.onEvent(window,"orientationchange",e.updateVideoSize.bind(e));
e.onEvent(window,"resize",e.updateVideoSize.bind(e));e.videoObj.init(b,e.container,e.currentVideoSize.width,e.currentVideoSize.height,{clickPrefix:e.module.options.clickPrefix,muted:e.module.options.muted,forceSkippability:e.module.options.forceSkippability})};k.prototype.getBannerRenderTarget=function(){var b=this.module.div.getElementsByClassName("bannertarget")[0];return b?b:p.default.prototype.getRenderTarget.call(this)};k.prototype.measureVideoSize=function(){var b=null!=this.container&&0<this.container.clientHeight&&
0<this.container.clientWidth?this.container:this.outercontainer;return{width:b.clientWidth,height:b.clientHeight}};k.prototype.updateVideoSize=function(){var b=this;b.setTimeout(function(){b.currentVideoSize={width:b.outercontainer.clientWidth*b.originalVideoWidthRatio,height:b.outercontainer.clientHeight*b.originalVideoHeightRatio};b.videoObj.setSize(b.currentVideoSize.width,b.currentVideoSize.height)},200)};k.prototype.attemptRender=function(b){var a=this.getRenderTarget();this.mm.log("InstreamVideo - attemptRender");
this.renderAttempts++;if(this.res&&this.res.renderAd)switch(this.res.getAdTypeAvailable(this.module)){case "banner":case "editorial":this.render(this.getBannerRenderTarget(),this.onAdRendered.bind(this,b));break;case "video":this.mm.log("InstreamVideo - attemptRender - got ad type video");this.render(a,this.onAdRendered.bind(this,b));break;default:this.mm.log("InstreamVideo - unknown ad type ( default ad? returned)"),this.close()}else this.onAdRendered.call(this,b)};k.prototype.init=function(g,a){function e(){!f.becameViewable&&
f.isViewable(c,f.currentVideoSize.height)&&(f.becameViewable=!0,f.mm.log("video became viewable"),f.outercontainer.style.overflow="visible",f.attemptRender(a));f.firstDetectViewable=!1}console.log("LOG - instreamvideo.ts init called ");b.prototype.init.call(this,g,a);var f=this,c=this.getRenderTarget();f.module.div.style.visibility="hidden";f.outercontainer=c;f.container=f.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];null==f.container&&(f.container=f.outercontainer);f.currentVideoSize=
f.measureVideoSize();f.originalVideoWidthRatio=f.currentVideoSize.width/f.outercontainer.clientWidth;f.originalVideoHeightRatio=f.currentVideoSize.height/f.outercontainer.clientHeight;f.originalOuterContainerHeight=f.outercontainer.clientHeight;f.module.options&&f.module.options.startHidden&&(f.outercontainer.style.overflow="hidden",f.outercontainer.style.height="0px",f.isHidden=!0);f.onEvent(window,"DOMContentLoaded",e);f.onEvent(window,"load",e);f.onEvent(window,"resize",e);f.onEvent(window,"scroll",
e);f.onEvent(window,"orientationchange",e);f.setTimeout(function(){e()},0);f.setTimeout(function(){e()},500)};k.prototype.renderXButton=function(){var b=this;b.closeElement=document.createElement("div");b.closeElement.className="cpmsvideoclosebanner";b.closeElement.onclick=function(){b.close()};var a=this.getBannerRenderTarget();a||(a=b.outercontainer);a.appendChild(b.closeElement);b.closeElement.style.display="block"};k.prototype.onAdRendered=function(g){b.prototype.onAdRendered.call(this,g);this.mm.log("InstreamVideo - onAdRendered");
var a=this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0});this.mm.log("getAdTypeAvailable: "+a);switch(a){case "editorial":case "banner":this.module.div.style.visibility="visible";this.renderXButton();this.triggerEvent("onstart");break;case "video":case "json":this.mm.log(this.res.getResponseData);if(this.res.getResponseData){a=this.res.getResponseData();this.mm.log(a);if(a&&a.creativemacros.HTML5VID_ADX){this.initVideoObj(a.creativemacros.HTML5VID_ADX,!0);a.px_cr&&(this.px_cr=
a.px_cr);a.pb_err&&(this.pb_err=a.pb_err);return}if(a&&(this.mm.log("onAdRendered - calling initVideoObj for HTML5VID_VASTSTRING "+a.creativemacros.HTML5VID_VASTSTRING),this.initVideoObj(a.creativemacros.HTML5VID_VASTSTRING),this.module.options.forceSkippability||this.module.options.autoSkippability&&a.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g))){var e=0;a.creativemacros.HTML5VID_SKIPSECONDS&&(e=a.creativemacros.HTML5VID_SKIPSECONDS?1E3*a.creativemacros.HTML5VID_SKIPSECONDS:
0);0<e?this.videoObj.setSkipOffset(e):1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5))}}break;default:this.close()}g&&g()};return k}(p.default);l.default=d},"./src/zonemasters/components/onrpghotbox.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=function(l,h){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,k){b.__proto__=k}||function(b,k){for(var g in k)k.hasOwnProperty(g)&&
(b[g]=k[g])};return d(l,h)};return function(l,h){function b(){this.constructor=l}d(l,h);l.prototype=null===h?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0});d=function(d){function l(h,b){h=d.call(this,h,b)||this;h.maxMulti=5;h.fadeRate=0;h.hoverFadeRate=0;h.fadeOpacity=.5;h.fullOpacity=1;h.iterations=0;h.lastIterationTime=0;h.timer=null;h.hovering=!1;h.moved=0;return h}t(l,d);l.prototype.init=function(h){d.prototype.init.call(this,h);var b=this,
k=b.mm.$;h.getResponseData();var g=b.module.div;k(g).find(".hotbox_thumbs ul li:first").addClass("selected");b.lastIterationTime=(new Date).getTime();b.timer=b.setTimeout(function(){b.next()},7500);k(document).ready(function(){k(g).find(".hotbox_thumbs li div").each(function(){k(this).css("opacity",b.fadeOpacity)});k(g).find(".thumb_0 div").css("opacity",b.fullOpacity);var a=k(g).find(".hotbox-widget");a&&a.hover(function(){b.hovering=!0;null!=b.timer&&clearTimeout(b.timer);b.timer=null},function(){b.hovering=
!1;null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},5E3)});a=k(g).find(".hotbox_thumbs ul li");var e=null,f=null,c=k(g).find(".hotbox_items")[0];c.addEventListener("touchstart",function(a){e=a.touches[0].clientX;f=a.touches[0].clientY;b.moved=0});c.addEventListener("touchmove",function(a){if(null!=e&&null!=f){var c=a.touches[0].clientX-e;if(Math.abs(c)>Math.abs(a.touches[0].clientY-f)){a=k(b.module.div).find(".hotbox_items ul:first");var m=-(100*k(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/
4)+c/a[0].clientWidth*100+"%";a.animate({left:m},10,"linear");b.moved=Math.abs(c)}}});c.addEventListener("touchend",function(a){if(null!=e&&null!=f){var c=a.changedTouches[0].clientX-e;a=a.changedTouches[0].clientY-f;var m=k(b.module.div).find(".hotbox_items ul:first"),g=-(100*k(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/4)+"%";Math.abs(c)>Math.abs(a)&&Math.abs(c)>=m[0].clientWidth/16?0>c?b.next(1):b.next(-1):0<b.moved&&m.animate({left:g},10,"linear")}});a.hover(function(){null!=
b.timer&&clearTimeout(b.timer);b.timer=null;k(g).find(".hotbox_thumbs ul li div").css("opacity",b.fadeOpacity);k(g).find(".hotbox_thumbs ul li").removeClass("selected");k("div",this).fadeTo(b.hoverFadeRate,b.fullOpacity);k(this).addClass("selected");var a=k(g).find(".hotbox_items ul:first"),c=-288*k(this).index();a.stop();a.animate({top:c},350)},function(){k("img",this).fadeTo(b.fadeRate,b.fadeOpacity);null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},7500)})})};
l.prototype.next=function(h){var b=this.mm.$,k=this.module.div;if(null==h&&(this.iterations++,this.iterations&&16<this.iterations))return;null!=this.timer&&clearTimeout(this.timer);this.timer=null;var g=b(k).find(".hotbox_thumbs ul li.selected:first");g.removeClass("selected");b("div",g).fadeTo(this.fadeRate,this.fadeOpacity);var a=g;if(null==h||1==h)a=g.next(),0==a.length&&(a=b(k).find(".hotbox_thumbs ul li:first"));-1==h&&(a=g.prev(),0==a.length&&(a=b(k).find(".hotbox_thumbs ul li:last")));a.addClass("selected");
b("div",a).fadeTo(this.hoverFadeRate,this.fullOpacity);h=b(k).find(".hotbox_items ul:first");a=a.index();b(k).find(".hotbox_list").children();b=-(100*a/4)+"%";h.stop();h.animate({left:b},350)};return l}(q("./src/zonemasters/components/editorial.ts").default);l.default=d},"./src/zonemasters/components/scriptcomponent.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=function(h,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var a in g)g.hasOwnProperty(a)&&
(b[a]=g[a])};return d(h,b)};return function(h,b){function k(){this.constructor=h}d(h,b);h.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/components/supercomponent.ts");d=function(d){function h(b,k){return d.call(this,b,k)||this}t(h,d);h.prototype.request=function(b){b(this.init.bind(this,this.res))};h.prototype.init=function(b,k){p.default.prototype.init.call(this,b,k);b=this.module.options;this.getRequestData();
var g=k=null;null!=b&&(g=new Function(b.onsuccess),k=b.src,"string"===typeof k&&"/"===k[0]&&(k=(this.mm.proto?"//server":"//cdn")+".cpmstar.com"+k));null!=k&&this.mm.getScript(k,g)};return h}(p.default);l.default=d},"./src/zonemasters/components/segmentedvideo.ts":function(d,l,q){function t(a){var c=[];Object.keys(a).forEach(function(b){c.push({key:b,value:a[b]})});return c}var p=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,
c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,b)};return function(c,b){function f(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)}}();Object.defineProperty(l,"__esModule",{value:!0});var u=q("./src/zonemasters/components/supercomponent.ts"),h=q("./src/zonemasters/components/videoplayer.ts"),b=q("./src/zonemasters/components/imaplayer.ts"),k=function(){function a(a){this.ad=a;this.isHidden=this.outercontainer=
void 0;this.firstDetectViewable=!1;this.container=this.currentVideoSize=this.pb_err=this.px_cr=this.videoObj=this.originalVideoHeightRatio=this.originalVideoWidthRatio=this.module=this.hideTimer=this.skipElement=this.playElement=this.muteElement=this.repeatElement=void 0;this.finalizers=[];this.componentInstance=this.mm=this.originalOuterContainerHeight=void 0;this.halt=this.ready=!1;this.imaPlayer=void 0;var c=this;c.componentInstance=c.ad.componentInstance;c.container=c.ad.container;"mm module repeatElement skipElement playElement muteElement outercontainer isHidden module originalVideoWidthRatio originalVideoWeightRatio originalOuterContainerHeight finalizer currentVideoSize".split(" ").forEach(function(a){c[a]=
c.componentInstance[a]});c.componentInstance.module.options.preroll&&0==c.componentInstance.clipCount&&(a=c.getTitle(),c.componentInstance.updateTitle(a))}a.prototype.setVolume=function(a){this.videoObj&&this.videoObj.setVolume&&this.videoObj.setVolume(a)};a.prototype.setup=function(){var a=this.usesImaPlayer();this.imaPlayer=a;this.init(this.getVastString(),a);this.handlePlayerType(a)};a.prototype.handlePlayerType=function(a){var c,b,f;if(null===(f=null===(b=null===(c=this.ad)||void 0===c?void 0:
c.responseData)||void 0===b?void 0:b.creativemacros)||void 0===f?0:f.HALTREFRESH)this.halt=!0;a?(this.ad.responseData.px_cr&&(this.px_cr=this.ad.responseData.px_cr),this.ad.responseData.pb_err&&(this.pb_err=this.ad.responseData.pb_err)):this.module.options.autoSkippability&&this.ad.responseData.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g)&&(a=0,this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS&&(a=this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS?
1E3*this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS:0),0<a?this.videoObj.setSkipOffset(a):1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5)))};a.prototype.setMuted=function(a){this.componentInstance.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.componentInstance.videoObj&&this.ad.componentInstance.videoObj.setMuted(a)};
a.prototype.getTitle=function(){var a="";this.componentInstance.module.options.title?a=this.componentInstance.module.options.title:this.ad&&this.ad.responseData&&this.ad.responseData.creativemacros&&this.ad.responseData.creativemacros.title?a=this.ad.responseData.creativemacros.title:this.componentInstance.creativemacros&&this.componentInstance.creativemacros.title&&(a=this.componentInstance.creativemacros.title);return a};a.prototype.init=function(a,f){console.log("LOG - segmentedvideo.ts init called ");
var c=this;c.videoObj=f?new b.default(c.mm):new h.default(c.mm);c.videoObj.addEventListener("ready",function(a){c.ready=!0;c.module.options&&c.module.options.volume&&c.setVolume(c.module.options.volume);c.videoObj.watchdogOff&&"hb"==c.module.adRequest&&setTimeout(c.videoObj.watchdogOff.bind(c.videoObj),1E3);c.componentInstance.module.options&&c.componentInstance.module.options.intermittentAds&&1!=c.componentInstance.module.options.preroll&&c.videoObj&&0==c.videoObj.isPlaying()&&c.componentInstance.queueIntermittentAd(c.componentInstance.module.options.intermittentAds);
c.ad.readyCallback&&(a=c.ad.readyCallback,c.ad.readyCallback=void 0,c.ad.invalidCallback=void 0,a())});c.videoObj.addEventListener("start",function(){c.ad.componentInstance.hideSpinner();c.videoObj.watchdogOn&&"hb"==c.module.adRequest&&c.videoObj.watchdogOn(5);c.px_cr&&c.attemptRenderPixel(c.px_cr);c.outercontainer.insertBefore(c.muteElement,c.outercontainer.firstChild);c.showContainer();c.setMuted(c.componentInstance.isMuted);c.muteElement.onclick=function(){c.setMuted(!c.componentInstance.isMuted)};
c.outercontainer.insertBefore(c.muteElement,c.outercontainer.firstChild);c.playElement.className="cpmsvideopause";c.playElement.onclick=function(){c.videoObj.isPaused()?(c.videoObj.play(),c.componentInstance.userPlayState="playing"):(c.videoObj.pause(),c.componentInstance.userPlayState="paused");c.playElement.className=c.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};c.outercontainer.insertBefore(c.playElement,c.outercontainer.firstChild);c.outercontainer.insertBefore(c.repeatElement,c.outercontainer.firstChild);
c.module.options.repeat||(c.repeatElement.style.display="none");c.repeatElement.className="cpmsvideorepeat";c.repeatElement.addEventListener("click",function(){c.componentInstance.repeatVideo()});c.skipElement.className="cpmsvideoskip";c.skipElement.onclick=function(){c.videoObj.skip()};c.outercontainer.insertBefore(c.skipElement,c.outercontainer.firstChild);c.skipElement.style.display=c.videoObj.isSkippable()?"":"none";var a=c.getTitle();c.module.options.titleClass&&a&&c.componentInstance.updateTitle(a)});
c.videoObj.addEventListener("skippablestatechange",function(){c.skipElement.style.display=c.videoObj.isSkippable()?"":"none"});c.videoObj.addEventListener("error",function(a){c.mm.log("Error: "+JSON.stringify(a,function(a,c){return a+"..."}));0==c.ad.nextAd()&&(c.ad.isValid=!1,c.close())});c.videoObj.addEventListener("complete",function(){c.componentInstance.module.options&&c.componentInstance.module.options.preroll&&(c.componentInstance.module.options.preroll=!1);0==c.halt?(c.componentInstance.showSpinner(),
c.close()):(c.playElement.style.display="none",c.repeatElement.style.display="block")});c.onEvent(window,"orientationchange",c.updateVideoSize.bind(c));c.onEvent(window,"resize",c.updateVideoSize.bind(c));c.videoObj.init(a,c.container,c.currentVideoSize.width,c.currentVideoSize.height,{clickPrefix:c.module.options.clickPrefix,muted:c.ad.componentInstance.isMuted,className:c.module.options.videoClass})};a.prototype.getVastString=function(){return this.usesImaPlayer()?this.ad.responseData.creativemacros.HTML5VID_ADX:
this.ad.responseData.creativemacros.HTML5VID_VASTSTRING};a.prototype.usesImaPlayer=function(){return function(a,b){return a.every(function(a){return a!=b})?!1:!0}(Object.keys(this.ad.responseData.creativemacros),"HTML5VID_ADX")};a.prototype.setTimeout=function(a,b){a=window.setTimeout(a,b);a=window.clearTimeout.bind(window,a);this.addFinalizer(a);return a};a.prototype.onEvent=function(a,b,f,e){void 0===e&&(e=!1);var c=null;a.addEventListener?(a.addEventListener(b,f,e),c=function(a,c){this.removeEventListener(a,
c)}.bind(a,b,f)):a.attachEvent&&(a.attachEvent("on",b,f),c=function(c,m){this.detachEvent(c,m).bind(a,b,f)});this.addFinalizer(c)};a.prototype.addFinalizer=function(a){(this.finalizers=this.finalizers||[]).push(a)};a.prototype.attemptRenderPixel=function(a){if(this.outercontainer&&null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var c=document.createElement("img");c.src=a;this.outercontainer.appendChild(c);c.style.position="absolute";c.style.top="0px";c.style.left=
"0px";c.style.width="1px";c.style.height="1px";c.onload=function(){c.style.display="none";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width="1px";c.style.height="1px"}}catch(r){this.mm.log("Error hitting pixel: "+r)}};a.prototype.showContainer=function(){this.isHidden&&(this.outercontainer.style.height=""+this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=!1,this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"))};
a.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};a.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()()};a.prototype.close=function(){this.container.remove();this.videoObj.close();this.destroy();this.componentInstance.resume()};a.prototype.updateVideoSize=function(){var a=this;a.setTimeout(function(){var c={width:a.outercontainer.clientWidth*a.originalVideoWidthRatio,
height:a.outercontainer.clientHeight*a.originalVideoHeightRatio};c.width!=a.currentVideoSize.width&&c.width!=a.currentVideoSize.height&&(a.currentVideoSize=c,a.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height))},200)};a.prototype.hideContainer=function(){var a=this;a.isHidden||(a.outercontainer.classList.remove("cpmsvideoshow"),a.outercontainer.classList.add("cpmsvideohide"),a.setTimeout(function(){a.outercontainer.style.display="none";a.isHidden=!0},700))};return a}(),g=function(){function a(a,
b){this.mm=a;this.componentInstance=b;this.container=this.outercontainer=this.closeElement=this.module=this.adPlayer=this.responseData=this.response=this.request=void 0;this.isValid=!1;this.adtype="";this.invalidCallback=this.readyCallback=void 0;this.module=this.componentInstance.module;this.getAd()}a.prototype.nextAd=function(){var a=!1;void 0!=this.container&&this.container.remove();this.adPlayer&&this.adPlayer.videoObj&&(this.adPlayer.destroy(),this.adPlayer.videoObj.close());this.response&&this.response.nextAd&&
(a=this.response.nextAd(this.module),this.renderAd());return a};a.prototype.isReady=function(){var a=!1;this.isValid&&this.adPlayer&&this.adPlayer.videoObj&&(a=!0);return a};a.prototype.getRequest=function(){var a=this.mm.zonedata.requests[this.module.adRequest],b=a.kind?a.kind:"json";if(null==b)throw Error("Ad request kind was null.");b=this.mm.requestTypes[b];if(null==b)throw Error("Ad request type is not valid.");this.request=new b(this.mm);this.request.init(a)};a.prototype.createElement=function(a,
b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,b[a])});return c};a.prototype.createAdWrapper=function(){this.container=this.createElement("div",{id:"cpmsadwrapper"});this.componentInstance.hide(this.container);this.componentInstance.outercontainer.prepend(this.container)};a.prototype.adFrequency=function(){return Math.random()<this.componentInstance.adFrequency?!0:!1};a.prototype.play=function(){this.container&&(this.container.style.display="block");var a=this.adFrequency();
this.isValid&&this.adPlayer&&this.adPlayer.videoObj&&(a||0==this.componentInstance.clipCount&&this.module.options.preroll)?this.adPlayer.videoObj.play():this.close()};a.prototype.close=function(){void 0!=this.container&&this.container.remove();this.adPlayer&&this.adPlayer.videoObj&&this.adPlayer.videoObj.close();this.componentInstance.resume()};a.prototype.getBannerRenderTarget=function(){var a=this.module.div.getElementsByClassName("bannertarget")[0];return a?a:u.default.prototype.getRenderTarget.call(this)};
a.prototype.clearBanner=function(){setTimeout(this.close.bind(this),1E4)};a.prototype.formatResponseData=function(a){return"string"==typeof a?{creativemacros:{HTML5VID_VASTSTRING:a}}:a};a.prototype.onAdRendered=function(){var a=this;a.testResponseValidity(function(c){(a.isValid=c)?(a.responseData=a.formatResponseData(a.componentInstance.getResponse().getResponseData()),a.createAdWrapper(),a.adPlayer=new k(a),a.adPlayer.setup()):(a.invalidCallback&&(c=a.invalidCallback,a.invalidCallback=void 0,a.readyCallback=
void 0,c()),console.log("The response was not valid."))})};a.prototype.renderAd=function(){this.adtype=this.response.getAdTypeAvailable(this.module);switch(this.adtype){case "banner":case "editorial":this.response.renderAd(this.module,this.getBannerRenderTarget(),this.clearBanner.bind(this));break;case "video":this.response.renderAd(this.module,this.outercontainer,this.onAdRendered.bind(this));break;default:this.onAdRendered()}};a.prototype.testResponseValidity=function(a){var c=!1,b=this.componentInstance.getResponse();
if(null!=b&&"object"==typeof b)switch(b.getAdTypeAvailable(this.module)){case "editorial":case "banner":case "video":c=!0;break;default:c=!1}a(c)};a.prototype.getAd=function(){var a=this;a.getRequest();a.request.addCallback(a.componentInstance,function(c){a.response=c;a.componentInstance.setResponse(a.response);a.renderAd()})};return a}(),a=function(){function a(a){this.SegmentedVideo=a;this.index=0;this.queue=[];this.played=[]}a.prototype.isEnd=function(){return this.index==this.queue.length?!0:
!1};a.prototype.next=function(){this.SegmentedVideo.clipCount++;var a=void 0;if(this.isEnd())throw this.index=0,Error("There are no more videos to play.");this.index==this.queue.length-1&&void 0==this.SegmentedVideo.module.options.maxClips&&(void 0==this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxEpisodes&&this.SegmentedVideo.episodeCount<this.SegmentedVideo.module.options.maxEpisodes)?(a=this.queue[this.index++],this.index=0,this.SegmentedVideo.fetchNext()):
this.index==this.queue.length-1&&(this.SegmentedVideo.module.options.maxEpisodes&&this.SegmentedVideo.episodeCount>=this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxClips)?(a=this.queue[this.index++],this.index=0,this.queue=this.played.sort(function(a,c){return 5<10*Math.random()?1:-1}),this.queue[0]==a&&this.queue.push(this.queue.shift())):a=this.queue[this.index++];(1==this.SegmentedVideo.episodeCount&&1==this.index||this.SegmentedVideo.module.options.hdVideo)&&
a.urlHD&&(a={url:a.urlHD,subtitles:a.subtitles});return a};a.prototype.createQueue=function(a){var c=new RegExp(/^VIDEO[0-9]+$/),b=a.getResponseData().creativemacros;this.index=0;this.queue=Object.keys(b).filter(function(a){return c.test(a)}).map(function(a){var c=a.search(/[0-9]+/),f=void 0;-1!=c&&(f=b["SUBTITLES"+a.substr(c)]);return{key:a,url:b[a],urlHD:b[a+"_HD"],subtitles:f}}).sort(function(a,c){return parseInt(a.key.split(/[0-9]+/)[1])-parseInt(c.key.split(/[0-9]+/)[1])});this.SegmentedVideo.module.options.random&&
(this.queue=this.queue.sort(function(a,c){return 5<10*Math.random()?1:-1}));this.SegmentedVideo.module.options.maxClips&&(this.queue=this.queue.slice(0,this.SegmentedVideo.module.options.maxClips));this.SegmentedVideo.episodeCount++;this.played=this.played.concat(this.queue)};return a}(),e=function(){function a(){void 0==localStorage.getItem("cpmsvideoslider_paramRanges")&&this.reset()}a.prototype.getRanges=function(){return JSON.parse(localStorage.getItem("cpmsvideoslider_paramRanges"))};a.prototype.setRanges=
function(a){localStorage.setItem("cpmsvideoslider_paramRanges",JSON.stringify(a.sort()))};a.prototype.first=function(){return this.getRanges().sort().slice().pop()};a.prototype.reset=function(){localStorage.setItem("cpmsvideoslider_paramRanges","[]")};a.prototype.concatenateRanges=function(a,b){var c=[];c[0]=a[0]>=b[0]?a[0]:b[0];c[1]=a[1]<=b[1]?a[1]:b[1];return c};a.prototype.concatenateContinuousRanges=function(a){a=a.slice().sort();for(var b=0;b<a.length;++b)a[b+1]&&(this.contains(a[b][0],a[b+1])||
this.contains(a[b][1],a[b+1]))&&(a.splice(b,2,this.concatenateRanges(a[b],a[b+1])),a.sort(),--b);return a};a.prototype.set=function(a){var b=this.getRanges();b.push([a,--a]);this.setRanges(this.concatenateContinuousRanges(b))};a.prototype.contains=function(a,b){var c=!1;b&&b[0]>=a&&b[1]<=a&&(c=!0);return c};a.prototype.get=function(a){return this.compare(--a)};a.prototype.compare=function(a){var b=this.first();return b&&b[0]>=a?b[1]:a};return a}();d=function(b){function c(c,f){var n=b.call(this,c,
f)||this;n.isHidden=!1;n.videoReady=!1;n.firstDetectViewable=!0;n.becameViewable=!1;n.renderAttempts=0;n.px_cr=null;n.pb_err=null;n.playQueue=void 0;n.ad=void 0;n.spinner=void 0;n.spinnerTimeout=void 0;n.intermittentAdTimeout=void 0;n.isMuted=!0;n.clipEnded=!1;n.clipBegan=!1;n.existingOnScroll=void 0;n.titleEl=void 0;n.firstResponse=void 0;n.lastViewed=new e;n.requestParam=void 0;n.lastParam=!1;n.adFrequency=1;n.userPlayState="playing";n.pauseTarget=void 0;n.lastViewableState=void 0;n.episodeCount=
0;n.title="";n.bgEl=null;n.clipCount=0;n.creativemacros={};n.resumeTimer=void 0;n.numClipsShown=0;window.getCssByClass=n.getCssByClass;void 0!=f.options.adFrequency&&(n.adFrequency=f.options.adFrequency);f.options&&f.options.muted&&(n.isMuted=f.options.muted);n.defaultRequestKind="json";n.playQueue=new a(n);n.api.skinloaded=function(a){};n.api.skip=function(){};n.api.setvolume=function(a){a.volume&&n&&n.videoObj&&n.videoObj.setVolume&&n.videoObj.setVolume(a.volume)};n.api.getduration=function(a){if(n&&
n.videoObj&&n.videoObj.getDuration){var b=n.videoObj.getDuration();a.cb&&a.cb(function(){},b)}else a.fail&&a.fail()};n.api.getremainingtime=function(a){if(n&&n.videoObj&&n.videoObj.getRemainingTime){var b=n.videoObj.getRemainingTime();a.cb&&a.cb(function(){},b)}else a.fail&&a.fail()};return n}p(c,b);c.prototype.setVolume=function(a){this.api.setvolume({volume:a})};c.prototype.hideSpinner=function(){void 0!=this.spinnerTimeout&&(clearTimeout(this.spinnerTimeout),this.spinnerTimeout=void 0);void 0!=
this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=void 0);this.hide(this.spinner)};c.prototype.showSpinner=function(){var a=this;a.spinnerTimeout=setTimeout(function(){a.show(a.spinner);a.resumeTimer=setTimeout(function(){a.ad.isReady()?a.ad.close():a.resume()},5E3)},100)};c.prototype.setResponse=function(a){this.res=a};c.prototype.getResponse=function(){return this.res};c.prototype.isViewable=function(a,b){if(!1===this.module.options.requireViewable)return!0;a=a.getBoundingClientRect();
b&&(a.height=b);var c=window.innerWidth;b=window.innerHeight;var f=document.documentElement.clientWidth,e=document.documentElement.clientHeight,m=c;c&&f&&(m=Math.min(c,f));null==m&&(m=f);null==m&&(m=document.getElementsByTagName("body")[0].clientWidth);(c=b)&&e&&(c=Math.min(b,e));null==c&&(c=e);null==c&&(c=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=a.left&&a.top+.6*a.height<=c&&a.left+.8*a.width<=m?!0:!1};c.prototype.testResponseValidity=function(a){var c=this;b.prototype.testResponseValidity.call(c,
function(b){if(b)if(c.res.renderAd)switch(c.res.getAdTypeAvailable(c.module)){case "video":b=!0;break;default:b=!1}else b=c.res&&c.res.getResponseData?(b=c.res.getResponseData())&&b.creativemacros&&b.creativemacros.HTML5VID_VASTSTRING?!0:!1:!1;a(b)})};c.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=
!1)};c.prototype.hideContainer=function(){var a=this;a.isHidden||(a.outercontainer.classList.remove("cpmsvideoshow"),a.outercontainer.classList.add("cpmsvideohide"),a.setTimeout(function(){a.outercontainer.style.display="none";a.isHidden=!0},700))};c.prototype.close=function(){this.outercontainer.parentElement.classList.add("cpmsvideoslideroff");this.module.options&&this.module.options.nonViewableClasses?(window.onscroll=this.existingOnScroll,this.removeClasses(this.module.options.nonViewableClasses)):
(this.triggerEvent("onclose"),this.playQueue.queue=[],this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.close(),this.videoObj&&this.videoObj.close())};c.prototype.setMuted=function(a){this.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.isReady()&&this.ad.adPlayer.videoObj.setMuted(a)};c.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};
c.prototype.attemptRenderPixel=function(a){if(this.outercontainer&&null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";this.outercontainer.appendChild(b);b.onload=function(){b.style.display="none";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px"}}catch(n){this.mm.log("Error hitting pixel: "+
n)}};c.prototype.isPlayable=function(){return 0==this.playQueue.isEnd()?this.videoReady=!0:this.videoReady=!1};c.prototype.hide=function(a){a&&(a.style.display="none")};c.prototype.show=function(a,b){a&&(a.style.display=b?b:"block")};c.prototype.playAd=function(){clearTimeout(this.intermittentAdTimeout);this.videoObj.isPlaying()&&this.videoObj.pause();this.hide(this.videoObj.videoEl());this.hideSpinner();this.ad.play()};c.prototype.clear=function(){var a,b=null===(a=this.videoObj)||void 0===a?void 0:
a.videoEl();if(a=null===b||void 0===b?void 0:b.parentElement)this.module.options&&this.module.options.mobile&&(this.outercontainer.style.height=this.measureVideoSize().height.toString()+"px"),a.remove()};c.prototype.restart=function(){this.lastParam?this.playQueue.createQueue(this.firstResponse):this.playQueue.index=0;this.lastParam&&this.module.playPrevious&&this.setParam(this.firstResponse.getResponseData().creativemacros[this.module.playPrevious]);this.play()};c.prototype.setCreativemacros=function(a){a.getResponseData().creativemacros&&
(this.creativemacros=a.creativemacros)};c.prototype.handleResponse=function(a){var b=this;b.setResponse(a);b.testResponseValidity(function(c){c?(b.setCreativemacros(a),b.playQueue.createQueue(a)):(b.lastParam=!0,b.lastViewed.reset(),b.responseValid=c)})};c.prototype.fetchNext=function(){this.requestParam&&this.module.playPrevious&&this.mm.zonedata.requests[this.module.request]&&this.mm.zonedata.requests[this.module.request].params&&this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]&&
(this.lastViewed.set(this.requestParam),this.setParam(this.lastViewed.get(--this.requestParam)),this.module.requestInstance.addCallback(this,this.handleResponse.bind(this)))};c.prototype.play=function(){this.hideSpinner();0==this.videoObj.isPlaying()&&(0<this.playQueue.queue.length?(this.videoObj.resetQuartiles(),this.videoObj.playUrl(this.playQueue.next())):this.close())};c.prototype.queueIntermittentAd=function(a){this.intermittentAdTimeout=setTimeout(this.playAd.bind(this),1E3*a)};c.prototype.onVideoClick=
function(){var a=this;a.container.addEventListener("click",function(b){"VIDEO"==b.target.nodeName&&a.videoObj.isPlaying()&&(b.stopPropagation(),b.preventDefault(),a.setMuted(!a.isMuted))})};c.prototype.getTitle=function(){var a=void 0;this.module.options.title?a=this.module.options.title:this.creativemacros&&this.creativemacros.title&&(a=this.creativemacros.title);return a};c.prototype.updateTitle=function(a){a&&this.titleEl&&(this.titleEl.innerText=a)};c.prototype.repeatVideo=function(){this.playElement.style.display=
"block";this.module.options.repeat||(this.repeatElement.style.display="none");this.videoObj&&this.videoObj.isPlaying()?(this.videoObj.setBegan(!0),this.videoObj.replay()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&0==this.ad.adPlayer.imaPlayer&&(this.ad.adPlayer.videoObj.setBegan(!0),this.ad.adPlayer.videoObj.replay())};c.prototype.initVideoObj=function(a,b){void 0===b&&(b=!1);var c=this;c.module.options.titleClass&&(c.titleEl=c.createElement("h2",{class:c.module.options.titleClass}),c.outercontainer.insertAdjacentElement("beforebegin",
c.titleEl));["playElement","muteElement","skipElement","repeatElement"].forEach(function(a){c[a]=document.createElement("div")});c.videoObj=new h.default(this.mm);c.videoObj.addEventListener("ready",function(a){c.module.options&&c.module.options.volume&&c.setVolume(c.module.options.volume);c.onVideoClick();c.ad=new g(c.mm,c);if(!0===c.module.options.preroll)c.playPreroll();else if(c.isPlayable())c.play();else throw c.close(),Error("There was no video to play.");});c.videoObj.addEventListener("start",
function(){c.hideSpinner();c.clipBegan=!0;c.clipEnded=!1;c.setMuted(c.isMuted);c.module.options.titleClass&&(c.title=c.getTitle(),c.updateTitle(c.title));c.showContainer();c.muteElement.onclick=function(){c.setMuted(!c.isMuted)};c.outercontainer.insertBefore(c.repeatElement,c.outercontainer.firstChild);c.module.options.repeat||(c.repeatElement.style.display="none");c.repeatElement.className="cpmsvideorepeat";c.repeatElement.addEventListener("click",function(){c.repeatVideo()});c.outercontainer.insertBefore(c.muteElement,
c.outercontainer.firstChild);c.playElement.className="cpmsvideopause";c.playElement.onclick=function(){c.videoObj.isPaused()?(c.videoObj.play(),c.userPlayState="playing"):(c.videoObj.pause(),c.userPlayState="paused");c.playElement.className=c.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};c.outercontainer.insertBefore(c.playElement,c.outercontainer.firstChild);c.module.options.skippable&&(c.skipElement.className="cpmsvideoskip",c.skipElement.style.removeProperty("display"),c.outercontainer.insertBefore(c.skipElement,
c.outercontainer.firstChild),c.skipElement.onclick=function(){c.videoObj.close()})});c.videoObj.addEventListener("skippablestatechange",function(){c.skipElement.style.display=c.videoObj.isSkippable()?"":"none"});c.videoObj.addEventListener("error",function(){c.close()});c.videoObj.addEventListener("complete",function(){c.clipEnded=!0;c.clipBegan=!1;c.clear();c.showSpinner();c.intermittentAdTimeout&&clearTimeout(c.intermittentAdTimeout);c.ad.isReady()?c.ad.play():0==c.playQueue.isEnd()?c.resume():
c.playQueue.isEnd()&&c.module.options.restart?c.restart():c.close()});c.onEvent(window,"orientationchange",c.updateVideoSize.bind(c));c.onEvent(window,"resize",c.updateVideoSize.bind(c));c.videoObj.initializeForUrl(c.container,c.currentVideoSize.width,c.currentVideoSize.height,{clickPrefix:c.module.options.clickPrefix,muted:c.isMuted,className:c.module.options.videoClass})};c.prototype.measureVideoSize=function(){var a=null!=this.container&&0<this.container.clientHeight&&0<this.container.clientWidth?
this.container:this.outercontainer;return{width:a.clientWidth,height:a.clientHeight}};c.prototype.updateVideoSize=function(){var a=this;a.setTimeout(function(){a.currentVideoSize={width:a.outercontainer.clientWidth*a.originalVideoWidthRatio,height:a.outercontainer.clientHeight*a.originalVideoHeightRatio};a.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height);a.ad.isReady()&&a.ad.adPlayer.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height)},200)};c.prototype.attemptRender=
function(a){if("video"==this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0}))this.initVideoObj(this.res.getResponseData().creativemacros.HTML5VID_VASTSTRING);else throw Error("The ad type was not video.");a&&a()};c.prototype.playPreroll=function(){this.ad&&this.ad.isReady()?this.ad.play():(this.ad.readyCallback=this.ad.play.bind(this.ad),this.ad.invalidCallback=this.resume.bind(this))};c.prototype.unpause=function(a){this.pauseTarget=void 0;this.playElement.classList.replace("cpmsvideoplay",
"cpmsvideopause");"content"==a&&this.videoObj&&this.videoObj.isPaused()?this.videoObj.play():"ad"==a&&this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPaused()&&this.ad.adPlayer.videoObj.play()};c.prototype.resume=function(){this.module.options.maxclipcount<=this.numClipsShown?this.close():(this.numClipsShown++,sessionStorage&&sessionStorage.setItem("cpmstar_clipcount",""+this.numClipsShown),this.ad.getAd(),0==this.videoObj.isPlaying()&&0==this.clipEnded&&1==this.clipBegan?
(this.show(this.videoObj.videoEl()),this.hideSpinner(),this.unpause("content")):this.isPlayable()?this.play():this.close())};c.prototype.between=function(a,c,b){return a>c&&a<b};c.prototype.isInView=function(a){a=a.getBoundingClientRect();return(this.between(a.top,0,window.innerHeight||document.documentElement.clientHeight)||this.between(a.bottom,0,window.innerHeight||document.documentElement.clientHeight))&&(this.between(a.left,0,window.innerWidth||document.documentElement.clientWidth)||this.between(a.right,
0,window.innerWidth||document.documentElement.clientWidth))};c.prototype.getElementAttributes=function(a){return a.getAttributeNames().reduce(function(c,b){c[b]=a.getAttribute(b);return c},{})};c.prototype.createElement=function(a,c){var b=document.createElement(a);Object.keys(c).forEach(function(a){b.setAttribute(a,c[a])});return b};c.prototype.applyClasses=function(a){t(a).forEach(function(a){try{document.querySelector(a.key).classList.add(a.value)}catch(n){console.log(n.toString?n.toString():JSON.stringify(n))}})};
c.prototype.removeClasses=function(a){t(a).forEach(function(a){try{document.querySelector(a.key).classList.remove(a.value)}catch(n){console.log(n.toString?n.toString():JSON.stringify(n))}})};c.prototype.hasClasses=function(a){return t(a).reduce(function(a,c){var b=document.querySelector(c.key);b&&(a=a||b.classList.contains(c.value));return a},!1)};c.prototype.copySizeAndPosition=function(a,c){var b=document.defaultView.getComputedStyle(c,"");"top bottom right left position display margin marginTop marginRight marginLeft marginBottom padding paddingRight paddingLeft paddingTop paddingBottom width height maxHeight maxWidth".split(" ").forEach(function(c){a.style[c]=
b[c]})};c.prototype.toggleNonViewableClasses=function(a){var c=this.hasClasses(this.module.options.nonViewableClasses);a||0!=c?a&&c&&this.removeClasses(this.module.options.nonViewableClasses):this.applyClasses(this.module.options.nonViewableClasses)};c.prototype.toggleAdFrequency=function(a){void 0!=this.module.options.adFrequency&&this.module.options.adFrequency<this.module.options.adVisibility||(this.adFrequency=0==a?this.module.options.adVisibility:void 0!=this.module.options.adFrequency?this.module.options.adFrequency:
1)};c.prototype.pause=function(){this.playElement.classList.replace("cpmsvideoplay","cpmsvideopause");this.videoObj&&this.videoObj.isPlaying()?(this.pauseTarget="content",this.videoObj.pause()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPlaying()&&(this.pauseTarget="ad",this.ad.adPlayer.videoObj.pause())};c.prototype.toggleContent=function(){"playing"==this.userPlayState&&void 0==this.pauseTarget?this.pause():"playing"==this.userPlayState&&void 0!=this.pauseTarget&&
this.unpause(this.pauseTarget)};c.prototype.onNonViewable=function(){var a=this,c=a.outercontainer.parentElement;if(a.module.options.nonViewableClasses||void 0!=a.module.options.adVisibility||a.module.options.contentVisibility){var b=a.createElement(c.tagName,{id:"cpmstarvideosliderplaceholder"});a.copySizeAndPosition(b,c);b.style.boxSizing="content-box";var f=c.parentNode;f.insertBefore(b,c);b.append(f.removeChild(c));a.existingOnScroll=window.onscroll;var e=a.isInView(b);a.lastViewableState=e;c=
function(){a.existingOnScroll&&a.existingOnScroll();e=a.isInView(b);if(a.lastViewableState!=e||0==a.becameViewable)a.lastViewableState=e,a.module.options.nonViewableClasses&&(a.becameViewable=!0,a.toggleNonViewableClasses(e),a.updateVideoSize.call(a)),void 0!=a.module.options.adVisibility&&a.toggleAdFrequency(e),a.module.options.contentVisibility&&a.toggleContent()};window.onscroll=c;c()}};c.prototype.setParam=function(a){this.requestParam=parseInt(a.toString());this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]=
this.requestParam};c.prototype.request=function(a,c){if(this.module.options.maxclipcount){try{var f=sessionStorage.getItem("cpmstar_clipcount");f&&(this.numClipsShown=parseInt(f),isNaN(this.numClipsShown)&&(this.numClipsShown=0))}catch(H){}if(this.numClipsShown>=this.module.options.maxclipcount){c&&c();return}}if(this.module.options.sessionclose)try{var e=window.sessionStorage.getItem("cpmstar_videoclosed");if(null!=e&&""!=e&&parseInt(e)>(new Date).getTime()-864E5){c&&c();return}}catch(H){}b.prototype.request.call(this,
a,c)};c.prototype.init=function(a,c){function f(){!e.becameViewable&&e.isViewable(g,e.currentVideoSize.height)&&(e.becameViewable=!0,e.outercontainer.style.overflow="visible",e.attemptRender(c),e.onNonViewable());e.firstDetectViewable=!1}b.prototype.init.call(this,a,c);var e=this;e.playQueue.createQueue(a);e.firstResponse=a;e.creativemacros=a.getResponseData().creativemacros;e.module.playPrevious&&e.creativemacros&&e.creativemacros[e.module.playPrevious]&&e.setParam(e.creativemacros[e.module.playPrevious]);
var g=e.getRenderTarget();e.outercontainer=g;e.container=e.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];document.querySelector("#cpmstarvideosliderclose").addEventListener("click",function(a){e.$el.classList.add("cpmsvideoslideroff");if(e.module.options.sessionclose)try{window.sessionStorage.setItem("cpmstar_videoclosed",""+(new Date).getTime())}catch(x){}setTimeout(e.close.bind(e),1E3)});null==e.container&&(e.container=e.outercontainer);e.spinner=e.container.querySelector("#cpmstarloadspinner");
e.currentVideoSize=e.measureVideoSize();e.originalVideoWidthRatio=e.currentVideoSize.width/e.outercontainer.clientWidth;e.originalVideoHeightRatio=e.currentVideoSize.height/e.outercontainer.clientHeight;e.originalOuterContainerHeight=e.outercontainer.clientHeight;e.module.options&&e.module.options.startHidden&&(e.outercontainer.style.overflow="hidden",e.outercontainer.style.height="0px",e.isHidden=!0);e.module.options.nonViewableClasses?(e.attemptRender(c),e.onNonViewable()):(e.onEvent(window,"DOMContentLoaded",
f),e.onEvent(window,"load",f),e.onEvent(window,"resize",f),e.onEvent(window,"scroll",f),e.onEvent(window,"orientationchange",f),e.setTimeout(function(){f()},0),e.setTimeout(function(){f()},500))};return c}(u.default);l.default=d},"./src/zonemasters/components/siteskin.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=function(h,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var a in g)g.hasOwnProperty(a)&&(b[a]=g[a])};return d(h,
b)};return function(h,b){function k(){this.constructor=h}d(h,b);h.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/components/supercomponent.ts");d=function(d){function h(b,k){b=d.call(this,b,k)||this;b.cpmstar_siteskin_settings=null;b.contentOriginalMarginTop=NaN;b.adMarginTop="218px";b.lightboxIframe=null;b.vidClosed=!1;b.popping=!1;b.video=null;b.videoCloseX=null;b.videoPopoutDiv=null;return b}t(h,
d);h.prototype.init=function(b,k){var g;p.default.prototype.init.call(this,b,k);var a=this;b=this.module.options;k=99999;var e="985px",f=null,c=1,h="0px",d=this.getRequestData();if(null!=b){k=null!==(g=b.zIndex)&&void 0!==g?g:99999;g=this.getFirstSelector(b.cssSelector);e=b.centerWidth?b.centerWidth:g?g.clientWidth:"985px";f=d?d.poolid:null;f=d&&d.poolid?d.poolid:"?";c=b.fixed?b.fixed:"1";h=this.getTop(!1);var n=b.stickyPadding?b.stickyPadding:0;var l=b.footerHeight?b.footerHeight:0;a.adMarginTop=
b.marginTop?b.marginTop:"218px"}a.cpmstar_siteskin_settings={pid:f,centerWidth:e,fixed:c,topPos:h,zIndex:k,stickyPadding:n,footerHeight:l,root:a.module.options.useModuleDiv?a.module.div:void 0};g=this.getRenderTarget();this.module.adUnitPath&&(g.id=this.module.adUnitPath);g=a.res.getAdTypeAvailable(a.module);switch(g){case "premium":var u=this.skinTag=document.createElement("div");this.getRenderTarget().appendChild(u);if(a.res.renderAd){var q=a.res.renderAd;q(a.module,u,a.onAdRendered.bind(a))}break;
case "banner":a.res.renderAd&&0==b.dual?(q=a.res.renderAd,u=a.createSkinTag(),q(a.module,u,a.onAdRendered.bind(a))):a.res.renderAd&&1==b.dual&&(q=a.res.renderAd,u=a.createSkinTag(),q(a.module,u,function(c){q(a.module,u,function(b){a.onAdRendered.call(a,[c,b])})}));break;case "json":a.res.renderAd&&a.res.renderAd(a.module,null);a.onAdRendered();break;default:a.mm.log("Error - invalid adtype: "+g+" for skin component")}};h.prototype.pxToNumber=function(b){b=/([0-9.]+)(px)?/.exec(b);if(null==b||""==
b[1])throw Error("siteskin.pxToNumber - Error: Pixel input was not formatted correctly.");return parseInt(b[1])};h.prototype.getFirstSelector=function(b){if(null==b)return null;if(Array.isArray(b))for(var k=0;k<b.length;k++){var g=document.querySelector(b[k]);if(g&&g.style&&"none"!=g.style.display)return g}else return document.querySelector(b)};h.prototype.getTop=function(b,k){var g;void 0===b&&(b=!0);void 0===k&&(k=!1);var a=this.module.options,e="0px";a.headerSelector&&b?(b=this.getFirstSelector(a.headerSelector))?
(e=b.clientHeight+"px",k&&(e=Math.max(b.getBoundingClientRect().bottom,0)+"px")):e=null!==(g=a.top)&&void 0!==g?g:"0px":a.top&&(e=a.top);return e};h.prototype.createSkinTag=function(){var b,k=this,g=this.module.options,a=this.getTop(!1),e=k.getFirstSelector(g.cssSelector);e=g.centerWidth?g.centerWidth:e?e.clientWidth:"985px";var f=g.responsive?g.responsive:"",c=null!==(b=g.zIndexHD)&&void 0!==b?b:0;b=k.skinTag=document.createElement("div");var h=k.skinWrapper=b;k.mm.isMobile()||!1!==k.module.options.alwaysclip?
(k.skinWrapper=h=document.createElement("div"),h.style.overflow="hidden",h.style.left="0",h.style.top="0",h.style.height="1080px",h.style.width="100%",h.style.position="fixed",h.style.zIndex="0",h.style.transform="translate3d(0,0,0)",b.style.position="absolute",h.appendChild(b)):(b.style.position="fixed",h=k.skinWrapper=b);b.style.width="1920px";b.style.height="1080px";b.style.marginLeft="-960px";b.style.left="50%";h.style.setProperty("top",a,g.topImportant?"important":"");if(g.sticky&&!g.headerSelector)a=
function(){var a=0<window.scrollY?"0px":k.getTop(!0,!0);h.style.setProperty("top",a,g.topImportant?"important":"")},a(),window.addEventListener("scroll",a);else if(g.sticky&&g.headerSelector){var d=function(){var a=k.getTop(!0,!0);h.style.setProperty("top",a,g.topImportant?"important":"")};d();window.addEventListener("scroll",d);a=Array.isArray(g.headerSelector)?g.headerSelector:[g.headerSelector];for(var n=0;n<a.length;n++){var l=k.getFirstSelector(a[n]);l&&"undefined"!=typeof MutationObserver&&
(new MutationObserver(function(){setTimeout(d,0)})).observe(l,{attributes:!0,childList:!1,subtree:!1})}}b.style.transformOrigin="center top";b.parentElement.style.zIndex=c;b.style.display="block";1==g.dual||k.mm.isMobile()||(c=1,g.noscale||(g.scaleFactor&&(c=g.scaleFactor),c*=k.contentScalar(e)),k.scaleEl(b,c));this.getRenderTarget().appendChild(h);f&&k.resizeToContent(k.res.getResponseData?k.res.getResponseData():null,g);return b};h.prototype.contentScalar=function(b){var k=this.res.getResponseData?
this.res.getResponseData():null;b=/([0-9]+)(px)?/.exec(b);if(null==b||""==b[1])throw Error("siteskin.ts - Error: 'centerWidth' was not defined correctly.");b=parseInt(b[1]);var g=1056;k&&k.creativemacros&&k.creativemacros.IMAGE1800X1000&&(g=988);return b==document.body.clientWidth?1:b/g-.001};h.prototype.scaleEl=function(b,k){b.style.transform="scale("+k+")";this.pushdown(k)};h.prototype.numberToPx=function(b){return b.toString()+"px"};h.prototype.pushdown=function(b){var k,g=this.module.options,
a=null!==(k=this.getFirstSelector(g.cssSelector?g.cssSelector:"body"))&&void 0!==k?k:document.body;a!=document.body&&(this.contentOriginalMarginTop=isNaN(this.contentOriginalMarginTop)?parseInt(getComputedStyle(a).marginTop):this.contentOriginalMarginTop,isNaN(this.contentOriginalMarginTop)&&(this.contentOriginalMarginTop=0),b=Math.ceil(this.pxToNumber(this.adMarginTop)*b)-2,0!=b&&g.transition&&(a.style.transition="0.7s ease-in-out",setTimeout(function(){a.style.removeProperty("transition")},1E3)),
a.style.marginTop=this.numberToPx(this.contentOriginalMarginTop+b))};h.prototype.checkVisible=function(b){b=b.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)};h.prototype.popOut=function(){var b=this;b.popping=!0;setTimeout(function(){b.popping=!1},500);b.mm.log("clear interval popOut()");clearInterval(b.timer);b.video.querySelector("#CPMStarVideoCounter").innerHTML=
"";b.mm.log("watch me pop out");var k=b.video;if(b.module.options.loopFor){var g=document.querySelector("#CPMStarSkinVideoTag"),a=parseInt(b.module.options.loopFor);parseInt(document.querySelector("#videoIterations").innerHTML)>=a&&g.play()}g=.95*window.innerHeight;a=.95*window.innerWidth;var e=a/-2,f=(window.innerHeight-.95*window.innerHeight)/2;b.module.options.gamestream&&(a=.75*window.innerWidth,f=(window.innerHeight-g)/2,g=.5625*a,e=a/-2,k=document.createElement("div"),k.style.backgroundColor=
"rgba(0,0,0,0.75)",k.innerHTML="<div style='position:absolute; top:30%; width:100%; z-index:-1'><div style='margin:0 auto; font-size:16px; text-align:center'>Loading Game<br/>Please Wait</div></div>",a=document.createElement("div"),a.style.cssText="position: absolute; border: 1px; background-color: #dd0000; opacity: .8;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 0px; right: 0px; font-size: 20px; cursor: pointer;",a.innerHTML="&nbsp;x&nbsp;",b.onEvent(a,"click",
b.closeCPMStarVideo.bind(b)),k.appendChild(a),null==b.lightboxIframe&&(b.lightboxIframe=document.createElement("iframe"),b.lightboxIframe.src="https://gamestream.bioniclogic.com"),a=.75*window.innerWidth,f=(window.innerHeight-g)/2,g=.5625*a,e=a/-2,b.lightboxIframe.width=""+a,b.lightboxIframe.height=""+g,b.lightboxIframe.scrolling="no",b.lightboxIframe.style.visibility="hidden",setTimeout(function(){b.lightboxIframe.style.visibility="visible"},1200),k.appendChild(b.lightboxIframe));k.style.height=
g+"px";k.style.width=a+"px";k.style.marginLeft=e+"px";k.style.left="50%";k.style.top=f+"px";k.style.position="fixed";if(g=b.videoCloseX)g.style.display="block",g.style.right="10px",g.style.fontSize="20px";document.body.style.overflowY="hidden";document.body.appendChild(b.videoPopoutDiv);b.videoPopoutDiv&&k&&(k.parentNode&&k.parentNode.removeChild(k),b.videoPopoutDiv.appendChild(k))};h.prototype.popIn=function(){var b=this.getFirstSelector(this.module.options.cssSelector);if(!this.popping){this.mm.log("watch me pop in");
var k=this.video,g=parseInt(b.style.marginTop);b=1.78*parseInt(b.style.marginTop);k.style.height=g+"px";k.style.width=b+"px";k.style.marginLeft=b/-2+"px";k.style.position="absolute";k.style.top="0";this.pop();document.body.style.overflowY&&document.body.style.removeProperty("overflow-y");if(this.videoPopoutDiv&&k&&k.parentNode==this.videoPopoutDiv){for(;this.videoPopoutDiv.firstChild;)this.videoPopoutDiv.removeChild(this.videoPopoutDiv.firstChild);this.skinTag&&this.skinTag.appendChild(k)}this.videoPopoutDiv&&
this.videoPopoutDiv.parentNode==document.body&&document.body.removeChild(this.videoPopoutDiv)}};h.prototype.pop=function(){var b=this.res.getResponseData?this.res.getResponseData():null,k=this.video;if(k){var g=this.module.options,a=g.pop,e=g.popHidden,f=g.cssSelector;if(!(parseInt(k.style.height)>parseInt(document.querySelector(f).style.marginTop)||!a&&!e)){a=0<parseInt(document.querySelector(g.cssSelector).style.marginTop)?parseInt(document.querySelector(g.cssSelector).style.marginTop):255;if(window.scrollY>
parseInt(g.marginTop)&&!this.vidClosed){this.mm.log("pop: Video no longer visible");e&&(k.style.visibility="hidden");k.style.position="fixed";var c=this.module.options.railVideoBottom?String(parseInt(this.module.options.railVideoBottom)):"10";c+="px";var h=this.module.options.railVideoRight?String(parseInt(this.module.options.railVideoRight)):String(-1*(-1*h+d));h+="px";k.style.bottom=c;k.style.top="";parseInt(document.querySelector(f).clientWidth);var d;k.style.right=h;k.style.removeProperty("left");
k.style.removeProperty("marginLeft");if(k=this.videoCloseX)k.style.display="block",k.style.right="5px"}else if(this.mm.log("pop: Video visible again"),e&&(k.style.visibility="visible"),k.style.position="absolute",k.style.removeProperty("bottom"),k.style.top="0px",k.style.removeProperty("right"),k.style.marginLeft=1.78*a/-2+"px",k.style.left=null!==(c=b.creativemacros.VIDEOLEFT)&&void 0!==c?c:this.module.options.videoLeft?this.module.options.videoLeft:"50%",k=this.videoCloseX)k.style.display="none";
document.body.style.overflowY&&document.body.style.removeProperty("overflow-y")}}};h.prototype.vidmousein=function(){var b=this,k=b.video.querySelector("#CPMStarVideoCounter");if("3"!=k.innerHTML&&"2"!=k.innerHTML&&"1"!=k.innerHTML&&!b.popping){clearInterval(b.timer);k.innerHTML="3";var g=3;b.timer=setInterval(function(){g--;0>=g?b.popOut():k.innerHTML=""+g},1E3)}};h.prototype.vidmouseout=function(){clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.module.options.gamestream||
this.popIn()};h.prototype.closeCPMStarVideo=function(){this.vidClosed=!0;this.vidmouseout();clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.popIn()};h.prototype.getOrientation=function(){var b;if(window.matchMedia("(orientation: portrait)").matches)return"portrait";if(window.matchMedia("(orientation: landscape)").matches)return"landscape";var k=null===(b=window.screen)||void 0===b?void 0:b.orientation.angle;if(0===k||180===k)return"portrait";if(90===k||
270===k)return"landscape"};h.prototype.onAdRendered=function(b){var k,g,a=this,e=this.module.options,f=a.res.getResponseData?a.res.getResponseData():null,c=this.getFirstSelector(e.cssSelector),h=null!==(k=e.centerWidth)&&void 0!==k?k:c?c.clientWidth:"985px";c=a.res.getAdTypeAvailable(a.module);k=null!==(g=e.responsive)&&void 0!==g?g:"";if("premium"!=c){if("banner"==c&&void 0!=e.dual&&void 0!=b){if(1!=e.dual)throw Error("siteskin.onAdRendered: The module property 'options.dual' is invalid. [ true, false ]");
if(void 0==b)throw Error("siteskin.onAdRendered: The 'ads' input is undefined.");g=(g=this.getFirstSelector(e.cssSelector))?g.getBoundingClientRect().left:0;c=a.pxToNumber(window.getComputedStyle(b[0]).getPropertyValue("width"));b[0].style.marginLeft=a.numberToPx((1800-document.body.clientWidth)/2+g-c);b[1].style.marginLeft=a.numberToPx(h)}else if("json"==c&&f.click&&f.creativemacros&&(f.creativemacros.IMAGE1800X1000||f.creativemacros.IMAGE1920X1080||f.creativemacros.IMAGEURL||f.creativemacros.HTMLURL)){(function(c,
b){var g,h,k,n,d;c=b.ownerDocument?b.ownerDocument:document;var m=c.createElement("iframe");m.style.borderWidth="0";m.scrolling="no";m.marginwidth=0;m.marginheight=0;m.topmargin=0;m.leftmargin=0;m.allowtransparency=!0;m.setAttribute("marginwidth","0");m.setAttribute("marginheight","0");m.setAttribute("topmargin","0");m.setAttribute("leftmargin","0");m.setAttribute("allowtransparency","true");"1920"==a.res.getResponseData().width?(m.width="1920",m.height="1080"):(m.width="1800",m.height="1000");b.appendChild(m);
b="";b=f.code?"<html><head></head><body>"+f.code+"</body></html>":"<html><head></head><body><a target='_blank' href='"+f.click+"'><img src='"+(f.creativemacros.IMAGE1920X1080?f.creativemacros.IMAGE1920X1080:f.creativemacros.IMAGE1800X1000?f.creativemacros.IMAGE1800X1000:f.creativemacros.IMAGEURL)+"'></a></body></html>";m=m.contentWindow.document;m.write(b);m.close();e.background&&(b=e.background,"auto"==e.background&&f.creativemacros.BACKGROUNDCOLOR?b=f.creativemacros.BACKGROUNDCOLOR:e.background&&
(b="black"),document.body.style.background=b);f.creativemacros.VIDEOURL&&(b=a.video=c.createElement("div"),e.top&&parseInt(e.top),m=null!==(g=e.expand)&&void 0!==g?g:!1,e.zIndex&&parseInt(e.zIndex),a.videoPopoutDiv=c.createElement("div"),g=null!==(h=parseInt(e.marginTop))&&void 0!==h?h:255,a.videoPopoutDiv.id="CPMStarSkinVideoLocation",a.videoPopoutDiv.style.top="0",a.videoPopoutDiv.style.left="0",a.videoPopoutDiv.style.zIndex="2147483647",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0)",a.videoPopoutDiv.style.position=
"fixed",a.videoPopoutDiv.style.width="100vw",a.videoPopoutDiv.style.height="100vh",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0.6)",b.style.zIndex="2147483647",b.style.position="absolute",a.mm.isMobile()||(a.onEvent(window,"resize",a.pop.bind(a)),a.onEvent(window,"scroll",a.pop.bind(a)),m&&(a.onEvent(b,"mouseover",a.vidmousein.bind(a)),a.onEvent(b,"mouseleave",a.vidmouseout.bind(a))),b.style.marginLeft=1.78*g/-2+"px",b.style.left="50%",b.style.height=""+g+"px",b.style.width=""+1.78*g+"px"),
e.videoHeight?(h=parseInt(e.videoHeight),b.style.height=h+"px",b.style.marginLeft=-.89*h+"px",b.style.left=null!==(k=f.creativemacros.VIDEOLEFT)&&void 0!==k?k:a.module.options.videoLeft?a.module.options.videoLeft:"50%"):(b.style.marginLeft=1.78*g/-2+"px",b.style.left=null!==(n=f.creativemacros.VIDEOLEFT)&&void 0!==n?n:a.module.options.videoLeft?a.module.options.videoLeft:"50%",b.style.height=""+g+"px",b.style.width=""+1.78*g+"px"),b.id="CPMStarSkinVideo",b.style.top="0px",a.videoCloseX=document.createElement("div"),
a.videoCloseX.id="videoCloseX",a.videoCloseX.style.cssText="position: absolute; border: 1px; background-color: grey; opacity: .8; display: none;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 5px; right: 5px; border-radius: 10px; font-size: 15px; cursor: pointer;",a.videoCloseX.innerHTML="&nbsp;x&nbsp;",a.onEvent(a.videoCloseX,"click",a.closeCPMStarVideo.bind(a)),b.innerHTML="\n                    \n                    \n                    <A href="+f.click+' target="_blank" style="border:0">\n                                        \n                        <style>\n                            #CPMStarSkinVideo {\n                                -moz-transition: height .4s ease-in-out;\n                                -webkit-transition: height .4s ease-in-out;\n                                -moz-transition: height .4s ease-in-out;\n                                -o-transition: height .4s ease-in-out;\n                                transition: height .4s ease-in-out;\n                            }\n                        </style>\n                      \n                            \n                             <VIDEO id=\'CPMStarSkinVideoTag\' autoplay muted\n                            style=\'width: 100%; height: 100%; position: absolute\'>\n                            <SOURCE type="video/mp4" src="'+
f.creativemacros.VIDEOURL+"\">\n                            \n                            </VIDEO>\n                            <div id='CPMStarVideoCounter' style='position: absolute;\n                            opacity: .8;\n                            font-family: arial;\n                            color: white;\n                            position: absolute;\n                            z-index: 99999999999999999999999;\n                            font-size: 100px;\n                            margin-left: -25px; \n                            // top: 50%;\n                            bottom: 30%;\n                            left: 50%;'\n                            ></div>         \n                            <span style='display:none' id='videoIterations'>1</span>                                          \n                    </A>\n                    ",
b.appendChild(a.videoCloseX),(k=a.skinTag)&&k.appendChild(b));if(a.mm.isMobile()&&e.mobileSkinSelector&&(f.creativemacros.MOBILEIMAGEURL1080X1920||f.creativemacros.MOBILEIMAGEURL1920X1080)){var r=e.portraitonly?e.portraitonly:!1;h="";f.creativemacros.MOBILEIMAGEURL1080X1920&&f.creativemacros.MOBILEIMAGEURL1920X1080?"portrait"==a.getOrientation()?h=f.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"==a.getOrientation()&&(h=f.creativemacros.MOBILEIMAGEURL1920X1080):f.creativemacros.MOBILEIMAGEURL1080X1920&&
(r=!0,h=f.creativemacros.MOBILEIMAGEURL1080X1920);k=document.createElement("div");k.id="uniqueCPMStarMobileSiteskinDiv";k.style.display=window.innerWidth>(null!==(d=a.module.options.mobileskinbreakpoint)&&void 0!==d?d:992)?"none":"block";d=e.ignoreMobileTop?0:parseInt(e.top);k.innerHTML="\n                        <style>\n                        \n                        \n                            #uniqueCPMStarMobileSiteskinDiv .topadbar {\n                        \n                                height : 20px;\n                                margin-top : 10px;\n                                padding : 2px;\n                                background-color : black;\n                                margin-left : calc(50% - 50vw);\n                                margin-right : calc(50% - 50vw);\n                                text-align : center;\n                                font-size : 10pt;\n                            }\n                            #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                            \n                            height: 178vw;\n                            width: 100vw;\n                            margin-left: calc(50% - 50vw);\n                            margin-right: calc(50% - 50vw);\n                            /* Important */\n                            position: relative;\n                            }\n\n                            @media (orientation: landscape) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 100vh;\n                                    width:100vw;\n                                }\n                            }\n                            \n                            @media (orientation: portrait) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 178vw;\n                                    width: 100vw;\n                                }\n                            } \n\n                            #uniqueCPMStarMobileSiteskinDiv .bg-wrap {\n                                clip: rect(0, auto, auto, 0);\n                                position: absolute;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                            }\n                            \n                            #uniqueCPMStarMobileSiteskinDiv #mobileskindiv {\n                                position: fixed;\n                                display: block;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                                background-size: contain;\n                                background-repeat: no-repeat;\n                                background-color: black;\n                                background-position: center "+
d+"px;\n                                transform: translateZ(0);\n                                will-change: transform;\n                            }\n\n                            #uniqueCPMStarMobileSiteskinDiv .bottomadbar {\n                                height: 20px;\n                                padding: 2px;\n                                margin-top: 0;\n                                background-color: black;\n                                margin-left: calc(50% - 50vw);\n                                margin-right: calc(50% - 50vw);\n                                text-align: center;\n                                font-size: 10pt;\n                                margin-bottom: 10px;\n                            }\n                          \n                            \n                            \n                        </style>\n                        <div class='topadbar'>ADVERTISEMENT</div>\n                        <a target='_blank' href='"+
f.click+'\'>\n                        <div class="e-with-fixed-bg">\n                          <div class="bg-wrap" style="">\n                             <div id="mobileskindiv" style="background-image: url(\''+h+"')\"></div>\n                          </div>\n                        </div>\n                        </a>\n                        <div class='bottomadbar'>\u21e9 Scroll for more \u21e9</div>\n                        ";window.addEventListener("orientationchange",function(){setTimeout(function(){var c,
b=document.getElementById("uniqueCPMStarMobileSiteskinDiv");b&&(b.style.display=window.innerWidth>(null!==(c=a.module.options.mobileskinbreakpoint)&&void 0!==c?c:992)?"none":"block",c="",e.headerSelector&&(a.skinWrapper.style.top=a.getTop()),"portrait"===a.getOrientation()?c=f.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"===a.getOrientation()&&(r?b.style.display="none":c=f.creativemacros.MOBILEIMAGEURL1920X1080),b.style.backgroundImage="url('"+c+"')")},300)},!1);d=e.mobileSkinSelector.pick?parseInt(e.mobileSkinSelector.pick):
0;if((d=document.querySelectorAll(e.mobileSkinSelector.find)[d])&&d.parentNode)switch(e.mobileSkinSelector.kind){case "swaphide":d.parentNode.insertBefore(k,d);d.style.display="none";break;case "swap":d.parentNode.insertBefore(k,d);d.parentNode.removeChild(d);break;case "replace":for(;d.firstChild;)d.removeChild(d.firstChild);case "last":case "into":d.appendChild(k);break;case "first":d.insertBefore(k,d.firstChild);break;case "before":d.parentNode.insertBefore(k,d);break;case "after":d.parentNode.insertBefore(k,
d.nextSibling)}}})(this.module,this.createSkinTag());a.mm.isMobile()&&1024>window.innerWidth&&(756<window.innerHeight?a.scaleEl(a.skinTag,.78):a.scaleEl(a.skinTag,.7));e.contentColor&&(b=a.getFirstSelector(e.cssSelector),b.style.backgroundColor=e.contentColor,b.style.position="relative");a.triggerEvent("initHD");f.creativemacros.ROADBLOCK&&a.triggerEvent("roadblock",{roadblock:f.creativemacros.ROADBLOCK});if(!a.mm.isMobile()&&f.creativemacros.VIDEOURL){b=document.querySelector("#CPMStarSkinVideoTag");
if(e.loopFor){var d=parseInt(e.loopFor);b.addEventListener("ended",function(){var a=parseInt(document.querySelector("#videoIterations").innerHTML);a<d&&(this.currentTime=0,this.play(),a++,document.querySelector("#videoIterations").innerHTML=""+a)},!1)}else b.loop=!0;a.pop()}a.mm.api({kind:"adcmd",module:"segmentedvideo",command:"skinloaded",data:{imageurl:f.creativemacros.IMAGEURL,clickurl:f.click}})}else if("json"==c&&null!=f.creativemacros){if(!a.cpmstar_siteskin_settings.pid)return;window.cpmstar_siteskin.init(a.cpmstar_siteskin_settings,
f);a.triggerEvent("initSD");e.top970X90&&f.click&&f.creativemacros&&f.creativemacros.IMAGE970X90?(b=parseInt(e.centerWidth.replace("px","")),g=Math.round(b/970*90),b="<a target='_blank' href='"+f.click+"'><div style='width:"+b+"px;height:"+g+"px;margin:0 auto;background-size:cover;background-image:url("+f.creativemacros.IMAGE970X90+")' ></div></a>",this.module.div.innerHTML=b):e.top970X250&&f.click&&f.creativemacros&&f.creativemacros.IMAGE970X250&&(b=parseInt(e.centerWidth.replace("px","")),g=Math.round(b/
970*250),b="<a target='_blank' href='"+f.click+"'><div style='width:"+b+"px;height:"+g+"px;margin:0 auto;background-size:cover;background-image:url("+f.creativemacros.IMAGE970X250+")' ></div></a>",this.module.div.innerHTML=b)}if("content"==k||"true"==k){var n=function(){var c=this.getFirstSelector(e.cssSelector);h=c?c.clientWidth:985;a.scaleEl(a.skinTag,a.contentScalar(h))}.bind(a);a.setTimeout(n,101);window.addEventListener("resize",function(){a.setTimeout(n,101)})}else"window"==k&&window.addEventListener("resize",
function(){a.resizeToContent(f,e);a.setTimeout(function(){a.resizeToContent(f,e)}.bind(a),101)})}};h.prototype.resizeToContent=function(b,k){if(document.querySelector(k.cssSelector)&&(b.creativemacros.IMAGE1800X1000||b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL)){var g=k.maxCenterWidth?k.maxCenterWidth:1600,a=1056;b.creativemacros.IMAGE1800X1000&&(a=988);parseInt(this.skinTag.style.transform.replace(/\(|\)|scale/g,"").split(",")[0]);var e=this.skinTag.clientWidth<window.innerWidth?(window.innerWidth-
this.skinTag.clientWidth)/window.innerWidth+1:1;var f=1;k.scaleFactor?f=k.scaleFactor:k.centerWidth&&(f=parseInt(k.centerWidth)/988);e*=f;e>=g/a&&(e=g/a);a=k.cssSelector?k.cssSelector:"body";this.scaleEl(this.skinTag,e);f=1056*e;1E3>=window.innerWidth||(f=b.creativemacros.IMAGE1800X1000?g<988*e?g:988*e:g<1056*e?g:1060*e,document.querySelector(a));g=k.centerWidth?parseInt(k.centerWidth):985;k.contentPaddingLeft||k.contentPaddingRight?(document.querySelector(a).style.paddingLeft=parseInt(k.contentPaddingRight)+
"px",document.querySelector(a).style.paddingRight=parseInt(k.contentPaddingRight)+"px"):(document.querySelector(a).style.paddingLeft="0px",document.querySelector(a).style.paddingRight="0px");document.querySelector(a).style.maxWidth=Math.max(g,f)+"px";document.querySelector(a).style.margin=k.marginTop?k.marginTop+" auto auto":"0 auto";"true"==k.fillCenterAlways&&(b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL)&&1056*e>parseInt(document.querySelector(a).clientWidth)&&(document.querySelector(a).style.width=
f+"px");this.mm.isMobile()&&1024>window.innerWidth&&(756<window.innerHeight?this.scaleEl(this.skinTag,.78):this.scaleEl(this.skinTag,.7))}};h.prototype.testResponseValidity=function(b){var k=this;d.prototype.testResponseValidity.call(this,function(g){var a=null;g=g&&null!=k.res;!k.module.options.mobileskin&&k.mm.isMobile()&&(k.module.options.mobileSkinSelector||(g=!1));if(g){var e=k.res.getAdTypeAvailable(k.module);!k.res.renderAd||"banner"!=e&&"premium"!=e?k.res.getResponseData&&(a=k.res.getResponseData())&&
null!=a.creativemacros&&(a.code&&"string"===typeof a.code&&0<a.code.length?g=!0:a.creativemacros.IMAGE1800X1000?g=!0:a.creativemacros.IMAGE1920X1080?g=!0:a.creativemacros.IMAGEURL?g=!0:(e=a.creativemacros.HTMLRIGHTURL||a.creativemacros.IMAGERIGHTURL||a.creativemacros.FLASHRIGHTURL,(a.creativemacros.HTMLLEFTURL||a.creativemacros.IMAGELEFTURL||a.creativemacros.FLASHLEFTURL)&&e||(g=!1))):g=!0}b(g)})};return h}(p.default);l.default=d},"./src/zonemasters/components/supercomponent.ts":function(d,l,q){var t=
this&&this.__extends||function(){var b=function(g,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(g,a)};return function(g,a){function e(){this.constructor=g}b(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/utils.ts"),u=q("./src/zonemasters/requests/superrequest.ts"),h=0,b=!1;d=function(k){function g(a,
b){var f,c,e=k.call(this,b)||this;e.mm=a;e.module=b;e.res=null;e.depCount=1;e.depLoaded=0;e.responseValid=null;e.lastRefreshed=(new Date).getTime();e.refreshIndex=-1;e.pickResult=null;e.halt=!1;e.api={hide:function(){this.module.div.style.display="none"},show:function(){this.module.div.style.display="block"},refresh:function(){if(!this.module.options.norefresh&&!this.halt){var a=(new Date).getTime();this.module.options.minrefreshrate&&a-this.lastRefreshed<this.module.options.minrefreshrate?this.mm.log("module: "+
this.module.info.name+" cant refresh, refreshed "+Math.round((a-this.lastRefreshed)/1E3)+" secs ago."):(this.lastRefreshed=(new Date).getTime(),this.request(function(a){a&&a()}))}},close:function(){this.close?this.close():this.module.div.style.display="none"},css:function(a){null!=a.data&&this.restyleCSS(a.data);null!=a.cb&&a.cb(this.module.css)}};e.DEFAULTREFRESHRATE=14E4;e.DEFAULTMINSLICE=1E4;e.DEFAULTMINSLICECPMPERCENT=.85;e.DEFAULTSLICEMULTI=10;e.DEFAULTSLICETARGET=-1;e.TIMESLICEGEOSBLOCKED=[{countryCode:"US",
region:"California"},{countryCode:"US",region:"New York"},{countryCode:"NL"}];e.nextSliceTimer=null;null==e.module.options&&(e.module.options={});e.rnd=Math.round(999999*Math.random());e.defaultRequestKind="banner";e.events=[];if(a=b.events){b=Object.keys(a);for(var g=0;g<b.length;g++){var h=e.mm.eventCallback(a[b[g]]);e.addEventListener(b[g],h)}}e.css=null!==(f=e.module.css)&&void 0!==f?f:null;e.globalCss=null!==(c=e.module.globalCss)&&void 0!==c?c:null;return e}t(g,k);g.prototype.findEvent=function(a){for(var b=
0;b<this.events.length;b++)if(this.events[b].name===a)return this.events[b];return null};g.prototype.triggerEvent=function(a,b){var f=this,c=this.findEvent(a);if(c&&c.callbacks)for(var e=0;e<c.callbacks.length;e++)c.callbacks[e].call(b,arguments);"onclose"==a&&f.setTimeout(function(){f.destroy()},g.COMPONENT_DESTROY_TIMER)};g.prototype.addEventListener=function(a,b){var f=this.findEvent(a);f&&f.callbacks?f.callbacks.push(b):(a={name:a,callbacks:[]},this.events.push(a),a.callbacks.push(b))};g.prototype.removeEventListener=
function(a,b){(a=this.findEvent(a))&&a.callbacks&&(b=a.callbacks.indexOf(b),a.callbacks.splice(b,1))};g.prototype.adcmd=function(a){this.api[a.command].bind(this)(a)};g.prototype.getRequestData=function(){var a=this.module.request;"string"===typeof a&&(a=this.mm.zonedata.requests[this.module.request]);return a};g.prototype.getRequest=function(){var a=this.module.requestInstance,b=this.module.request;"string"===typeof this.module.request&&(a=this.mm.requestInstances[this.module.request],b=this.mm.zonedata.requests[b]);
if(null!=a)return a;if(b&&null==a){a=b.kind?b.kind:this.defaultRequestKind;if(null==a)return null;a=this.mm.requestTypes[a];if(null==a)return null;a=new a(this.mm);this.module.requestInstance=a;"string"===typeof this.module.request&&(this.mm.requestInstances[this.module.request]=a);a.init(b);return a}};g.prototype.create=function(){this.getRequestData();if(null==this.module.divid)if(this.module.adUnitPath)this.module.divid=this.module.adUnitPath;else{var a=Math.floor(10+26*Math.random()).toString(36)+
Math.floor(99999999*Math.random()).toString(36);this.module.divid=a}window[this.module.divid]=this.module};g.prototype.testResponseValidity=function(a){var b=!1;if(null!=this.res&&"object"===typeof this.res){b=!0;null==this.res.getAdTypeAvailable&&(b=!1);var f=this.res.getAdTypeAvailable(this.module);f&&"unknown"!=f&&"none"!=f||(b=!1);null==this.res.renderAd&&null==this.res.getResponseData&&(b=!1);this.res.getError&&(b=!1)}a(b)};g.prototype.request=function(a,b){var f=this,c=this.getRequest();if(null==
c)f.mm.log("No request found for module");else{f.depCount=1;f.depLoaded=0;var e=function(){f.depLoaded++;if(f.depLoaded==f.depCount)if(f.responseValid)if(1==f.module.waitinit)f.module.moduleState="init",f.module.wait=!0,a();else if(null==f.module.target||"object"!==typeof f.module.target||1!=f.module.target.found&&1!=f.module.target.slot)a(f.init.bind(f,f.res));else{var c=f.init.bind(f,f.res);1==f.module.target.slot&&f.module.options?f.mm.pickEl("$G:"+f.module.options.width+"x"+f.module.options.height)&&
(f.module.target.find="$G:"+f.module.options.width+"x"+f.module.options.height,a(c)):f.mm.isDomReady()?a(c):document.addEventListener("DOMContentLoaded",function(b){a(c)})}else window.context&&null!=window.context.noContentAvailable&&window.context.noContentAvailable(),b?b():a(null)};if(f.module.request){var g=this.mm.requestDeps[c.config.kind];if(g)for(var h=0;h<g.length;h++){var k=this.mm.deps[g[h]];null==k.used&&(k.used=!0,f.depCount++,k(e))}}null!=f.module.cssFile&&(f.depCount++,null!=f.module.cssFile&&
(g=document.createElement("link"),g.setAttribute("rel","stylesheet"),g.type="text/css",g.href=f.mm.cdnroot+f.module.cssFile,document.head.appendChild(g),g.addEventListener("load",e)));c.addCallback(this,function(a){f.res=a;f.module.renderIndex=null;f.testResponseValidity(function(a){(f.responseValid=a)&&f.refreshIndex++;e()})})}};g.prototype.getRenderTargetDivID=function(a){return this.module.renderTargetID?this.module.renderTargetID:this.module.divid};g.prototype.getRenderTarget=function(a){void 0===
a&&(a=0);var b=this.module.div;if(b){var f=b.getElementsByClassName(this.module.renderTargetClass?this.module.renderTargetClass:"cpmsrendertarget");f.length>a?b=f[a]:f.length&&(b=f[0])}return b};g.prototype.onAdRendered=function(a){};g.prototype.nextAd=function(){return this.res&&this.res.nextAd?this.res.nextAd(this.module):!1};g.prototype.render=function(a,b,f){this.res.renderAd&&this.res.renderAd(this.module,a,null!==b&&void 0!==b?b:this.onAdRendered.bind(this),f)};g.prototype.init=function(a,e){var f,
c,g,d,n,l=this;l.module.lastRan=(new Date).getTime();var q=0;if((null===a||void 0===a?0:a.getResponseData)&&(null===(c=null===(f=null===a||void 0===a?void 0:a.getResponseData())||void 0===f?void 0:f.creativemacros)||void 0===c?0:c.HALTREFRESH)||(null===(n=null===(d=null===(g=l.module.bestbid)||void 0===g?void 0:g.bidResponse)||void 0===d?void 0:d.creativeMacros)||void 0===n?0:n.HALTREFRESH))l.halt=!0;a=null;this.mm.zonedata.mobilemodules&&this.mm.zonedata.mobilemodules.pageviewmodule&&(a=this.mm.zonedata.mobilemodules.pageviewmodule);
this.mm.zonedata.requests&&null!=this.mm.zonedata.requests.pageviews&&null!=this.mm.zonedata.requests.pageviews.poolid&&0<this.mm.zonedata.requests.pageviews.poolid?q=this.mm.zonedata.requests.pageviews.poolid:null!=this.mm.zonedata.mobilemodules&&null!=this.mm.zonedata.mobilemodules.pageviewpoolid&&0<this.mm.zonedata.mobilemodules.pageviewpoolid&&(q=this.mm.zonedata.mobilemodules.pageviewpoolid);(null==a||this.module.info&&a==this.module.info.name)&&0==b&&(b=!0,a=Math.floor(10+26*Math.random()).toString(36)+
Math.floor(99999999*Math.random()).toString(36),window[a]=function(){l.mm.log("Pageview recorded to pool "+q)},f=this.mm.serverroot+"/view.aspx?",f+="poolid="+q+"&script=1&json=nc&callback="+a+"&rnd="+Math.round(999999*Math.random())+"&",null!=this.mm.coppa&&(f+="tfcd="+(this.mm.coppa?1:0)+"&"),null!=this.mm.usp&&(f+="us_privacy"+this.mm.usp+"&"),null!=this.mm.gdprApplies&&(f+="gdpr="+(this.mm.gdprApplies?1:0)+"&"),null!=this.mm.getPubConsent()&&(f+="gdpr_consent="+this.mm.getPubConsent()+"&"),this.mm.getScript(f));
h++;var t=window.document;(a=this.module.target?this.module.target.el:null)&&a.ownerDocument&&(t=a.ownerDocument);this.css&&this.restyleCSS(this.css);this.globalCss&&this.setGlobalCss(this.globalCss);var x=t.createElement("div");null!=this.module.div&&(x=this.module.div,x.innerHTML="");this.module.div=x;if(this.module.pushdown)t.documentElement.style.transition="0.7s ease-in-out",t.documentElement.style.marginTop="288px",x.style.zIndex="-999",x.style.top=""+(-288+this.module.options.topPos)+"px",
t.body.appendChild(x),l.setTimeout(function(){this.div.style.top=this.options.topPos+"px"}.bind(this.module),0),l.setTimeout(function(){t.documentElement.style.transition="";x.style.zIndex="auto"},700);else if(this.module.insertBefore)(a=l.mm.pickEl(this.module.insertBefore,void 0,void 0,!0))&&a.parentNode&&a.parentNode.insertBefore(x,a);else if(this.module.target&&(f=this.module,null==a&&(a=f.target.topWindow?l.mm.pickEl(f.target.find,f.target.pick,window.top,!0):l.mm.pickEl(f.target.find,f.target.pick,
void 0,!0)),a)){switch(this.module.target.kind){case "swaphide":a.parentNode.insertBefore(x,a);a.style.display="none";break;case "swap":a.parentNode.insertBefore(x,a);a.parentNode.removeChild(a);break;case "replace":for(;a.firstChild;)a.removeChild(a.firstChild);case "last":case "into":a.appendChild(x);break;case "first":a.insertBefore(x,a.firstChild);break;case "before":a.parentNode.insertBefore(x,a);break;case "after":a.parentNode.insertBefore(x,a.nextSibling)}if(this.module.options&&(this.module.options.position||
this.module.options.autoSizeToTarget)){var A=null,F=t.createElement("div");F.style.pointerEvents="auto";F.classList.add("cpmsrendertarget");if(this.module.style&&"fixed"==this.module.style.position)x.style.position="fixed",x.style.top="0",x.style.left="0",x.style.bottom="0",x.style.right="0",x.style.zIndex="2147483638",x.style.pointerEvents="none",A=x;else if(x.style.position="relative",x.style.zIndex="2147483638",A=t.createElement("div"),A.style.position="absolute",A.style.pointerEvents="none",A.style.zIndex=
"2147483638",A.style.width=getComputedStyle(a).width,A.style.height=getComputedStyle(a).height,x.appendChild(A),f.options.autoSizeToTarget){f=getComputedStyle(a);F.style.width=f.width?f.width:a.clientWidth+"px";F.style.height=f.height?f.height:a.clientHeight+"px";var z=a;window.addEventListener("resize",function(a){a=getComputedStyle(z);A.style.width=F.style.width=a.width?a.width:z.clientWidth+"px";A.style.height=F.style.height=a.height?a.height:z.clientHeight+"px"})}A.appendChild(F);x=F}}this.module.divid&&
"anchor"!==this.module.kind&&(x.id=this.module.divid);if(this.module.class)for(a=Array.isArray(this.module.class)?this.module.class:[this.module.class],f=0;f<a.length;f++)x.classList.add(a[f]);if(this.module.style)for(a=Object.keys(this.module.style),f=0;f<a.length;f++)c=a[f],x.style[c]=this.module.style[c];if(this.module.pageStyle)for(a=Object.keys(this.module.pageStyle),f=0;f<a.length;f++)for(c=a[f],g=l.mm.findEls(c),d=Object.keys(this.module.pageStyle[c]),n=0;n<g.length;n++)for(var V=g[n],ba=0;ba<
d.length;ba++){var y=d[ba];V.style[y]=this.module.pageStyle[c][y]}if(null!=x){if(this.module.options&&this.module.options.position)switch(a=this.module.options.position,x.style.position="absolute",typeof a){case "string":f=a.toLowerCase(),0<=f.indexOf("top")?x.style.top="0px":0<=f.indexOf("bottom")?x.style.bottom="0px":(x.style.top="50%",this.module.options.height?x.style.marginTop=-Math.round(.5*parseFloat(this.module.options.height))+"px":this.module.style&&this.module.style.height&&(x.style.marginTop=
-Math.round(.5*parseFloat(this.module.style.height))+"px")),0<=f.indexOf("left")?x.style.left="0px":0<=f.indexOf("right")?x.style.right="0px":(x.style.left="50%",this.module.options.width?x.style.marginLeft=-Math.round(.5*parseFloat(this.module.options.width))+"px":this.module.style&&this.module.style.width&&(x.style.marginLeft=-Math.round(.5*parseFloat(this.module.style.width))+"px"));case "object":null!=a.x&&null!=a.y&&(x.style.left=a.x,x.style.top=a.y)}if(void 0!=this.module.options.sandbox)a=
document.createElement("div"),(this.module.template||this.module.children)&&k.prototype.renderTemplate.call(this,this.module,a),f="",this.module.css&&(c=p.getCssString(this.module.css,this.module.divid),f+="<style>"+c+"</style>"),c=getComputedStyle(x).width,g=getComputedStyle(x).height,f="<head></head><body><div id='"+x.id+"' style='width:"+c+"; height:"+g+"'>"+f+a.innerHTML+"</div></body>",u.default.insertNewIframe({width:c,height:g,intoEl:x,renderHtml:f,sandbox:this.module.options.sandbox});else if(this.module.template||
this.module.children)this.$mount(x),k.prototype.renderTemplate.call(this,this.module,x);a=function(){for(var a=[].slice.call(x.getElementsByClassName("autofit")),b=0;b<a.length;b++)p.autoFitText(a[b])};l.onEvent(window,"resize",a);l.onEvent(window,"orientationchange",a);a()}x&&window.context&&window.context.requestResize&&window.context.requestResize(this.module.options.width,this.module.options.height,!1);l.triggerEvent("init");e&&e()};g.prototype.setTimeout=function(a,b){a=window.setTimeout(a,b);
a=window.clearTimeout.bind(window,a);this.addFinalizer(a);return a};g.prototype.setInterval=function(a,b){a=setInterval(a,b);a=window.clearInterval.bind(window,a);this.addFinalizer(a);return a};g.prototype.isViewable=function(a,b){if(!1===this.module.options.requireViewable)return!0;for(var f=a;f;){if(f.nodeType==Node.ELEMENT_NODE){var c=getComputedStyle(f);if("none"==c.display||"hidden"==c.visibility)return!1;try{if(c.opacity&&.1>=parseFloat(c.opacity))return!1}catch(n){}if("fixed"==c.position||
"sticky"==c.position)break}f=f.parentNode}a=a.getBoundingClientRect();b&&(a.height=b);var e=window.innerWidth;b=window.innerHeight;var g=document.documentElement.clientWidth;f=document.documentElement.clientHeight;(c=e)&&g&&(c=Math.min(e,g));null==c&&(c=g);null==c&&(c=document.getElementsByTagName("body")[0].clientWidth);(e=b)&&f&&(e=Math.min(b,f));null==e&&(e=f);null==e&&(e=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=a.left&&a.top+.6*a.height<=e&&a.left+.8*a.width<=
c?!0:!1};g.prototype.startRefreshTimer=function(a){var b=this;a=function(){var a=b.getRenderTarget();document&&document.hasFocus&&document.hasFocus()&&b.lastRefreshed<(new Date).getTime()-b.module.options.refreshrate&&a&&b.isViewable(a,0)&&(b.lastRefreshed=(new Date).getTime(),b.adcmd({kind:"adcmd",command:"refresh",module:b.module.info.name}))};b.onEvent(window,"focus",a);b.onEvent(window,"resize",a);b.onEvent(window,"scroll",a);b.onEvent(window,"orientationchange",a);b.setInterval(a,b.module.options.refreshrate)};
g.prototype.onEvent=function(a,b,f,c){void 0===c&&(c=!1);var e=null;a.addEventListener?(a.addEventListener(b,f,c),e=function(a,b){this.removeEventListener(a,b)}.bind(a,b,f)):a.attachEvent&&(a.attachEvent("on",b,f),e=function(c,e){this.detachEvent(c,e).bind(a,b,f)});this.addFinalizer(e);return e};g.prototype.addFinalizer=function(a){(this.finalizers=this.finalizers||[]).push(a)};g.prototype.restyleCSS=function(a){var b=window.document,f=this.module.target?this.module.target.el:null;f&&f.ownerDocument&&
(b=f.ownerDocument);this.css=a;this.module.styleEl&&this.module.styleEl.parentNode&&this.module.styleEl.parentNode.removeChild(this.module.styleEl);a=b.createElement("style");this.module.styleEl=a;a.type="text/css";a.styleSheet?a.styleSheet.cssText=p.getCssString(this.css,this.module.divid):a.appendChild(b.createTextNode(p.getCssString(this.css,this.module.divid)));b.head.appendChild(a)};g.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()();this.module.div&&
this.module.div.parentNode&&this.module.div.parentNode.removeChild(this.module.div);this.module.styleEl&&this.module.styleEl.parentNode&&this.module.styleEl.parentNode.removeChild(this.module.styleEl)};g.prototype.initSliceManager=function(){this.nextSliceTimer&&(this.mm.log("Reset slice timer for module: "+this.module.info.name),this.nextSliceTimer(),this.nextSliceTimer=null);var a=.5;if("number"==typeof this.module.options.timeslice)try{a=parseFloat(this.module.options.timeslice)}catch(e){}this.module.options.timeslice&&
Math.random()<a&&(a=this.getNextTimesliceMs(),0<a&&this.setSliceTimer(a))};g.prototype.tryNextTimeslice=function(){var a=(new Date).getTime();if(a<this.nextSliceTimestamp)a-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+a+"ms"),this.setSliceTimer(a);else{a=this.getRenderTarget();var b=5E3;this.isViewable(a,null)&&(this.nextAd()&&(a.innerHTML="",this.render(a)),b=this.getNextTimesliceMs());0<b&&this.setSliceTimer(b)}};g.prototype.setSliceTimer=function(a){this.nextSliceTimer&&
(this.nextSliceTimer(),this.nextSliceTimer=null);this.nextSliceTimestamp=(new Date).getTime()+a;this.nextSliceTimer=this.setTimeout(this.tryNextTimeslice.bind(this),a)};g.prototype.getNextTimesliceMs=function(){var a,b,f,c,g,h,k=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=null===(b=this.pickResult)||void 0===b?void 0:b.totalCPM;b=null!==(f=this.module.options.refreshrate)&&void 0!==f?f:this.DEFAULTREFRESHRATE;f=null!==(c=this.module.options.minslice)&&void 0!==c?c:this.DEFAULTMINSLICE;
if(a&&k&&k[null!==(g=this.module.renderIndex)&&void 0!==g?g:0])return c=k[null!==(h=this.module.renderIndex)&&void 0!==h?h:0].cpm,h=c/a*b,h<f&&(h=f),this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+": slice "+(this.module.renderIndex+1)+"/"+k.length+" is $"+c.toFixed(2)+" out of totalCPM: $"+a.toFixed(2)+". Next slice in: "+Math.round(h)+"ms!"),h;this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+":  No slices left.");return-1};g.prototype.setCss=function(a){null==
this.css&&(this.css={});"string"===typeof this.css?this.mm.log("Error, cannot setCSS on a legacy string CSS"):(this.css=p.mergeObjects(this.css,a),this.restyleCSS(this.css))};g.prototype.setStyle=function(a,b){Object.keys(b).forEach(function(f){a.style[f]=b[f]})};g.prototype.setGlobalCss=function(a){void 0==this.globalCss&&(this.globalCss={});void 0!=a&&(this.globalCss=p.mergeObjects(this.globalCss,a));a=window.document;this.module.globalStyleEl&&this.module.globalStyleEl.parentNode&&this.module.globalStyleEl.parentNode.removeChild(this.module.globalStyleEl);
var b=a.createElement("style");this.module.globalStyleEl=b;b.styleSheet?b.styleSheet.cssText=p.getCssString(this.globalCss):b.appendChild(a.createTextNode(p.getCssString(this.globalCss)));a.head.appendChild(b)};g.COMPONENT_DESTROY_TIMER=1E3;return g}(q("./src/zonemasters/superclasses/basic/rootcomponent.ts").default);l.default=d},"./src/zonemasters/components/videoplayer.ts":function(d,l,q){function t(d){var h=(new MessageChannel).port1;d.dispatchEvent=h.dispatchEvent.bind(h);d.addEventListener=h.addEventListener.bind(h);
d.removeEventListener=h.removeEventListener.bind(h)}function p(d){if("function"===typeof Event)var h=new Event(d);else h=document.createEvent("Event"),h.initEvent(d,!1,!1);return h}Object.defineProperty(l,"__esModule",{value:!0});l.default=function(d){function h(a){var b={};if(1==a.nodeType)for(var c=0;c<a.attributes.length;c++){var f=a.attributes.item(c);b["@"+f.nodeName.toLowerCase()]=f.nodeValue}else 3==a.nodeType?b=a.nodeValue:4==a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes())for(c=0;c<a.childNodes.length;c++){f=
a.childNodes.item(c);var e=f.nodeName.toLowerCase();if("undefined"==typeof b[e])b[e]=h(f);else{if("undefined"==typeof b[e].push){var g=b[e];b[e]=[];b[e].push(g)}b[e].push(h(f))}}return b}function b(a){(a=a?a:[])&&!Array.isArray(a)&&(a=[a]);return a}function k(a){if(!a)return null;a=null!=a["#cdata-section"]?a["#cdata-section"]:a["#text"];null!=a&&(a=Array.isArray(a)?a.join(""):a,a=a.trim());return a}function g(a){a=b(a);for(var c=[],f=0;f<a.length;f++){var e=k(a[f]);null!=e&&""!=e&&c.push(e)}return c}
function a(a){if(!ha){ha=!0;a&&"skipped"!=a&&(B("VAST Error "+a+"\r\n"+a.stack),A(na));null!=Q&&clearInterval(Q);null!=N&&clearTimeout(N);if(K)try{K.parentNode.removeChild(K),K=null}catch(X){}null!=v&&0<v.readyState&&(v.pause(),v.currentTime=v.duration-.7);a&&"skipped"!=a?y.dispatchEvent(p("error")):y.dispatchEvent(p("complete"))}}function e(a,b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,b[a])});return c}function f(a,b){b&&(b=e("track",{src:b,srclang:"en",
kind:"subtitles"}),a.prepend(b),b.toggleAttribute("default"),a.setAttribute("crossorigin","anonymous"))}function c(a){if("function"===typeof a)try{return a()}catch(X){return 0}else return a}function m(){if(O&&G){try{G.adDuration?J=c(G.adDuration):G.adRemainingTime&&(J=v.currentTime+c(G.adRemainingTime))}catch(xa){B("Error parsing remaining time in vpaidMode")}B("Vpaid duration updated to: "+J+" seconds")}else!isNaN(v.duration)&&isFinite(v.duration)&&(J=Math.min(60,v.duration))}function l(a,b){var c=
document.createElement("source");c.setAttribute("src",a);c.setAttribute("type",E);v=document.createElement("video");v.setAttribute("playsinline","");f(v,b);a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(0<=a.indexOf("ipad")||0<=a.indexOf("iphone")||0<=a.indexOf("ipod"))v.autoplay=!0;y.setMuted(fa);ta&&(v.volume=ta);v.width=sa;v.height=ja;aa&&v.classList.add(aa);v.addEventListener("durationchange",function(){B("video element changed duration to "+v.duration);m()});v.appendChild(c);
n();c=document.createElement("a");c.target="_blank";c.href=Ba+C;c.onclick=function(){C&&window.open(Ba+C,"_blank");F();return!1};c.appendChild(v);ra.appendChild(c);la=Date.now();var e=!1;v.addEventListener("play",function(){e||(e=!0,B("playing"),m(),z(0))});v.addEventListener("timeupdate",function(){y.dispatchEvent(p("timeupdate"))});v.addEventListener("timeupdate",V);Q=setInterval(V,500);v.addEventListener("ended",function(){B("video element ended playback");z(4)})}function n(a){void 0===a&&(a=null);
var b=!1,c=!1,f=function(){v.removeEventListener("error",f);v.removeEventListener("canplay",e);v.removeEventListener("loadedmetadata",e);for(var b=0;b<v.children.length;b++)"source"==v.children[b].tagName.toLowerCase()&&v.children[b].removeEventListener("error",f);c||(c=!0,y.setMuted(!0),B("caught error -- cannot autoplay at all"),a&&a({canAutoplay:!1,requiresMuted:!0}))},e=function(){try{v.removeEventListener("error",f);v.removeEventListener("canplay",e);v.removeEventListener("loadedmetadata",e);
for(var g=0;g<v.children.length;g++)"source"==v.children[g].tagName.toLowerCase()&&v.children[g].removeEventListener("error",f)}catch(Ua){}b||(b=!0,B("did not autoplay, so call play manually"),g=v.play(),void 0!==g?g.then(function(){c||(c=!0,B("can autoplay sound on"),a&&a({canAutoplay:!0,requiresMuted:!1}))}).catch(function(b){B("call to play prevented so had to mute");y.setMuted(!0);v.play().then(function(){c||(c=!0,B("call to play allowed when muted"),a&&a({canAutoplay:!0,requiresMuted:!0}))}).catch(function(b){B("call to play failed even when muted");
c||(c=!0,a&&a({canAutoplay:!1,requiresMuted:!1}))})}):c||(c=!0,a&&a({canAutoplay:!0,requiresMuted:!1})))};v.addEventListener("error",e);v.addEventListener("canplay",e);v.addEventListener("loadedmetadata",e);for(var g=0;g<v.children.length;g++)"source"==v.children[g].tagName.toLowerCase()&&v.children[g].addEventListener("error",f)}function u(b){B("loadVpaid called");q(5);la=Date.now();var c=0;for(b=b.getElementsByTagName("Linear");c<b.length;c++){var f=b[c],e=f.getElementsByTagName("AdParameters");
0<e.length&&(L=e[0].textContent.trim());e=0;for(f=f.getElementsByTagName("MediaFile");e<f.length;e++){var g=f[e];if("VPAID"==g.getAttribute("apiFramework")&&"application/javascript"==g.getAttribute("type")){var h=g.textContent.trim();break}}if(h)break}B("mediaFileUrl "+h);K=document.createElement("iframe");K.width=""+sa;K.height=""+ja;K.frameBorder="0";K.scrolling="no";aa&&K.classList.add(aa);ra.appendChild(K);window.setTimeout(function(){var b=K.contentWindow.document;v=b.createElement("video");
v.setAttribute("playsinline","true");v.style.left="0px";v.style.top="0px";v.style.position="absolute";v.style.width="100%";v.style.height="100%";var c=b.createElement("source");c.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");c.setAttribute("type","video/mp4");v.appendChild(c);var f=b.getElementsByTagName("body")[0];f.appendChild(v);v.load();var e=b.createElement("div");e.style.left="0px";e.style.top="0px";e.style.position="absolute";e.style.width="100%";
e.style.height="100%";f.appendChild(e);f=h;var g=sa,k=ja,d={AdParameters:L},l={slot:e,videoSlot:v,videoSlotCanAutoPlay:!0};B("creating script ");var r=!1,u=!1,E=!1;e=b.createElement("script");e.type="text/javascript";e.async=!0;e.src=f;e.onload=function(){B("vpaid script loaded ");var b=K.contentWindow.getVPAIDAd;if(b&&"function"==typeof b){var c={AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,
AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,
AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog},f=function(b,c){B("Ad Event "+b+" "+(c?c:""));"AdLoaded"==b&&(B("VPAID video became ready"),y.dispatchEvent(p("ready")),q(5));"AdStarted"==b&&(z(0),q(15));"AdVideoFirstQuartile"==b&&(z(1),q(15));"AdVideoMidpoint"==b&&(z(2),q(15));"AdVideoThirdQuartile"==b&&(z(3),q(15));"AdVideoComplete"==
b&&z(4);"AdClickThru"==b&&(F(),null!=c&&""!=c&&"string"==typeof c&&window.open(c,"_blank"));"AdSkippableStateChange"==b&&y.dispatchEvent(p("skippablestatechange"));"AdSkipped"!=b&&"AdStopped"!=b||a("skipped");"AdPaused"==b&&(y.paused=!0,setTimeout(function(){y.paused&&a("skipped")},3500));"AdError"==b&&a(c);"AdRemainingTimeChange"!=b&&"AdDurationChange"!=b||m()};G=b();B(" vpaidAd gotten ");for(var e in c)G.subscribe(f.bind(null,e),e,null);G.handshakeVersion("2.0");B(" vpaidAd handshaked ");r=!0;E&&
!u&&(y.setVolume(y.getVolume()),u=!0,G.initAd(g,k,"normal",200,d,l),B(" vpaidAd initAd"))}};b.getElementsByTagName("head")[0].appendChild(e);n(function(a){v.pause();v.removeChild(c);y.isMuted()||y.setMuted(a.requiresMuted);E=!0;r&&!u&&(y.setVolume(y.getVolume()),u=!0,G.initAd(g,k,"normal",200,d,l),B(" vpaidAd initAd"))})},1)}function q(a){null!=N&&clearTimeout(N);N=setTimeout(S,1E3*a)}function S(){if(!da[0]){B("Watchdog timer is about to call adstop");try{G.stopAd()}catch(xa){}a("watchdog timeout")}}
function x(a){for(var b=0;b<a.length;b++)A(a[b])}function A(a){if(null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";ra.appendChild(b);b.onload=function(){b.style.display="none";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px"}}catch(ya){B("Error hitting pixel: "+
ya)}}function F(){x(oa);y.isPaused()&&y.play();return!0}function z(b){P!=b-1?B("Out of order quartile call: requested "+b+" but was at "+P):(P=b,B("quartile "+P),da[P]||(da[P]=!0,0==P&&(la=Date.now(),y.dispatchEvent(p("start"))),1==P&&y.dispatchEvent(p("firstquartile")),2==P&&y.dispatchEvent(p("midpoint")),3==P&&y.dispatchEvent(p("thirdquartile")),x(W[P]),4==P&&a()))}function V(){!ea&&O||pa==y.isSkippable()||(y.dispatchEvent(p("skippablestatechange")),pa=y.isSkippable());da[0]&&3>P&&v.currentTime>=
.25*(P+1)*J&&z(P+1);var b=Date.now();!y.isPaused()&&4>P&&(b-la)/1E3>=J+2&&(B("TimerHandler is firing complete"),3==P?z(4):(B("Had to end ad forcefully by timeout without even getting to third quartile"),da[4]=!0,a()))}function ba(a){var b=0;if(!a)return b;a=a.split(":");0<a.length&&(b+=Number(a.pop()));0<a.length&&(b+=60*Number(a.pop()));0<a.length&&(b+=3600*Number(a.pop()));return b}console.log("LOG - videoplayer.ts default function called ");var y=this;t(this);var B=d.log,L,v,Q,N,R,E="video/mp4",
na,C,oa=[],J=0,U=99999,W=[[],[],[],[],[]],da=[!1,!1,!1,!1,!1],qa=[],wa=0,O=!1,G,K,ta=1,P=-1,la,ra,sa,ja,Ba="",M=!1,fa=!1,Z=!1,ka=0,ha=!1,pa=!1,ea=!1,aa=void 0;this.setBegan=function(a){M=a};this.videoEl=function(){return v};this.initializeForUrl=function(a,b,c,f){ra=a;sa=b;ja=c;Ba=f&&f.clickPrefix?f.clickPrefix:"";fa=f?!!f.muted:!1;aa=f.className?f.className:void 0;ea=f?!!f.forceSkippability:!1;y.dispatchEvent(p("ready"))};this.isVpaidMode=function(){return O};this.init=function(c,f,e,d,n){function m(b){if(0==
b.indexOf("http://adrtb-cache-use.sundaysky.com")){var c=b.indexOf("&dns=");0<=c&&(b=b.slice(0,c))}fetch(b,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow"}).then(function(a){return a.text()}).then(function(a){l(a)}).catch(function(c){a("error making request to wrapperVastAdTagURI "+b)})}function l(c){try{if(0==c.indexOf("http")||0==c.indexOf("//"))m(c);else{var f=(new DOMParser).parseFromString(c,"text/xml"),e=h(f);c=[];var d=e.vast.ad;if(null==d)R=null;else{var n=[d.inline,d.wrapper],
l=["Inline","Wrapper"];for(d=0;d<n.length;d++){var r=n[d];r&&(B("found Ad."+l[d]),W[0]=W[0].concat(g(r.impression)),r.creatives&&(c=c.concat(b(r.creatives.creative))),r.error&&(na=k(r.error)))}for(n=0;n<c.length;n++){var q=c[n].linear;if(null!=q){if(q.trackingevents){var w=b(q.trackingevents.tracking);for(r=0;r<w.length;r++){var t=w[r],z=k(t);switch(t["@event"]){case "creativeView":W[0].push(z);break;case "close":qa.push(z);break;case "start":W[0].push(z);break;case "firstQuartile":W[1].push(z);break;
case "midpoint":W[2].push(z);break;case "thirdQuartile":W[3].push(z);break;case "complete":W[4].push(z)}}}C=q.videoclicks&&q.videoclicks.clickthrough?k(q.videoclicks.clickthrough):C;q.videoclicks&&(oa=oa.concat(g(q.videoclicks.clicktracking)));J=q.duration?ba(q.duration["#text"]):0;L=q.adparameters?k(q.adparameters):"";if(q["@skipoffset"]){var v=q["@skipoffset"],H=v.indexOf("%");U=-1!=H?J*parseFloat(v.substr(0,H)):ba(v)}if(q.mediafiles){var x=b(q.mediafiles.mediafile);for(d=0;d<x.length;d++){var A=
x[d];E=A["@type"];if(null!=E){E=E.toLowerCase();var N=k(A);if(0==N.indexOf("http")||0==N.indexOf("//"))if("video/mp4"==E||"video/webm"==E||"video/ogg"==E){parseInt(A["@width"]);parseInt(A["@height"]);var K=N;break}else if(("application/javascript"==E||"application/x-javascript"==E)&&A["@apiframework"]&&"vpaid"==A["@apiframework"].toLowerCase()){K=N;O=!0;break}}}}}}R=K}var S=e.vast.ad;if(null==R&&3>wa++&&S&&S.wrapper&&S.wrapper.vastadtaguri){var Q=k(S.wrapper.vastadtaguri);Q?(B("Wrapper found reloading: "+
Q),W[0]=W[0].concat(g(S.wrapper.impression)),m(Q)):a("no wrapper url")}else J=Math.min(60,J),null!=R?O?u(f):(B("VAST video became ready"),y.dispatchEvent(p("ready"))):a("no video url")}}catch(Ia){a(Ia)}}ra=f;sa=e;ja=d;Ba=n&&n.clickPrefix?n.clickPrefix:"";fa=n?!!n.muted:!1;ea=n?!!n.forceSkippability:!1;aa=n.className?n.className:void 0;l(c)};this.skip=function(){if(M&&!ha&&y.isSkippable()){if(O&&G&&G.getAdSkippableState&&G.getAdSkippableState()&&G.skipAd&&"function"===typeof G.skipAd)G.skipAd(),y.dispatchEvent(p("skipped"));
else if(!O||ea)v&&v.pause(),y.dispatchEvent(p("skipped")),a("skipped");x(qa)}};this.close=function(){O&&G&&G.getAdSkippableState&&G.getAdSkippableState()&&G.skipAd&&"function"===typeof G.skipAd?G.skipAd():O&&this.setMuted(!0);a("skipped")};this.play=function(){Z?(O?G&&G.resumeAd():v.play(),la+=Date.now()-ka,Z=!1):M||ha||(M=!0,O?(G&&G.startAd(),Q=setInterval(V,500)):l(R))};this.replay=function(){M&&!O&&(W=[[],[],[],[],[]],da=[!0,!1,!1,!1,!1],P=0,la=Date.now(),v.currentTime=0,v.play(),ha=!1,Q=setInterval(V,
500))};this.pause=function(){Z||(O?G.pauseAd():v.pause(),ka=Date.now(),Z=!0)};this.isPlaying=function(){return M&&!Z&&!ha};this.isPaused=function(){return Z};this.isMuted=function(){return fa};this.setMuted=function(a){var b=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(v){if(0<=b.indexOf("ipad")||0<=b.indexOf("iphone")||0<=b.indexOf("ipod"))if(a){v.setAttribute("muted",null);try{v.removeAttribute("muted")}catch(ya){}}else v.setAttribute("muted","");v.muted=a}(fa=a)||
1!=ta&&0!=ta||this.setVolume(1)};this.isSkippable=function(){return!M||ha?!1:O&&!ea?G?c(G.adSkippableState):!1:y.getDuration()-y.getRemainingTime()>=U};this.getSkipOffset=function(){return U};this.setSkipOffset=function(a){U=a;!ea&&O||pa==y.isSkippable()||(y.dispatchEvent(p("skippablestatechange")),pa=this.isSkippable())};this.setSize=function(a,b){sa=a;ja=b;v&&(v.width=a,v.height=b);K&&(K.width=""+a,K.height=""+b)};this.getDuration=function(){return J};this.getRemainingTime=function(){return O?G&&
G.adRemainingTime?c(G.adRemainingTime):Math.max(0,J-((new Date).getTime()-la)/1E3):J-v.currentTime};this.getVolume=function(){return ta};this.setVolume=function(a){0>a&&(a=0);1<a&&(a=1);ta=a;O&&G?G.adVolume=fa?0:a:v&&(v.volume=a)};this.resetQuartiles=function(){P=-1;ha=!1;da=[!1,!1,!1,!1,!1]};this.playUrl=function(a){M=!0;l(a.url,a.subtitles)};this.watchdogOn=function(a){q(a)};this.watchdogOff=function(){clearTimeout(N);N=void 0}}},"./src/zonemasters/data/steam.ts":function(d,l,q){function t(d){return l.steamgpus[d.toLowerCase()]}
Object.defineProperty(l,"__esModule",{value:!0});l.isSteamGPU=l.getSteamGPUInfo=l.steamgpus=void 0;l.steamgpus={"nvidia geforce gtx 1060":{dx:12},"nvidia geforce gtx 1050 Ti":{dx:12},"nvidia geforce gtx 1650":{dx:12},"nvidia geforce rtx 2060":{dx:12},"nvidia geforce gtx 1050":{dx:12},"nvidia geforce gtx 1660 Ti":{dx:12},"nvidia geforce gtx 1070":{dx:12},"nvidia geforce gtx 1660 super":{dx:12},"nvidia geforce gtx 1660":{dx:12},"nvidia geforce rtx 2070 super":{dx:12},"nvidia geforce rtx 3070":{dx:12},
"amd radeon rx vega 11 graphics":{dx:12},"nvidia geforce gtx 1080":{dx:12},"nvidia geforce rtx 3090":{dx:12},"nvidia geforce GT 710":{dx:12},"nvidia geforce MX250":{dx:12},"nvidia geforce MX150":{dx:12},"nvidia geforce gtx 950":{dx:12},"nvidia geforce gtx 970":{dx:12},"amd radeon rx 480":{dx:12},"nvidia geforce gtx 950m":{dx:12},"amd radeon graphics":{dx:12},"amd radeon rx 560":{dx:12},"nvidia geforce gtx 7500":{dx:12},"amd radeon rx 5500 xt":{dx:12},"nvidia geforce rtx 2070 with max-q design":{dx:12}};
l.getSteamGPUInfo=t;l.isSteamGPU=function(d){return null==d?!1:t(d)?!0:!1}},"./src/zonemasters/mobilemodules.ts":function(d,l,q){function t(){ka=null==(ea=Z.match(/[\?&]cpmstarhash=([^&]*)/))?"":"#"+ea[1]}function p(){var a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(null!=a){for(var b=0;b<Pa.length;b++)if(0<=a.indexOf(Pa[b]))return Pa[b];if(0<=a.indexOf("windows"))return"windows";if(0<=a.indexOf("macintosh"))return"macintosh";if(0<=a.indexOf("linux"))return"linux"}else return"other"}
function u(){var a=p();return"other"!==a?0<=Pa.indexOf(a):!1}function h(){var a=p();return"other"!==a?0<=lb.indexOf(a):!1}function b(a){var c=p();if("string"===typeof a)return a=a.toLowerCase().trim(),"mobile"===a?u():"desktop"===a?h():a===c;if(Array.isArray(a)){c=!1;for(var f=0;f<a.length&&!(c=b(a[f]));f++);return c}B("error - invalid condition: "+a);return!1}function k(a){if("string"===typeof a)return a=a.trim(),ka.toLowerCase()==a.toLowerCase();if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(k(a[b]))return!0;
return!1}B("error - invalid condition: "+a);return!1}function g(a){if("string"===typeof a||"number"==typeof a)return Oa==a;if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(g(a[b]))return!0;return!1}B("error - invalid condition: "+a);return!1}function a(b,c){if(b&&null!=c&&"number"===typeof c){if(b=va[b&&null!=b.id?b.id:b.info.name],null==b||null==b.lastRan||b.lastRan+c<=(new Date).getTime())return!0}else if(Array.isArray(c))for(var f=0;f<c.length;f++)if(a(b,c[f]))return!0;return!1}function e(a){Fa=
I.locationData;if("object"===typeof Fa){if(!Array.isArray(a)){var b=!1,c=0<=C.toStringArrayLower(a.countryCode).indexOf(Fa.countryCode.toLowerCase());b=b||c;c=0<=C.toStringArrayLower(a.region).indexOf(Fa.region.toLowerCase());b=b||c;c=0<=C.toStringArrayLower(a.city).indexOf(Fa.city.toLowerCase());b=b||c;return a.exclude?!b:b}if(Array.isArray(a)){for(var f=c=b=0;f<a.length;f++){var g=e(a[f]);if(a[f].exclude){if(!g)return!1}else b++,g&&c++}if(0<b)return 0<c}}return!0}function f(a){var b=pa;Array.isArray(a)||
"string"!==typeof a||(a=[a]);for(var c=0,f=0;f<a.length;f++){if(a[f]===b)return!0;if("~"===a[f][0]&&c++,a[f]==="~"+b)return!1}return 0==a.length-c}function c(a){var b=ha.toLowerCase().trim(),f=a.indexOf("*");if("string"===typeof a){a=a.toLowerCase().trim();if(0>f)return a===b;if(0<=f){do{var e=a.slice(0,f),g=f<a.length-1?a[f+1]:null;if(0!=b.indexOf(e))return!1;b=b.slice(e.length);null!=g&&(e=b.indexOf(g),b=b.slice(e));a=a.slice(f+1);f=a.indexOf("*")}while(-1!=f);return 0==a.length||b.indexOf(a)==
b.length-a.length?!0:!1}}else if(Array.isArray(a)){for(b=0;b<a.length;b++)if("string"===typeof a[b]&&"~"==a[b][0]){if(c(a[b].slice(1)))break}else if(c(a[b]))return!0;return!1}B("error - invalid condition: "+a);return!1}function m(a){var b,c=D.requests,f=null===(b=null===D||void 0===D?void 0:D.info)||void 0===b?void 0:b.zonepools;b=void 0;if(null==a)return null;b=D.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:c.name)==a});null==b&&f&&c[a]&&
c[a].poolid&&f[c[a].poolid]&&(a=f[c[a].poolid].module,b=D.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:c.name)==a}));return null!==b&&void 0!==b?b:null}function r(){setTimeout(function(){T.triggerjb&&T.triggerjb()},500)}function n(a){try{if(r(),a)if("function"===typeof a)a(Ya);else{var b="string"===typeof a?a.split("."):a.kind?a.kind.split("."):[];if(2==b.length)Ya[b[0]][b[1]]("object"===typeof a?a:void 0);else if("object"===typeof a){if(a.cb){var c=
function(a,b,c){a(function(){r();b&&b()},c)}.bind(null,a.cb);a.cb=c}switch(a.kind){case "gpt":a.data&&a.data.sizemap&&na(a.data.sizemap,a.data.roadblock);case "showlog":Xa=!Xa;case "listmodules":a.cb(Object.keys(va));break;case "setconfig":a.conditions&&(null==D.conditions&&(D.conditions=[]),D.conditions=C.mergeObjectsWithConditions(D.conditions,a.conditions));break;case "setmoduledata":for(var f=Object.keys(a.data),e=0;e<f.length;e++){var g=f[e],h=m(g),k=h.css?h.css:{},d=h.options?h.options:{};a.data[g].css&&
(h.css=C.mergeObjects(k,a.data[g].css));a.data[g].options&&(h.options=C.mergeObjects(d,a.data[g].options))}break;case "setrequestdata":f=Object.keys(a.data);for(h=0;h<f.length;h++)if(g=f[h],0==g.indexOf("hb.")){var n=g.slice(g.indexOf("hb.")+3),l=D.requests.hb;if(l&&l.adUnits)for(e=0;e<l.adUnits.length;e++)("*"==n||l.adUnits[e].code==n)&&l.adUnits[e]&&(l.adUnits[e]=C.mergeObjects(l.adUnits[e],a.data[g]))}else{var Y=Object.keys(D.requests);for(e=0;e<Y.length;e++){var u=Y[e];if("*"==g||u==g)D.requests[u]=
C.mergeObjects(D.requests[u],a.data[g])}}break;case "addplacementandgo":f=!1;if(null!=D.modules)for(g=0;g<D.modules.length;g++){h=D.modules[g];var p=h.conditions;if(p){p=Array.isArray(p)?p:[p];for(e=0;e<p.length&&!(f=w(h,p[e],a.pid,a.pindex));e++);if(f)break}}f?null!=ca&&ca():a.render();break;case "request":var q=m(a.module);if(!q)break;a.config&&(q=C.deepClone(q),q=C.mergeObjectsWithConditions(q,a.config));q.ready=!0;null!=ca&&ca(q,"request",a);break;case "cmp":ba(a.cb?a.cb:null,!0);break;case "go":if(null==
a.module)null!=ca&&ca();else if(q=m(a.module))a.config&&(q=C.deepClone(q),q=C.mergeObjectsWithConditions(q,a.config)),q.ready=!0,null!=ca&&ca(q,null,a);break;case "asynctagfetch":null==T.libcmd&&L(Ea+"/cached/js/lib.js");if(null!=a.el&&null!=a.pid){var E=X(ya+a.pid,0);a.el.className=E;a.pindex=window.document.getElementsByClassName(E).length-1;(T.libcmd=T.libcmd||[]).push(a)}break;case "createmodule":if(null==a.config)break;null==a.once&&(a.once=!0);null==a.config.info&&(a.config.info={},a.config.info.name=
a.module);var t=m(a.config.info.name);if(null!=t)if(t=C.deepClone(t),0==t.info.overrides){var z=C.deepClone(a.config);t=C.mergeObjectsWithConditions(z,t)}else t=C.mergeObjectsWithConditions(t,a.config);else D.modules.push(a.config),t=m(a.config.info.name),t=C.mergeObjectsWithConditions(t,{conditions:{wait:!0}});if(!t)break;null!=ca&&Qa(function(){t.ready=!0;ca(t,null,a)});break;case "refresh":if(a.data&&a.data.modules&&Array.isArray(a.data.modules))for(h=0;h<a.data.modules.length;h++){var v=va[a.data.modules[h]];
null!=v&&null!=v.js&&v.js.adcmd({kind:"adcmd",command:"refresh"})}break;case "adcmd":v=va[a.module];null!=v&&null!=v.js&&v.js.adcmd(a);break;case "cmp_":var H=a.config;if(null==H)break;var x=a.config.type;if(null==x)break;switch(x){case "showcmp":var J=H.force,A=H.usp,R=H.forceusp;"object"!=typeof H.config&&(H.config={});var U=H.config;U.usp=y(A,R);Qa(function(){ba(function(){a.cb&&a.cb()},null!=J&&J?!0:!1,U)});break;case "gdpr":var N=H.gdprapplies;"boolean"==typeof N&&(I.gdprApplies=N);"string"==
typeof H.consentstring&&(document.cookie="pubconsent="+a.data.consentstring+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/");break;case "usp":var K=H.usp;"string"==typeof K&&(document.cookie="usp="+K+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/");break;case "coppa":var S=H.coppa;"boolean"==typeof S&&(I.coppa=S)}break;case "showcmps":Qa(function(){ba(function(){a.cb&&a.cb()},null!=a.force&&a.force?!0:!1,a.config)});break;case "gdpr":if("object"!=
typeof a.data)break;"boolean"==typeof a.data.gdprapplies&&(I.gdprApplies=a.data.gdprapplies);if("string"!=typeof a.data.consentstring)break;document.cookie="pubconsent="+a.data.consentstring+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/";break;case "coppa":if(null==a.value&&"boolean"!=typeof a.value)break;I.coppa=a.value;break;case "usp":if(null!=a.value||"string"==typeof a.value)document.cookie="usp="+a.value+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+
"; path=/"}}}}catch(sb){}}function w(a,b,c,f){if(a&&"skin"==a.kind&&a.info&&a.info.name=="POOL "+c)return!0;if(null==b||null==b.target)return!1;a=b.target;c="string"==typeof a.find&&a.find=="$"+c||Array.isArray(a.find)&&0<a.find.indexOf("$"+c);f=a.pickAll||"all"==a.pick||"last"==a.pick||(null==a.pick||"first"==a.pick)&&0==f||"number"==typeof a.pick&&a.pick==f||Array.isArray(a.pick)&&0<a.pick.indexOf(f);return c&&f}function H(a,b){if(null==a)return null;if(null!=a.el)return b;var c=window;a.topWindow&&
(c=window.top);if(a.pickAll&&(Array.isArray(a.pick)||Array.isArray(a.find)||"string"===typeof a.pick&&"all"===a.pick.toLowerCase().trim())){var f=[],e=0,g=20,h;Array.isArray(a.pick)?g=a.pick.length:Array.isArray(a.find)&&(g=a.find.length);for(var k=0;k<g;k++)if(h=Array.isArray(a.pick)?null!=R(a.find,a.pick[k],c):Array.isArray(a.find)?null!=R(a.find[k],a.pick,c):null!=R(a.find,k,c))h=C.extendLite({},b),h.target=C.extendLite({},b.target),Array.isArray(a.pick)?h.target.pick=a.pick[k]:Array.isArray(a.find)?
h.target.find=a.find[k]:h.target.pick=k,h.iteration=e,e++,f.push(h);b=f}else{c=null!=R(a?a.find:null,a?a.pick:null,c);if(1==a.slot||1==a.found)c=!0;if(!c)return null}return b}function S(h,d,n){void 0===n&&(n=null);var m={};null!=M.zone_conditions&&null!=M.zone_conditions.bypassConditions&&(m=M.zone_conditions.bypassConditions);if(null==d)return{};if(Array.isArray(d)){m="|";var l=0;d.length&&"&"==d[0]&&(m="&",l++);for(var r=null;l<d.length;l++){var Y=S(h,d[l],n);if(null!=Y&&(!Array.isArray(Y)||0<Y.length)){if("&"==
m){null==r&&(r={});r=C.mergeObjects(r,Y);continue}return Y}if("&"==m)return null}return r}if("object"===typeof d){if(null!=d.gap&&!a(h,d.gap)&&null==m.gap||null!=d.geo&&!e(d.geo)&&null==m.geo)return null;if(l=null!=d.percent)l=d.percent,l=("string"===typeof l||"number"==typeof l)&&100*Va<=parseFloat(l)?!0:!1,l=!l;if(l&&null==m.percent)return null;if(l=null!=d.test)l=d.test,l="string"===typeof l?(new Function("return ("+l+");")).bind(D)()?!0:!1:!1,l=!l;if(l&&null==m.test)return null;if(l=null!=d.querystring){a:{l=
d.querystring;if("string"===typeof l)if("~"==l[0]){if(r=l.slice(1).split("="),Y=Za.getParameterByName(r[0]),2==r.length&&null==Y||Y!=l[0]){l=!0;break a}}else if(r=l.split("="),Y=Za.getParameterByName(r[0]),1==r.length&&null!=Y||Y==r[1]){l=!0;break a}l=!1}l=!l}if(l&&null==m.param||null!=d.deviceType&&!b(d.deviceType)&&null==m.deviceType||null!=d.hash&&!k(d.hash)&&null==m.hash||null!=d.host&&!f(d.host)&&null==m.host||null!=d.path&&!c(d.path)&&null==m.path||null!=d.jbStatus&&!g(d.jbStatus))return null;
if(d.divExists||d.target)m.target?d.target=H(m.target,m).target:d=H(d.target,d);if(h&&(d&&d.wait||h.wait)&&null==h.ready||h&&"init"==h.moduleState&&h.initwaitdomready&&!Ga)return n&&(n.isWaiting=!0),null;null==d&&null!=h.target&&(d=H(h.target,{target:h.target}));return d}return{}}function x(a,b){var c,f,e;void 0===b&&(b=!1);if(window.__tcfapi)a();else{var g=null===(e=null===(f=null===(c=I.zonedata)||void 0===c?void 0:c.options)||void 0===f?void 0:f.cmp)||void 0===e?void 0:e.id;!$a&&g?($a=!0,L("https://gdpr.privacymanager.io/1/gdpr.bundle.js",
function(){L("https://gdpr-wrapper.privacymanager.io/gdpr/"+g+"/gdpr-liveramp.js",function(){try{b?window.__tcfapi("toggleConsentTool",2,function(){a&&a()},1):a&&a()}catch(mb){B(mb.toString())}})})):void 0==g&&B("The cmp needs a valid id. (options.cmp.id)")}}function A(){var a=C.parsedCookies().pubconsent,b=C.parsedCookies().euconsent;return a?a:b}function F(){return null==I.locationData||null==I.locationData.countryCode?null:-1=="GB DE PL FR ES NO IT IS RO SE BG GR NL HR IE CH CZ AT HU FI DK BE LI PT MT LU CY LT SK SI EE LV".split(" ").indexOf(I.locationData.countryCode)?
!1:!0}function z(){var a=window.location.href,b="";0<a.indexOf("pwtv=")&&(a=/pwtv=(.*?)(&|$)/g.exec(a),2<=a.length&&0<a[1].length&&(b="/"+a[1]));a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src="//ads.pubmatic.com/AdServer/js/pwt/160251/3268"+b+"/pwt.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function V(){var a,b,c,f=null===(c=null===(b=null===(a=I.zonedata)||void 0===a?void 0:a.options)||void 0===b?void 0:b.cmp)||void 0===c?void 0:
c.atsid;null!=f&&L("https://ats-wrapper.privacymanager.io/ats-modules/"+f+"/ats.js",function(){});eb=!0}function ba(a,b,c){var f,e,g;void 0===b&&(b=!1);if(null!==(g=null===(e=null===(f=I.zonedata)||void 0===f?void 0:f.options)||void 0===e?void 0:e.cmp)&&void 0!==g&&g.atsid)if(b)x(a,!0);else{if(F()){b=A();if("0"==b||"NA"==b)document.cookie="pubconsent=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";x(a)}else document.cookie="pubconsent=NA; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+
"; path=/",a&&a();(null==I.locationData||null==I.locationData.countryCode?0:-1!="AU DE ES FR GB IT JP NL SG US".split(" ").indexOf(I.locationData.countryCode))&&V()}else a&&a()}function y(a,b){null!=a&&(y.usp=a);null!=b&&(y.forceUsp=b);a=a||y.usp;if(b=b||y.forceUsp)return!0;I.zonedata.options&&I.zonedata.options.cmp&&null==b&&null==a&&(a=null!=a?a:I.zonedata.options.cmp.usp,b=null!=b?b:I.zonedata.options.cmp.forceusp);if(b)return!0;b=null!=I.locationData.region&&"California"==I.locationData.region?
!0:!1;var c=null!=C.parsedCookies().usp;return b&&a&&!c}function B(a){(cb||Xa)&&console.log(a);ab&&ab.queue.push({message:a,timestamp:(new Date).getTime()})}function L(a,b){a=a.replace("%%ver%%",!Da&&D.ver?"?ver="+D.ver:"");var c=document.createElement("script");c.src=a;c.async=!0;var f=document.getElementsByTagName("head")[0],e=!1;c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,b&&b(),c.onload=c.onreadystatechange=null,f.removeChild(c))};
f.appendChild(c)}function v(a,b){null==b&&(b=window);var c=T?T.elements:null,f=[];if(c)for(var e=0;e<c.length;e++)if(c[e].pid==a){var g=c[e].eid,h=c[e].el;null==h&&(h=b.document.getElementById(g));h&&f.push(h)}e=(ya+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>0},0);e=(10+7*e%26).toString(36)+e.toString(36);c=[].slice.call(b.document.getElementsByClassName(e));0<c.length||(e=(ya+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0),e=(10+7*e%26).toString(36)+
e.toString(36),c=[].slice.call(b.document.getElementsByClassName(e)));for(e=0;e<c.length;e++)c[e]instanceof HTMLElement&&f.push(c[e]);return f}function Q(a){return"undefined"!=typeof CSS&&"function"==typeof CSS.escape?CSS.escape(a):a.replace(/:/g,"\\:").replace(/\./g,"\\.")}function N(a,b,c,f){null==c&&(c=window);if(null==a)return[];null==b&&(b=c.document);if("$"==a[0]&&"G"==a[1]&&":"==a[2]){a=a.split(":")[1];c=[];var e=window.googletag;if(e&&e.pubads&&"function"===typeof e.pubads){for(var g=e.pubads().getSlots(),
h=[],d=0;d<g.length;d++){var k=g[d],n=k.getAdUnitPath(),l=k.getSlotElementId(),m=k.getSizes();b.querySelector("#"+Q(l));if("#"==a[0]&&l==a.slice(1))h.push(k),za.push({id:l,path:n,sizes:m});else if(2==a.split("x").length){for(var r=a.split("x"),p=!1,u=0;u<m.length;u++)if(m[u].l==r[0]&&m[u].j==r[1]||m[u].width==r[0]&&m[u].height==r[1]){p=!0;break}p&&(h.push(k),za.push({id:l,path:n,sizes:m}))}}f&&e.destroySlots(h);for(d=0;d<za.length;d++)if("#"==a[0]&&za[d].path==a.slice(1))(f=b.querySelector("#"+Q(za[d].id)))&&
c.push(f);else if(2==a.split("x").length){r=a.split("x");p=!1;m=za[d].sizes;for(u=0;u<m.length;u++)if(m[u].l==r[0]&&m[u].j==r[1]||m[u].width==r[0]&&m[u].height==r[1]){p=!0;break}p&&(f=b.querySelector("#"+Q(za[d].id)))&&c.push(f)}return c}}else{if("$"==a[0])return v(a.slice(1),c);b=b.querySelectorAll(a);return null!=b?[].slice.call(b):[]}}function R(a,b,c,f){var e=null;(a=N(a,null,c,f))&&0<=a.length&&(null==b||"first"==b?e=a[0]:"last"==b?e=a[a.length-1]:"number"===typeof b&&b<a.length&&(e=a[Math.floor(b)]));
return e}function E(a){for(var b=[],c=0;c<a.length;c++)a[c].width&&a[c].height?b.push([a[c].width,a[c].height]):b.push([a[c][0],a[c][1]]);return b}function na(a,b){void 0===b&&(b=null);a&&(Ra=a);var c=window.googletag=window.googletag||{cmd:[]};a=Aa.gptStatus;Aa.gptStatus=b?ia.ROADBLOCK:ia.DETECTING;if(a==ia.DETECTING){if(Aa.gptStatus==ia.ROADBLOCK)for(var f in Object.keys(c))a=c[f],"destroySlot"!=f&&"defineSlot"!=f&&"function"===typeof a&&(c[a]=function(){})}else a==ia.NONE&&c.cmd.push(function(){Aa.gptStatus==
ia.ROADBLOCK&&(c.cmd=[]);c.cmd.push=function(a){try{a()}catch(tb){}};var a=c.pubads?c.pubads():null;if(c.pubadsReady&&a&&a.getSlots){a=a.getSlots();for(var f=0;f<a.length;f++){var e=a[f],g=e.getAdUnitPath(),h=e.getSlotElementId();e=E(e.getSizes());g=new fb(g,e,h);ma.push(g);Ja[h]=g;g.go(b)}}if(Aa.gptStatus==ia.ROADBLOCK)for(var d in Object.keys(c))a=c[d],"destroySlot"!=d&&"defineSlot"!=d&&"function"===typeof a&&(c[a]=function(){});var k=c.defineSlot;c.defineSlot=function(a,c,f){var e=Array.isArray(c[0])?
c:[c];e=new fb(a,e,f);ma.push(e);Ja[f]=e;e.go(b);return Aa.gptStatus!=ia.ROADBLOCK?k(a,c,f):e};var n=c.destroySlot;c.destroySlot=function(a){Aa.gptStatus!=ia.ROADBLOCK&&n(a);if(Array.isArray(a))for(var b=0;b<a.length;b++){var c=a[b].getSlotElementId();Ja[c]&&delete Ja[c];for(var f=0;f<ma.length;f++)if(ma[f].getSlotElementId()==c){ma.splice(f,1);break}}else Ja={},ma=[]}})}Object.defineProperty(l,"__esModule",{value:!0});var C=q("./src/zonemasters/utils.ts"),oa=q("./src/zonemasters/requests/starbannerrequest.ts"),
J=q("./src/zonemasters/requests/starjsonrequest.ts"),U=q("./src/zonemasters/requests/headerbiddingrequest.ts"),W=q("./src/zonemasters/requests/editorialrequest.ts"),da=q("./src/zonemasters/requests/skinrequest.ts"),qa=q("./src/zonemasters/components/supercomponent.ts"),wa=q("./src/zonemasters/components/bannercomponent.ts"),O=q("./src/zonemasters/components/editorial.ts"),G=q("./src/zonemasters/components/onrpghotbox.ts"),K=q("./src/zonemasters/components/instreamvideo.ts"),ta=q("./src/zonemasters/components/scriptcomponent.ts"),
P=q("./src/zonemasters/components/siteskin.ts"),la=q("./src/zonemasters/components/createjscomponent.ts"),ra=q("./src/zonemasters/superclasses/basic/componentregistry.ts"),sa=q("./src/zonemasters/components/segmentedvideo.ts"),ja=q("./node_modules/detect-gpu/dist/detect-gpu.esm.js"),Ba=q("./src/zonemasters/data/steam.ts"),M=window,fa=null,Z="",ka="",ha="",pa="",ea=null;try{fa=window.top.location,Z=fa.href,ka=fa.hash,ha=fa.pathname,pa=fa.host}catch(Y){var aa=window;try{for(;aa.parent&&aa.parent.document!==
aa.document&&aa.parent.document.location.href;)aa=aa.parent}catch(kb){}try{var xa=aa.location.ancestorOrigins;Z=xa[xa.length-1]}catch(kb){Z=aa.document.referrer}t();ha=null==(ea=Z.match(/^http[s]?:\/\/[^\/]+(\/[^\?]+)/))?"/":ea[1];pa=null==(ea=Z.match(/^http[s]?:\/\/([^\/]+)/))?"":ea[1];Z.match(/^https:/)}ka||t();var X=function(a,b){a=a.split("").reduce(function(a,c){return(a<<5)-a+c.charCodeAt(0)>>>b},0);return(10+7*a%26).toString(36)+a.toString(36)},ya=window.location.href.split("#")[0],Ta=X(ya,
1),T=window.cpmstarx||window[Ta];T.zonevars.blueprints={};var D=T.zonevars,Da="#cpmstarDev"==ka,Ua="#cpmstarStaging"==ka||"#urlzing"==ka,cb=Da||Ua,La="cdn",Ma="http:"==document.location.protocol?"http:":"https:";Da?La="dev.server":Ua?La="staging.server":"https:"==Ma&&(La="ssl.cdne");var Va=Math.random(),ua=Ma+"//"+La+".cpmstar.com",Ea=Ma+"//server.cpmstar.com",Wa=D.jbcheck?D.jbcheck.host:"",Na=Wa.split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0).toString(36),Oa="0";try{sessionStorage&&
sessionStorage.getItem(Na)?sessionStorage.getItem(Na):"0"}catch(Y){Oa="0"}var Fa=null,Ga=!1,Xa="#cpmstarLog"==ka,Ya={},va={},ib={banner:oa.default,json:J.default,hb:U.default,video:J.default,editorial:W.default,skin:da.default},Ha={banner:wa.default,editorial:O.default,carousel:G.default,video:K.default,script:ta.default,skin:P.default,jsskin:la.default({fixed:"2",centerWidth:"988px",top:"128px",footerHeight:300,stickyPadding:"10px"},"create_cpmstar_siteskin"),anchor:la.default({dir:1},"create_cpmstar_anchorad"),
montage:sa.default},jb=ra.default.GetComponentRegistry();Ha=C.mergeObjects(Ha,jb);for(var db=Object.keys(Ha),Ia=0;Ia<db.length;Ia++){var gb=db[Ia];ra.default.RegisterComponent(gb,Ha[gb])}var nb={},Ca,Pa="android;blackberry;ipad;iphone;ipod;mobile;nokia;symbian;windows phone".split(";"),lb=["windows","macintosh","linux"],ab=void 0;Da&&(M.cpmstarAPI=n);var bb=T.cmd=T.cmd||[],ca,$a=!1,eb=!1,hb=null,Sa=!1,Ka={country:function(a){var b=window.document.location.host,c=Math.floor(10+26*Math.random()).toString(36)+
Math.floor(99999999*Math.random()).toString(36);L("https://server.cpmstar.com/country.aspx?cache=true&referer="+encodeURIComponent(b)+"&callback="+c,function(){});window[c]=function(b){if(b.rt)if(b.rt["0_62"])Sa=!0;else if(b.rt["0_58"])Sa=!1;else try{ja.getGPUTier({benchmarksURL:ua+"/cached/zonemasters/marks"}).then(function(a){if(hb=a)(Sa=Ba.isSteamGPU(hb.gpu))?L(Ea+"/tag.aspx?a=0_0176D4A8&group=62"):L(Ea+"/tag.aspx?a=0_0176D4A8&group=58")})}catch(rb){L(Ea+"/tag.aspx?a=0_0176D4A8&group=58")}else Sa=
!1;var c=!1;I.locationData=b;I.zonedata.options&&(b=I.zonedata.options,"object"==typeof b.cmp&&null!=b.cmp.force&&(c=b.cmp.force),b.coppa&&(I.coppa=!0));D.options&&D.options.pubmaticid&&z();null!=D.options&&D.options.cmp&&("object"!=typeof D.options.cmp||null==D.options.cmp.showcmp||D.options.cmp.showcmp)&&ba(function(){},c);a()}},lib:function(a){L(ua+"/cached/js/lib.js",a)},anchor:function(a){M.cpmstar_anchorad_settings={manualInit:!0};Da?L(ua+"/cached/zonemasters/anchorad_v100.js%%ver%%",function(){M.cpmstar_anchorad_settings.manualInit=
!1;a()}):L(ua+"/cached/js/anchorad_v100.pack.js%%ver%%",function(){M.cpmstar_anchorad_settings.manualInit=!1;a()})},dot:function(a){L(ua+"/cached/zonemasters/lib/doT.js",a)},siteskin:function(a){M.cpmstar_siteskin_settings={manualInit:!0};L(ua+"/cached/zonemasters/siteskin.js%%ver%%",function(){M.cpmstar_siteskin_settings.manualInit=!1;a()})},jquery:function(a){"undefined"==typeof M.jQuery?L("//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",function(){"undefined"!==typeof M.jQuery&&(Ca=
M.jQuery.noConflict(),a())}):(Ca=M.jQuery,a())},ima:function(a){"undefined"!=typeof M.google&&"undefined"!=typeof M.google.ima||L("//imasdk.googleapis.com/js/sdkloader/ima3.js",a)}},ob={editorial:["dot"],carousel:["dot","jquery"],video:[],skin:["siteskin"],jsskin:["siteskin"],anchor:["anchor"]},pb={editorial:["dot"],skin:["siteskin","dot"],banner:["lib"],hb:["lib"]},Qa=function(a){function b(){for(var b=0;b<T.apis.length;b++)Ya[T.apis[b].name]=T.apis[b].api;a(self)}function c(){e++;e==g&&b()}function f(a,
b){var f=function(){var c=C.deepClone(D.blueprints[a.blueprint]);C.extendLite(a,C.mergeObjectsWithConditions(c,a));a.blueprintloaded=!0;b()};D.blueprints&&D.blueprints[a.blueprint]?f():(g++,L(ua+"/cached/zonemasters/blueprints/"+a.blueprint+".js%%ver%%",function(){f();c()}))}for(var e=0,g=0,h=0;h<T.zonevars.zonemasters.length;h++)T.zonevars.zonemasters[h].api&&g++;T.apis=T.apis||[];for(h=0;h<T.apis.length;h++)e++;var d=T.apis.push;T.apis.push=function(a){d.call(T.apis,a);c()};null==Ka.country.used&&
(g++,Ka.country(c),Ka.country.used=!0);if(D.modules){var k=function(a){var b=D.modules[a];b&&(a=function(){var a=ob[b.kind];if(a)for(var f=0;f<a.length;f++){var e=Ka[a[f]];null==e.used&&(e.used=!0,g++,e(c))}}.bind(n),b.blueprint&&null==b.blueprintloaded?f(b,a):a())},n=this;for(h=0;h<D.modules.length;h++)k(h)}g==e&&b()},qb=function(){return function(){this.queue=[];var a=this,b=(Ta+(Va*Math.pow(10,16)).toString(16)+(new Date).getTime().toString(16)).substring(0,32),c=u()?"mobile":"desktop",f=D.info?
D.info.id:0;window.addEventListener("visibilitychange",function(){var e=a.queue;if(0<e.length){a.queue=[];var g=new FormData;g.append("zoneid",f);g.append("sessionid",b);g.append("host",window.location.host);g.append("path",window.location.pathname);g.append("device",c);g.append("browser",window.navigator.userAgent);g.append("logs",JSON.stringify(e));navigator.sendBeacon("https://errors.cpmstar.com",g)}})}}(),za=[],ia;(function(a){a[a.NONE=0]="NONE";a[a.DETECTING=1]="DETECTING";a[a.ROADBLOCK=2]="ROADBLOCK"})(ia||
(ia={}));var Aa={gptStatus:ia.NONE},Ra={},ma=[],Ja={},fb=function(){function a(b,c,f){this.kv={};this.targeting={};this.display=!1;this.numdisplays=0;this.slotName=b;this.divId=f;this.divSelector="undefined"!=typeof CSS&&"function"==typeof CSS.escape?"#"+CSS.escape(this.divId):"#"+this.divId.replace(/:/g,"\\:").replace(/\./g,"\\.");this.sizes=c=c.sort(function(a,b){a=a[0]*a[1];b=b[0]*b[1];return a>b?-1:a==b?0:1});for(b=0;b<c.length&&!(this.modulename=a.getModuleForSize(c[b]));b++);}a.prototype.addService=
function(){};a.prototype.clearCategoryExclusions=function(){};a.prototype.clearTargeting=function(a){};a.prototype.defineSizeMapping=function(a){};a.prototype.get=function(a){return this.kv[a]};a.prototype.getAdUnitPath=function(){return this.slotName};a.prototype.getAttributeKeys=function(){};a.prototype.getCategoryExclusions=function(){};a.prototype.getResponseInformation=function(){};a.prototype.getSlotElementId=function(){return this.divId};a.prototype.getTargeting=function(a){};a.prototype.getTargetingKeys=
function(){};a.prototype.set=function(a,b){this.kv[a]=b};a.prototype.setCategoryExclusion=function(a){};a.prototype.setClickUrl=function(a){};a.prototype.setCollapseEmptyDiv=function(a,b){};a.prototype.setForceSafeFrame=function(a){};a.prototype.setSafeFrameConfig=function(a){};a.prototype.setTargeting=function(a,b){};a.prototype.updateTargetingFromMap=function(a){};a.prototype.destroy=function(){};a.gptSizeToString=function(a){var b=0,c=0;a.width&&a.height?(b=a.width,c=a.height):a[0]&&a[1]&&(b=a[0],
c=a[1]);return b+"x"+c};a.getModuleForSize=function(b){b=a.gptSizeToString(b);return Ra[b]?Ra[b]:""};a.prototype.go=function(a){void 0===a&&(a=null);if(this.modulename&&this.divId){if(0<=this.divId.toLowerCase().indexOf("footer"))return;0==this.numdisplays?n({kind:"go",module:this.modulename,config:{options:{roadblock:a},conditions:{target:{find:this.divSelector,kind:"replace"}}}}):n({kind:"refresh",module:this.modulename})}this.numdisplays++};return a}(),Za=function(){function a(){this.$=Ca;this.modulemap=
va;this.drut=Ta;this.proto=Ma;this.serverroot=Ea;this.cdnroot=ua;this.zonedata=D;this.requestTypes=ib;this.requestInstances=nb;this.requestDeps=pb;this.deps=Ka;this.debug=cb;this.locationData={oo:void 0,dm:void 0,bd:void 0,countryName:void 0,countryCode:void 0,region:void 0,city:void 0,ip:void 0,rt:void 0};this.coppa=!1;this.startTime=null}a.prototype.eventCallback=function(a){var b=this,c=void 0;if("function"===typeof a)c=a;else if("string"===typeof a)c=Function.call(null,a);else if(Array.isArray(a))c=
function(){a.forEach(function(a){b.eventCallback(a).call(null)})};else if("object"==typeof a&&a.kind&&a.module)c=b.api.bind(null,a);else throw Error("The event callback is not a valid type.");return c};a.prototype.api=function(a){n(a)};a.prototype.getTopPageUrl=function(){return Z};a.prototype.getTopHost=function(){return pa};a.getParameterByName=function(b){a.query||(a.query=window.location.search.substr(1).split("&").reduce(function(a,b){b=b.split("=").map(decodeURIComponent);b[1]&&(a[b[0]]=b[1]);
return a},{}));return a.query[b]};a.prototype.getTimeElapsed=function(){return(new Date).getTime()-this.startTime};a.prototype.isDomReady=function(){return Ga};a.prototype.getDeviceType=function(){return p()};a.prototype.getIP=function(){return this.locationData.ip?this.locationData.ip:""};a.prototype.isMobile=function(){return u()};a.prototype.isDesktop=function(){return h()};a.prototype.isOptedOut=function(){var a=null==I.locationData?!1:I.locationData.oo?!0:!1;return a};a.prototype.isUserInCA=
function(){return null==I.locationData?!1:"US"==I.locationData.countryCode&&"California"==I.locationData.region?!0:!1};a.prototype.isUserInEU=function(){return F()};a.prototype.isPubConsentGlobal=function(){var a=C.parsedCookies().pubconsent,b=C.parsedCookies().euconsent;return!a&&b?!0:!1};a.prototype.getPubConsent=function(){return A()};a.prototype.getRand=function(){return Va};a.prototype.isATSLoaded=function(){return eb};a.prototype.isCMPLoaded=function(){return!(!$a&&!window.__tcfapi)};a.prototype.init=
function(){var b=this;b.startTime=(new Date).getTime();b.log=B;b.debug&&(b.forcecampaigngroupid=a.getParameterByName("forcecampaigngroupid"));D.options&&D.options.errorPercent&&Math.floor(100*Math.random())<=D.options.errorPercent&&(ab=new qb);b.zonedata&&b.zonedata.options&&b.zonedata.options.referrerRevshare&&(b.zonedata.zone_referrer=a.getParameterByName("zone_referrer"),b.zonedata.zone_referrer&&document.body.addEventListener("click",function(a){a=a||event;var b;a:{for(b=a.target||a.srcElement;b;){if("a"==
(b.nodeName||b.tagName).toLowerCase())break a;b=b.parentNode}b=null}b&&b.href&&0>b.href.indexOf("cpmstar.com")&&(!Wa||0>b.href.indexOf(Wa))&&a.preventDefault()}));Qa(function(){b.zonedata.options&&b.zonedata.options.gpt&&na({});for(ca=function(a,c,f){var e,g,h;r();var d=f?f.cb:function(){},k=f?f.fail:null,n=null===(e=null===a||void 0===a?void 0:a.events)||void 0===e?void 0:e.fail,l=k,m=null;n&&(m=n?b.eventCallback(n):null,l=function(){m&&m(null);k&&k()});try{Oa=sessionStorage&&sessionStorage.getItem(Na)?
sessionStorage.getItem(Na):"0"}catch(ub){Oa="0"}e=window.zone_conditions;if(null==e||S(null,window.zone_conditions))if(null==D.conditions||null!=e&&null!=e.bypassConditions||S(null,D.conditions)){e=D.modules;a&&(e=[a]);for(var u=0;u<e.length;u++){var p=e[u];if(null==a||p==a)if(null!=a||1!=p.ran){if(n=null===(g=null===p||void 0===p?void 0:p.events)||void 0===g?void 0:g.fail)m=n?b.eventCallback(n):null,l=function(){m&&m(null);k&&k()};if(f&&f.once&&p.ran){if(1==e.length&&a==p&&l){l&&l();break}}else{var q=
{isWaiting:!1},E=S(p,p.conditions,q);if(null==E){l&&!q.isWaiting&&l();if(1==e.length&&a==p)break;B("Failed to match conditions for module: "+p.info.name)}else{Array.isArray(E)||"object"!==typeof E||(E=[E]);q=function(a){var e=!p.ran;p.ran=!0;p=C.extendLite({},p);p=C.extendLite(p,E[a]);if(n=null===(h=null===p||void 0===p?void 0:p.events)||void 0===h?void 0:h.fail)m=n?b.eventCallback(n):null,l=function(){m&&m(null);k&&k()};(function(a){if(a.kind){var g=Ha[a.kind];null==g&&(g=qa.default);var h=function(h){b.$=
h;a.js=new g(b,a);va[f&&null!=f.id?f.id:a.info.name]=a;a.js.create();h=function(a){a&&a()};a.options&&a.options.refreshrate&&!1!==a.options.autorefresh&&e&&a.js.startRefreshTimer(h);null==c&&a.moduleState&&(c=a.moduleState,a.moduleState=null);if("create"==c)d(a.js.request.bind(a.js));else if("request"==c)a.js.request(d?d:h,l);else if("init"==c){var k=!0;if(a.target&&1==a.target.slot&&a.options&&a.options.width&&a.options.height){k=!1;for(var n=0;n<ma.length;n++)for(var m=0;m<ma[n].sizes.length;m++)if(ma[n].sizes[m][0]==
a.options.width&&ma[n].sizes[m][1]==a.options.height){k=!0;break}}k&&a.js.init(a.js,a.js.res,h)}else a.js.request(h,l)};Ca?M.jQuery(h):h(null)}})(p)};for(var w=0;w<E.length;w++)q(w)}}}}}else l&&l();else l&&l()};bb.length;){var a=bb.shift();n(a)}bb.push=n;"undefined"===typeof M.cpmstarAPI&&(M.cpmstarAPI=n);a=""+document.readyState;if("complete"===a||"loaded"===a||"interactive"===a)Ga=!0;Ca?Ca(document).ready(function(){Ga=!0;ca()}):(document.addEventListener("DOMContentLoaded",function(a){Ga=!0;ca()}),
ca())})};a.prototype.log=function(a){B(a)};a.prototype.getScript=function(a,b){return L(a,b)};a.prototype.pickEl=function(a,b,c,f){return R(a,b,c,f)};a.prototype.getPidEls=function(a,b){return v(a,b)};a.prototype.findEls=function(a,b,c){return N(a,b,c)};a.prototype.getModuleByPath=function(a){a:{for(var b=Object.keys(va),c=0;c<b.length;c++){var f=va[b[c]];if(f.adUnitPath==a){a=f;break a}}a=null}return a};a.prototype.addToSizeModuleMap=function(a,b,c){Ra[a+"x"+b]=c};a.query=null;return a}(),I=new Za;
I.init()},"./src/zonemasters/requests/editorialrequest.ts":function(d,l,q){var t=this&&this.__extends||function(){var h=function(b,d){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e])};return h(b,d)};return function(b,d){function g(){this.constructor=b}h(b,d);b.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=q("./src/zonemasters/requests/superrequest.ts"),
u=q("./src/zonemasters/utils.ts");d=function(h){function b(b){return h.call(this,b)||this}t(b,h);b.prototype.getMacroMaps=function(){return[]};b.prototype.convertCreative=function(b,g){var a=this,e=this.getMacroMaps()[g];if(e){var f=Object.keys(e);for(g=0;g<f.length;g++){var c=f[g];b[c]=e[c]}}b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:u.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(b,c,f,e){var g=a.getCtx();
e?(b=getComputedStyle(e),b.fontSize&&b.fontFamily&&(g.font=b.fontSize+" "+b.fontFamily),b=e.offsetWidth-(parseFloat(b.paddingLeft)+parseFloat(b.paddingRight))-(parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth))):g.font="6px Arial";e=this.creativemacros.DESC300?u.from_utf8(this.creativemacros.DESC300):null;var h=this.creativemacros.DESC?u.from_utf8(this.creativemacros.DESC):null;h=(e?e:h?h:"").split("<br");for(var d=[],k=0;k<h.length;k++)e=h[k],e=e.trim(),"/"==e[0]&&">"==e[1]&&(e=e.slice(2)),
e=e.trim(),0<e.length&&d.push(e);h="";var n=0;for(k=0;k<d.length;k++){e=d[k];var l=g.measureText(e).width;l=Math.ceil(l/b);if(1<=n&&n+l>c)break;n+=l;if(null!=f&&h.length+e.length>f){c=!1;if("false"!==a.config.options.endOnPunctuation)for(g=f-1;g>=Math.ceil(f/1.5);g--)if(" "==e[g]&&("!"==e[g-1]||"."==e[g-1]||"?"==e[g-1])){c=!0;h+=e.slice(0,g);break}c||(h+=e.slice(0,f-h.length-3)+"...");break}else h+=e+"<br/>"}return h}.bind(b);b.getMaxLength=function(a,b){}.bind(b);b.availImages=[];e=Object.keys(b.creativemacros);
for(g=0;g<e.length;g++){f=e[g];c=null;if("IMAGE"==f.slice(0,5))c=f.slice(5).split("X");else if("BANNER"==f.slice(0,6))c=f.slice(6).split("X");else continue;c&&2==c.length&&b.availImages.push({width:c[0],height:c[1],url:b.creativemacros[f]})}b.closestAspect=function(a,b,c){if(0==c.length)return{url:"",width:a,height:b};for(var f=a/b,e=-1,g=0;4>g&&-1==e;g++)for(var h=0,d=0;d<c.length;d++)if(!(a>2*c[d].width||a<c[d].width/2||b>2*c[d].height||a<c[d].height/2)){var k=c[d].width/c[d].height/f;1<k&&(k=1/
k);k>h&&(h=k,e=d)}-1==e&&(e=0);return c[e]};b.getImageUrl=function(a,c){return b.closestAspect(a,c,b.availImages).url}};b.prototype.getCtx=function(){this.ctx||(this.ctxCanvas=document.createElement("canvas"),this.ctx=this.ctxCanvas.getContext("2d"));return this.ctx};b.prototype.makeAttempt=function(b){h.prototype.makeAttempt.call(this,b);var g=this,a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),e=this.getViewAspxBaseUrl();e+="poolid="+this.config.poolid+
"&json="+this.config.json+"&callback="+a;this.config.multi&&(e+="&multi="+this.config.multi);this.config.requiredmacros&&(e+="&requiredmacros="+this.config.requiredmacros);g.mm.getScript(e);window[a]=function(a){var c=a.creatives;if(null!=c&&0!=c.length){var f={getAdTypeAvailable:function(a){return"editorial"},renderAd:function(b,f,e,h){null==h&&(h={});g.creatives=c;var d=g.config.options,k=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;k=d.descriptionPixelWidth?d.descriptionPixelWidth:
k;var n=d.maxDescriptionLines?d.maxDescriptionLines:1,l=d.descriptionLength?d.descriptionLength:120,m=b.iteration?b.iteration:0;d.capIsCalculated||(h.renderCount?d.cap=Math.floor(a.creatives.length/h.renderCount):this.getMacroMaps().length&&(d.cap=Math.floor(a.creatives.length)/this.getMacroMaps().length),d.capIsCalculated=!0);var r=d.cap?d.cap:a.creatives?a.creatives.length:20,q=[];if(a.creatives){var t=m%a.creatives.length;null!=h.renderIndex&&(t=r*h.renderIndex);for(m=t;m<a.creatives.length&&m<
t+r;m++){var w=a.creatives[m];this.convertCreative(w,h.renderIndex);w.thumbUrl=w.getImageUrl(d.thumbWidth,d.thumbHeight);w.imageUrl=w.getImageUrl(d.imageWidth,d.imageHeight);w.description=w.getDescription(k,n,l);w.title=w.getTitle();w.clickUrl=w.getLink();null==w.title?(a.creatives.splice(m,1),m--):(q.push(a.creatives[m]),m+1>=a.creatives.length&&q.length<r&&(m=-1,t=0,r-=q.length))}}b.creatives=q;if(g.config.style)for(h=Object.keys(g.config.style),m=0;m<h.length;m++)r=h[m],f.style[r]=g.config.style[r];
if(g.config.pageStyle)for(h=Object.keys(g.config.pageStyle),m=0;m<h.length;m++)for(r=h[m],q=g.mm.findEls(r),t=Object.keys(g.config.pageStyle[r]),w=0;w<q.length;w++)for(var H=q[w],v=0;v<t.length;v++){var Q=t[v];H.style[Q]=g.config.pageStyle[r][Q]}null!=f&&(m="",h=window.doT,"undefined"!==typeof h&&((r=b.rendertemplate?b.rendertemplate:g.config.rendertemplate)?g.config.render=h.template(r):b.template?g.config.render=h.template(b.template):g.config.template&&(g.config.render=h.template(g.config.template))),
g.config.render?m=g.config.render({creatives:b.creatives}):b.template?m=b.template:g.config.template&&(m=g.config.template),m=function(a,b,c){return a.split(b).join(c)}(m,"@this",b.divid+".js"),h="<HTML><BODY>",b.css?h+="<style>"+u.getCssString(b.css)+"</style>":g.config.css&&(h+="<style>"+u.getCssString(g.config.css)+"</style>"),p.default.insertNewIframe({width:this.config.style.width,height:this.config.style.height,intoEl:f,renderHtml:h+m+"</BODY></HTML>",sandbox:b.options.sandbox}),m=function(){for(var a=
[].slice.call(f.getElementsByClassName("autofit")),b=0;b<a.length;b++)u.autoFitText(a[b])},b.js.onEvent(window,"resize",m),b.js.onEvent(window,"orientationchange",m),m());if(d.descriptionTarget)for(d=g.mm.findEls(d.descriptionTarget,b.div),m=0;m<d.length;m++)b.creatives&&b.creatives[m]&&(d[m].innerHTML=b.creatives[m].getDescription(k,n,l,d[m]));e&&e()}.bind(g)};g.res=f;g.triggerAllModuleCallbacks(b,f)}}};return b}(p.default);l.default=d},"./src/zonemasters/requests/headerbiddingrequest.ts":function(d,
l,q){function t(a,b){return a.force&&!b.force?-1:b.force&&!a.force?1:a.cpm>b.cpm?-1:a.cpm==b.cpm?0:1}var p=this&&this.__extends||function(){var a=function(b,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,f)};return function(b,f){function c(){this.constructor=b}a(b,f);b.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(l,"__esModule",{value:!0});
d=q("./src/zonemasters/requests/superrequest.ts");var u=q("./src/zonemasters/utils.ts"),h=function(){function a(a,b){this.adPickResult=null;this.fallbackCreativeIndex=this.curRenderIndex=-1;this.hbRequest=b;this.unit=a;this.kind="none";this.bid=0;this.hb_adid=this.bidResponse=this.hb_bidder=null;this.bidsById={};this.bidsByBidder={};this.bidsBySize={};this.bidsByCpm=[];this.biddersByCpm=[];this.adIdsSelected=null}a.prototype.selectAd=function(a){this.curRenderIndex=a;var b=(new Date).getTime();if(!this.adIdsSelected)return!1;
for(var c=null;a<this.adIdsSelected.length;a++)if(c=this.adIdsSelected[a],0!=c.indexOf("used"))if(0==c.indexOf("fallback"))break;else{var e=this.bidsById[c];if(e&&b-e.responseTimestamp<1E3*e.ttl-1E3){this.adIdsSelected[a]="used";break}}if(c&&a<this.adIdsSelected.length)try{if(0==c.indexOf("fallback"))this.fallbackCreativeIndex=parseInt(c.slice(9)),this.kind="fallback",this.bid=this.rawCPM=this.unit.fallback.bid,this.bidResponse=this.hb_adid=this.hb_bidder=null;else{var g=this.bidsById[c];if(null==
g||null==g.adId)throw Error();this.kind="hb";this.hb_bidder=g.bidder;var h=this.hbRequest.config.bidderDiscreps?this.hbRequest.config.bidderDiscreps[this.hb_bidder]:null,d=h&&h.discrep?h.discrep:1;.4>d&&(d=.4);1<d&&(d=1);this.rawCPM=g.cpm;this.bid=g.cpm*d;this.hb_adid=g.adId;this.bidResponse=this.bidsById[c];this.fallbackCreativeIndex=-1}return!0}catch(H){this.kind="none",this.bid=this.rawCPM=0,this.hb_adid=this.hb_bidder=null,this.fallbackCreativeIndex=-1,this.bidResponse=null}else return!1};a.prototype.getBidResponseById=
function(a){return this.bidsById[a]};a.prototype.getFallbackCreativeIndex=function(){return this.fallbackCreativeIndex};a.prototype.isVideoFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&a&&null!=a.creativemacros&&(null!=a.creativemacros.HTML5VID_VASTSTRING||null!=a.creativemacros.HTML5VID_ADX)};a.prototype.isJsonFallback=function(){var a=this.getFallbackCreativeIndex();
a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&!this.isVideoFallback()&&!this.isBannerFallback()&&this.unit.fallback&&a&&a.creativemacros&&0<Object.keys(a.creativemacros).length&&this.unit.fallback.json};a.prototype.isBannerFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&!this.isVideoFallback()&&
a&&a.code&&!this.unit.fallback.json};a.prototype.isHB=function(){return"hb"==this.kind&&null!=this.hb_bidder&&null!=this.bidResponse};a.prototype.isPremiumHB=function(){return this.isHB()&&("justpremium"==this.hb_bidder||"sublime"==this.hb_bidder)};a.prototype.isBannerHB=function(){return this.isHB()&&!this.isPremiumHB()&&"banner"==this.bidResponse.mediaType};a.prototype.isInstreamHB=function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&
"instream"==this.unit.mediaTypes.video.context&&"video"==this.bidResponse.mediaType&&(null!=this.bidResponse.vastXml||null!=this.bidResponse.vastUrl)};a.prototype.isOutstreamHB=function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&"outstream"==this.unit.mediaTypes.video.context};a.prototype.getAdType=function(){if(this.isHB()){if(this.isPremiumHB())return"premium";if(this.isBannerHB())return"banner";if(this.isInstreamHB()||this.isOutstreamHB())return"video"}else return this.isBannerFallback()?
"banner":this.isVideoFallback()?"video":this.isJsonFallback()?"json":"unknown"};return a}(),b,k=!1,g=!1;q=function(a){function e(b){b=a.call(this,b)||this;b.useGam=!1;b.blockGam=!1;b.gamclick=!1;b.subpoolid=0;b.biddersAllowed={};b.gamSlotRenderListener=!1;return b}p(e,a);e.prototype.isBlockedBid=function(a){try{var b=a.meta;if(this.config.bdomain){var f=u.toStringArrayLower(this.config.bdomain);if(b&&null!=b.advertiserDomains&&Array.isArray(b.advertiserDomains))for(var e=u.toStringArrayLower(b.advertiserDomains),
g=0;g<e.length;g++)for(b=0;b<f.length;b++)if(0<=e[g].indexOf(f[b]))return!0;var h=null!=a.ad?a.ad:a.adUrl;if(h&&"string"==typeof h)for(g=0;g<f.length;g++)if(0<=h.toLowerCase().indexOf(f[g]))return!0}}catch(H){this.mm.log("Error during isBlockedBid() - should not happen, returning false")}return!1};e.prototype.isCrossOriginFrame=function(){var a=null;if(this.config&&this.config.adUnits)for(var b=0;b<this.config.adUnits.length;b++)if(this.config.adUnits[b].gamPageUrl){a=this.config.adUnits[b].gamPageUrl;
break}try{return document.location.hostname!==window.parent.location.hostname||a&&0>window.parent.location.hostname.indexOf(a)}catch(m){return!0}};e.prototype.matchesFilter=function(a){try{switch(a.type){case "Header":var b=a.data.split("=");if(2==b.length)switch(b[0]){case "referer":return 0<=window.location.href.toLowerCase().indexOf(b[1].toLowerCase())}break;case "OS":return 0<=this.mm.getDeviceType().toLowerCase().indexOf(a.data.toLowerCase());case "Domain":return 0<=window.location.host.toLowerCase().indexOf(a.data.toLowerCase());
case "Country":return 0<=this.mm.locationData.countryName.toLowerCase().indexOf(a.data.toLowerCase());case "City":return 0<=this.mm.locationData.city.toLowerCase().indexOf(a.data.toLowerCase())}return!1}catch(m){return!1}};e.prototype.areFiltersAllowed=function(a){if(a&&Array.isArray(a))for(var b=0;b<a.length;b++){var f=a[b];if(f.exclude&&("Country"!=f.type||"WORLDWIDE"!=f.data)&&this.matchesFilter(f))return!1}return!0};e.prototype.init=function(b){a.prototype.init.call(this,b);if(this.config.BIDDERFILTERS&&
Array.isArray(this.config.BIDDERFILTERS))for(b=0;b<this.config.BIDDERFILTERS.length;b++){var c=this.config.BIDDERFILTERS[b];c.bidder&&!this.areFiltersAllowed([c])&&(this.biddersAllowed[c.bidder]=!1)}b=null!=this.config.GAMPercent?this.config.GAMPercent:1;this.blockGam=c=this.isCrossOriginFrame();this.config.GAMWIDTH&&(window.innerWidth<this.config.GAMWIDTH&&(this.blockGam=!0),window.innerHeight<this.config.GAMHEIGHT&&(this.blockGam=!0));var f=this.mm.locationData;if(1==f.bd||0==f.dm)this.biddersAllowed["*"]=
!1,this.blockGam=this.biddersAllowed.cpmstar=!0;c&&(this.biddersAllowed.pubmatic=!1,this.biddersAllowed.oneVideo=!1,this.biddersAllowed.rhythmone=!1,this.biddersAllowed.rubicon=!1,this.biddersAllowed.superawesome=!1,this.biddersAllowed.onemobile=!1);this.mm.isUserInEU()&&!this.mm.isCMPLoaded()&&(this.blockGam=!0);if(this.config.adUnits)for(c=0;c<this.config.adUnits.length;c++){f=this.config.adUnits[c];null==f.bids&&(f.bids=[]);for(var e=0;e<f.bids.length;e++){var g=f.bids[e];!0===this.biddersAllowed[g.bidder]||
!1!==this.biddersAllowed["*"]&&!1!==this.biddersAllowed[g.bidder]||(f.bids.splice(e,1),e--)}}if(this.config.GAMFILTERS&&this.config.adUnits)for(c=0;c<this.config.adUnits.length;c++)f=this.config.adUnits[c],this.areFiltersAllowed(f.gamFilters)||(f.blockGam=!0);this.config.GAM&&!this.blockGam&&(1==b||Math.random()>this.config.GAMPercent)&&(this.useGam=!0,this.config.GAMSubpoolid&&(this.subpoolid=this.config.GAMSubpoolid))};e.prototype.getAdUnitByPath=function(a){for(var b=0;b<this.config.adUnits.length;b++){var f=
this.config.adUnits[b];if(f.code==a)return f}return null};e.prototype.makeAttempt=function(a){function c(a){var b=(a.ownerDocument?a.ownerDocument:document).createElement("iframe");b.style.borderWidth="0";b.scrolling="no";b.marginwidth=0;b.marginheight=0;b.topmargin=0;b.leftmargin=0;b.allowtransparency=!0;b.setAttribute("marginwidth","0");b.setAttribute("marginheight","0");b.setAttribute("topmargin","0");b.setAttribute("leftmargin","0");b.setAttribute("allowtransparency","true");b.width="0";b.height=
"0";null!=a&&a.appendChild(b);return b}function f(a,c,f,e,g){var k,l,m,n,p,u,r,q,v;void 0===g&&(g=null);null==f&&(f=0);e=a.bestBid;if(!e){var E=(new Date).getTime()+300,w=d.getAdUnitByPath(c);e=new h(w,d);if(null==w)return e;c=b&&b.getBidResponsesForAdUnitCode?b.getBidResponsesForAdUnitCode(c):null;if(w.fallback&&w.fallback.creatives)for(var y=0;y<w.fallback.creatives.length;y++){var x=w.fallback.creatives[y];if(null!=x&&!(""==x.code&&0==Object.keys(x.creativemacros).length||0<=x.click.indexOf("&campaignid=320&"))){var z=
"none",R=0,A=0;null==x.creativemacros||null==x.creativemacros.HTML5VID_VASTSTRING&&null==x.creativemacros.HTML5VID_ADX?x&&x.code&&!w.fallback.json?z="banner":x.creativemacros&&0<Object.keys(x.creativemacros).length&&w.fallback.json&&(z="json"):(z="video",(A=null===(l=null===(k=null===w||void 0===w?void 0:w.mediaTypes)||void 0===k?void 0:k.video)||void 0===l?void 0:l.playerSize)&&Array.isArray(A)&&Array.isArray(A[0])&&(A=A[0]),A||(A=[960,540]),R=A[0],A=A[1]);"none"!=z&&e.bidsByCpm.push({mediaType:z,
rawCPM:w.fallback.bid,cpm:w.fallback.bid,adId:"fallback_"+y,w:parseInt(""+(null!==(m=null===x||void 0===x?void 0:x.width)&&void 0!==m?m:R)),h:parseInt(""+(null!==(n=null===x||void 0===x?void 0:x.height)&&void 0!==n?n:A)),bidder:"fallback",force:(null===x||void 0===x?0:x.forcecpmstar)?!0:!1,expires:E+3E5})}}if(null!=c){for(l=0;l<c.bids.length;l++){m=c.bids[l];k=(k=d.config.bidderDiscreps?d.config.bidderDiscreps[m.bidder]:null)&&k.discrep?k.discrep:1;.4>k&&(k=.4);1<k&&(k=1);k={mediaType:m.mediaType,
adId:m.adId,rawCPM:m.cpm,cpm:m.cpm*k,bidder:m.bidder,w:m.width,h:m.height,expires:m.responseTimestamp+1E3*m.ttl,force:!1};n=["triplelift"];y=!0;if(w.mediaTypes.banner&&w.mediaTypes.banner.sizes&&Array.isArray(w.mediaTypes.banner.sizes))for(y=!1,x=0;x<w.mediaTypes.banner.sizes.length;x++)z=w.mediaTypes.banner.sizes[x][1],w.mediaTypes.banner.sizes[x][0]==k.w&&(z==k.h||0<=n.indexOf(k.bidder))&&(y=!0);y||d.mm.log("adId with invalid size: "+k.adId+" bidder: "+k.bidder+" with w: "+k.w+" and h  "+k.h);k.expires<
E+1E3&&d.mm.log("Bid expired adId: "+k.adId+" bidder: "+k.bidder+" with cpm: "+k.cpm+" and ttl  "+m.ttl);"rendered"!=m.status&&k.expires>E+1E3&&y&&(e.bidsByCpm.push(k),e.bidsById[m.adId]=m,n=""+m.width+"x"+m.height,null==e.bidsBySize[n]?e.bidsBySize[n]=[k]:(e.bidsBySize[n].push(k),e.bidsBySize[n].sort(t)),null==e.bidsByBidder[m.bidder]?e.bidsByBidder[m.bidder]=[k]:(e.bidsByBidder[m.bidder].push(k),e.bidsByBidder[m.bidder].sort(t)))}E=Object.keys(e.bidsByBidder);for(c=0;c<E.length;c++)e.biddersByCpm.push(e.bidsByBidder[E[c]][0]);
e.biddersByCpm.sort(t);e.bidsByCpm.sort(t)}if(null==e.adIdsSelected)if(e.adIdsSelected=[],0==e.bidsByCpm.length)d.mm.log("Error: no bids or fallbacks for ad unit: "+w.code);else if(g){if(e.adPickResult=g(e.bidsByCpm),v=null===(p=e.adPickResult)||void 0===p?void 0:p.picks)for(w=0;w<v.length;w++)e.adIdsSelected.push(v[w].adId)}else for(p=e.bidsByCpm,g=-1,d.config.minBid&&("object"===typeof d.config.minBid?(g=null!==(u=d.config.minBid.default)&&void 0!==u?u:-1,d.config.minBid[d.mm.locationData.countryCode]&&
(g=d.config.minBid[d.mm.locationData.countryCode])):"number"===typeof d.config.minBid&&(g=null!==(r=d.config.minBid)&&void 0!==r?r:-1)),w.minBid&&("object"===typeof w.minBid?(g=null!==(q=w.minBid.default)&&void 0!==q?q:-1,w.minBid[d.mm.locationData.countryCode]&&(g=w.minBid[d.mm.locationData.countryCode])):"number"===typeof w.minBid&&(g=Math.max(g,w.minBid))),u=0;u<p.length;u++){k=p[u];q=null!=d.config.FALLBACK_FORCE_PERCENT?d.config.FALLBACK_FORCE_PERCENT:.05;r=!1;d.config.GAM&&(q=0);Math.random()<
q&&(r=!0);try{q=0,w.fallback.minBid&&("object"===typeof w.fallback.minBid?(q=null!==(v=w.fallback.minBid.default)&&void 0!==v?v:-1,w.fallback.minBid[d.mm.locationData.countryCode]&&(q=w.fallback.minBid[d.mm.locationData.countryCode])):"number"===typeof w.fallback.minBid&&(q=Math.max(g,w.fallback.minBid))),"fallback"==k.bidder||isNaN(k.cpm)||!(-1==g||k.cpm>=g)||r?"fallback"==k.bidder&&k.cpm>=q&&e.adIdsSelected.push(k.adId):e.adIdsSelected.push(k.adId)}catch(ja){}}a.bestBid=e}e.curRenderIndex!=f&&e.selectAd(f);
return e}function e(a){if(!a.initAdserverSet){a.initAdserverSet=!0;var e={nextAd:function(a){null==a.renderIndex&&(a.renderIndex=0);a.renderIndex++;return(a=f(a,a.adUnitPath,a.renderIndex))&&"none"!=a.kind?!0:!1},pickAds:function(a,b,c){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));(a=b.bestBid=f(b,b.adUnitPath,b.renderIndex,!1,c))&&a.isBannerHB()&&"cpmstar"==a.hb_bidder&&a.bidResponse&&a.bidResponse.creativeMacros?b&&b.js&&b.js.res&&(b.js.res.getResponseData=function(a){return{creativemacros:a}}.bind(d,
a.bidResponse.creativeMacros)):b&&b.js&&b.js.res&&(b.js.res.getResponseData=null);return a.adPickResult}.bind(d,b),getAdTypeAvailable:function(a,b){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));return(b.bestBid=f(b,b.adUnitPath,b.renderIndex)).getAdType()}.bind(d,b),renderAd:function(a,b,e,g,h){void 0===h&&(h={});null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));null==g&&(g=function(){});var k=d.getAdUnitByPath(b.adUnitPath),l=f(b,b.adUnitPath,b.renderIndex),
m=k.fallback,n=g;g=function(){n()};d.mm.log("bestbid is kind: "+l.kind);window.context&&window.context.reportRenderedEntityIdentifier&&("hb"==l.kind&&l.hb_bidder?window.context.reportRenderedEntityIdentifier("cpms_"+l.hb_bidder+"_"+l.hb_bidder):"fallback"==l.kind&&m&&m.creative&&m.creative.creativemacros&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+m.poolid+"_"+m.creative.creativemacros.CLICKURL));var p=l.hb_bidder;if(d.config.checkBid&&"number"===typeof d.config.checkBid&&Math.random()<=
d.config.checkBid){for(var u=["ix","openx","pubmatic","onemobile","appnexus"],r=!1,q=0;q<u.length;q++){var t=u[q];if(null!=l.bidsByBidder[t]&&.03<l.bidsByBidder[t][0].cpm){r=!0;break}}r||(k.blockGam=!0)}!d.useGam||k.blockGam||h&&h.blockGam||!(u=a.getAdserverTargetingForAdUnitCode?a.getAdserverTargetingForAdUnitCode(k.code):null)||(p=u.hb_bidder);var w=null;if("hb"==l.kind||!(!d.useGam||k.blockGam||h&&h.blockGam)&&p)for(u=0;u<k.bids.length&&!(k.bids[u].bidder==p&&(w=k.bids[u],.5<Math.random()));u++);
if(0!=b.renderIndex||!d.useGam||k.blockGam||h&&h.blockGam||null==k.gamAdSlot||null==k.gamCampaignid||null==m||null==m.poolid)if(l.isVideoFallback())b.js.res.getResponseData=function(){l=f(b,b.adUnitPath,b.renderIndex);return m.creatives[l.fallbackCreativeIndex]},g();else if(l.isInstreamHB()){var v=function(){a.markWinningBidAsUsed({adUnitCode:k.code,adId:l.hb_adid})};l.bidResponse?((e=l.bidResponse.vastUrl)&&"appnexus"!=l.bidResponse||!l.bidResponse.videoCacheKey||(e="https://prebid.adnxs.com/pbc/v1/cache?uuid="+
l.bidResponse.videoCacheKey),l.bidResponse.vastXml?(b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:l.bidResponse.vastXml}}},g(),v()):e?fetch(e).then(function(a){return a.text()}).then(function(a){b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:a}}};g();v()}).catch(function(a){b.js.res.getResponseData=null;b.js.res.getError=function(){return a};g();v()}):(b.js.res.getResponseData=null,g(),v())):(b.js.res.getResponseData=null,g(),v());null!=
w&&null!=m&&null!=m.poolid&&(e=l.rawCPM*m.poolid/37.47,"cpmstar"!=w.bidder&&d.mm.getScript(d.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+w.campaignid+"&sp="+e))}else if(l.isOutstreamHB()){d.mm.getModuleByPath(b.adUnitPath);a.renderAd(window.document,l.hb_adid);var x=k.bid;d.mm.log("winning bidder "+l.hb_bidder+" with bid "+l.bid);null!=w&&null!=m&&null!=m.poolid&&(e=l.rawCPM*m.poolid/37.47,"cpmstar"!=w.bidder&&d.mm.getScript(d.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+
w.campaignid+"&sp="+e));x&&x.adResponse&&Array.isArray(x.adResponse.ads)&&x.adResponse.ads.length&&x.adResponse.ads[0].rtb&&x.adResponse.ads[0].rtb.video&&x.adResponse.ads[0].rtb.video.content?b.js.res.getResponseData=function(){return x.adResponse.ads[0].rtb.video.content}:(d.mm.log("Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"),b.js.res.getResponseData=null,b.js.res.getError=function(){return"Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"});
g()}else if(l.isBannerFallback()||l.isBannerHB()||l.isPremiumHB())if(e=c(e),h=e.contentWindow.document,"hb"==l.kind&&l.hb_adid){try{d.mm.log("Rendering hb-adid:"+l.hb_adid),a.renderAd(h,l.hb_adid)}catch(ja){d.mm.log("error during renderAd "+ja)}d.mm.log("winning bidder "+l.hb_bidder+" with bid "+l.bid);null!=w&&null!=m&&null!=m.poolid&&(e=l.rawCPM*m.poolid/37.47,"cpmstar"!=w.bidder&&(e=d.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+w.campaignid+"&sp="+e,0<b.renderIndex&&(e+="&defaultcampaignid="+
w.campaignid),d.mm.getScript(e)));g()}else{if("fallback"==l.kind){p=l.fallbackCreativeIndex;null==p&&(p=0);var y=m.creatives[p];(p=y.code)?(y.px_cr&&(p+="\n"+("<img width=0 height=0 src='"+y.px_cr+"' />")),e.width=y.width?y.width:m.width,e.height=y.height?y.height:m.height,h.write("<HTML><BODY>"+p+"</BODY></HTML>"),h.close()):b.js.res.getResponseData=function(){return y};g()}}else{if(l.isJsonFallback()){p=l.fallbackCreativeIndex;var z=m.creatives[p];b.js.res.getResponseData=function(){return z}}g()}else A.cmd.push(function(){a.que.push(function(){var c=
document.getElementById(b.js.getRenderTargetDivID());c&&c.classList.add("cpmstar_googlead");A.display(b.js.getRenderTargetDivID());a.setTargetingForGPTAsync([k.code]);k.gamAdSlot.setTargeting("cpms_prebid","1");d.mm.log("bidderInfo bidder:"+(w?w.bidder:"null")+" with campaign id: "+(w?w.campaignid:"null"));null!=w&&"cpmstar"!=w.bidder&&k.gamAdSlot.setTargeting("cpms_hb_campaignid",""+w.campaignid);k.gamAdSlot.setTargeting("cpms_gam_campaignid",""+k.gamCampaignid);k.gamAdSlot.setTargeting("cpms_poolid",
""+m.poolid);A.pubads().refresh([k.gamAdSlot]);null!=m&&null!=m.poolid&&d.mm.getScript(d.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+k.gamCampaignid+"&sp="+l.rawCPM*m.poolid/37.47)})})}.bind(d,b)};d.res=e;a.status="complete";a.batchRequestMode&&(d.status=a.status);d.triggerAllModuleCallbacks(a.modcb,d.res,function(b){var c=b.module;b=d.getAdUnitByPath(c.adUnitPath);c=b.fallback?b.fallback:c.fallback;return d.useGam&&!b.blockGam&&b.gamAdSlot||null!=c&&null!=c.bid&&c.requestId==a.requestId})}}
var d=this;this.mm.log("Making attempt for "+a.length+" modules at"+this.mm.getTimeElapsed());for(var l=0;l<a.length;l++)this.mm.log("  - module "+l+": "+a[l].module.info.name+" kind: "+a[l].module.kind);var p=d.config.PREBID_TIMEOUT?d.config.PREBID_TIMEOUT:1E3,q=d.config.FAILSAFE_TIMEOUT?d.config.FAILSAFE_TIMEOUT:p+2E3,x={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"cpmstar.com",sid:""+d.config.publisherid,hp:1}]}};d.config.UAM&&(window.apstag||(window.apstag={init:function(){window.apstag._Q.push(["i",
arguments])},fetchBids:function(){window.apstag._Q.push(["f",arguments])},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),window.apstag.init({pubID:"28665ab5-73ac-478f-8407-81f69645e5c9",adServer:"googletag",schain:x.config}));b=window.starpbjs=window.starpbjs||{};b.que=b.que||[];var A=null;d.useGam&&(A=window.googletag=window.googletag||{},A.cmd=A.cmd||[],A.cmd.push(function(){A.pubads().disableInitialLoad()}));if(d.config.bidderSettings){l={};for(var F=Object.keys(d.config.bidderSettings),
z=0;z<F.length;z++){var V=F[z],ba=d.config.bidderSettings[V];l[V]={bidCpmAdjustment:function(a,b){return b*ba.bidAdjustment}}}b.bidderSettings=l}b.que.push(function(){var a,c,e,f={enableSendAllBids:!1,priceGranularity:"dense",useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncDelay:5500},s2sConfig:{accountId:"1",enabled:d.config.PREBID_SERVER?!0:!1,bidders:d.config.PREBID_SERVER_BIDDERS?d.config.PREBID_SERVER_BIDDERS:
[],timeout:3E3,adapter:"prebidServer",endpoint:"https://pbs.cpmstar.com/openrtb2/auction",syncEndpoint:"https://pbs.cpmstar.com/cookie_sync"},bidderSequence:"random",schain:x};d.config.bdomain&&(f.bdomain=d.config.bdomain);if(null===(e=null===(c=null===(a=d.mm.zonedata)||void 0===a?void 0:a.options)||void 0===c?void 0:c.cmp)||void 0===e?0:e.atsid)f.userSync.userIds=[{name:"identityLink",params:{pid:"13471"},storage:{type:"cookie",name:"idl_env",expires:7}}];b.setConfig(f);b.setBidderConfig({bidders:["oftmedia"],
config:{schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[{asi:"152media.info",sid:"152M36",hp:1}]}}}});a={gdpr:d.mm.isUserInEU()&&d.mm.isCMPLoaded()?{cmpApi:"iab",timeout:3E3,allowAuctionWithoutConsent:!0}:{cmpApi:"static",allowAuctionWithoutConsent:!0,consentData:{getConsentData:{gdprApplies:!1,hasGlobalScope:!0,consentData:""},getVendorConsents:{metadata:""}}}};d.mm.isUserInCA()&&(a.usp={timeout:100});b.setConfig({consentManagement:a})});var y=(l=a==d.modcb)?d.requestBidsData:null;
y||(y={requestId:Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),batchRequestMode:l,requestBidsConfig:{bidsBackHandler:null,timeout:p},attempts:d.attempts,modcb:[],status:"preflight"},y.batchRequestMode&&(d.status=y.status),y.batchRequestMode&&(d.requestBidsData=y));"preflight"!==y.status&&d.mm.log("Error -- trying to add new request to requestBidsData while not preflight - this shouldnt happen");for(p=0;p<a.length;p++){l=a[p];F=!1;for(z=0;z<y.modcb.length;z++)y.modcb[z].module.info.name==
l.module.info.name&&(F=!0);F||y.modcb.push(a[p])}if(0==this.attempts)for(l=0;l<d.config.adUnits.length;l++)p=d.config.adUnits[l],null==p.bids&&(p.bids=[]),p.mediaTypes.video&&"outstream"==p.mediaTypes.video.context&&(p.renderer={url:"//imasdk.googleapis.com/js/sdkloader/ima3.js",render:function(a){this.bid=a}.bind(p)});y.requestBidsConfig.adUnitCodes||(y.requestBidsConfig.adUnitCodes=[]);for(p=0;p<a.length;p++)(l=a[p].module.adUnitPath)&&0>y.requestBidsConfig.adUnitCodes.indexOf(l)&&y.requestBidsConfig.adUnitCodes.push(l);
var B=[];for(l=0;l<d.config.adUnits.length;l++){p=d.config.adUnits[l];if(p.mediaTypes&&p.mediaTypes.banner&&p.mediaTypes.banner.sizes)for(F=p.mediaTypes.banner.sizes,z=0;z<F.length;z++)if(d.mm.isDesktop()&&2==F[z].length){V=F[z][0];var L=F[z][1];216==V&&36==L?(F.splice(z,1),z--):300==V&&50==L?(F.splice(z,1),z--):320==V&&50==L&&(F.splice(z,1),z--)}if(p&&p.fallback&&p.fallback.poolid&&!p.added)for(u.macroReplace(d.mm,p),F=0;F<a.length;F++)if(z=a[F],z.module&&z.module.adUnitPath==p.code&&(B.push(p),
p.added=!0,d.useGam&&!p.blockGam&&p.gamAdUnitCode&&p.mediaTypes.banner&&z.instance)){V={bidder:"cpmstar",params:{placementId:p.fallback.poolid},campaignid:null};if(L=d.getViewAspxKVPObject())V.params.kvp=L;p.bids.push(V);A.cmd.push(function(a,b){var c="";d.config.GAMCHILDNETWORKCODE?c=","+d.config.GAMCHILDNETWORKCODE:a.gamChildNetworkCode&&(c=","+a.gamChildNetworkCode);a.gamAdSlot=A.defineSlot("/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,a.mediaTypes.banner.sizes,b.instance.getRenderTargetDivID()).addService(A.pubads());
d.config.UAM&&(y.apSlots=y.apSlots?y.apSlots:[],y.apSlots.push({slotName:"/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,slotID:b.instance.getRenderTargetDivID(),sizes:a.mediaTypes.banner.sizes}));A.pubads().enableSingleRequest();A.enableServices()}.bind(null,p,z))}}var v=function(){var a,c;if((null===(c=null===(a=d.mm.zonedata)||void 0===a?void 0:a.options)||void 0===c?0:c.pubmaticid)&&b.getUserIdsAsEids){var f=window.PWT;f&&"function"==typeof f.getUserIds&&B.forEach(function(a){a.bids.forEach(function(a){a.userId=
f.getUserIds();a.userIdAsEids=b.getUserIdsAsEids()})})}b.addAdUnits(B);"preflight"!=d.status||y.inflight||(y.inflight=!0,y.requestBidsConfig.bidsBackHandler=function(a){d.mm.debug&&a&&(d.mm.log("Prebid Bid Responses:"),d.mm.log(a));if(d.config.bdomain&&a&&"object"==typeof a)for(var c=Object.keys(a),f=0;f<c.length;f++){var g=a[c[f]];if("object"==typeof g&&(g=g.bids)&&Array.isArray(g))for(var h=0;h<g.length;h++)d.isBlockedBid(g[h])&&(d.mm.debug&&d.mm.log("Blocked bid "+g[h]),b.markWinningBidAsUsed(g[h]))}y.prebidBidsBack=
!0;d.config.UAM&&!y.apsBidsBack||e(this)}.bind(y),setTimeout(function(){d.mm.log("Prebid timeout");e(this)}.bind(y),q),setTimeout(function(){y.status="pending";y.batchRequestMode&&(d.status=y.status);d.mm.log("Requesting bids at:"+d.mm.getTimeElapsed());d.config.UAM&&y.apSlots&&window.apstag.fetchBids({slots:y.apSlots},function(a){A.cmd.push(function(){window.apstag.setDisplayBids();y.apsBidsBack=!0;a&&(d.mm.log("Amazon Bid Responses:"),d.mm.log(a));y.prebidBidsBack&&e(this)})});b.requestBids(this.requestBidsConfig);
d.getFallbackBids(this,this.modcb);d.requestBidsData=null}.bind(this),50))}.bind(y);d.useGam?A.cmd.push(function(){b.que.push(v)}):b.que.push(v);k||null==d.config.pbjsfile||(k=!0,d.mm.getScript(d.mm.cdnroot+"/cached/zonemasters/lib/prebid/"+d.config.pbjsfile+"%%ver%%",function(){}));d.useGam&&!g&&(d.mm.getScript("//www.googletagservices.com/tag/js/gpt.js",function(){}),d.config.UAM&&d.mm.getScript("//c.amazon-adsystem.com/aax2/apstag.js",function(){}),g=!0)};e.prototype.getFallbackBids=function(a,
b){for(var c=this,e=0;e<c.config.adUnits.length;e++){var f=c.config.adUnits[e];if(!(0>a.requestBidsConfig.adUnitCodes.indexOf(f.code))){var d=f.fallback;if(null!=d&&null!=d.poolid){var g=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);window[g]=function(e,f){return function(d){c.mm.log("fallback response");if(null!=d){var g=d.creatives;if(null!=g&&0!=g.length){var h=g[0];d=d.pks?d.pks:h.pks;null==d&&(d=0);f.requestId=a.requestId;f.bid=37.47*parseFloat(d)/
f.poolid;f.bid*=null!=c.config.FALLBACK_BID_MULTIPLIER?c.config.FALLBACK_BID_MULTIPLIER:.95;f.creatives=g;f.creative=h;a.initAdserverSet&&null!=c.res&&c.triggerModuleCallback(b,c.res,function(a){return a.module.adUnitPath==e.code&&null!=a.cb})}}}}(f,d);if(!c.useGam||f.blockGam||null==f.gamAdUnitCode){d=this.getViewAspxBaseUrl()+"poolid="+d.poolid+"&json=c_mp&mv=1";if(c.blockGam||f.blockGam)d+="&gampb=1";f.mediaTypes&&f.mediaTypes.video&&f.mediaTypes.video.playerSize&&(d+="&multi=3",f=f.mediaTypes.video.playerSize,
Array.isArray(f[0])&&(f=f[0]),d+="&w="+f[0],d+="&h="+f[1]);d+="&callback="+g;d+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);c.mm.getScript(d)}}}}};return e}(d.default);l.default=q},"./src/zonemasters/requests/skinrequest.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=function(l,h){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g])};return d(l,
h)};return function(l,h){function b(){this.constructor=l}d(l,h);l.prototype=null===h?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0});d=function(d){function l(h){h=d.call(this,h)||this;h.getMacroMaps=function(){return[{IMAGEURL:"LEFTIMAGEURL"},{IMAGEURL:"RIGHTIMAGEURL"}]};return h}t(l,d);return l}(q("./src/zonemasters/requests/editorialrequest.ts").default);l.default=d},"./src/zonemasters/requests/starbannerrequest.ts":function(d,l,q){var t=this&&
this.__extends||function(){var d=function(l,h){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g])};return d(l,h)};return function(l,h){function b(){this.constructor=l}d(l,h);l.prototype=null===h?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0});d=function(d){function l(h){return d.call(this,h)||this}t(l,d);l.prototype.makeAttempt=function(d){var b=this,
h=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),g=this.getViewAspxBaseUrl();g+="poolid="+this.config.poolid+"&json=c_mp&callback="+h;this.config.multi&&(g+="&multi="+this.config.multi);1==d.length&&d[0].module&&d[0].module.options&&d[0].module.options.roadblock&&(g+="&ROADBLOCK="+d[0].module.options.roadblock);g+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);b.mm.getScript(g,function(){});b.config.width&&
b.config.height&&window.context&&window.context.requestResize(b.config.width,b.config.height);window[h]=function(a){var e=a.creatives;if(null==e||0==e.length||null==e[0].code||""==e[0].code)b.res=null,b.status="failed";else{var f={getAdTypeAvailable:function(a){return"banner"},renderAd:function(a,f){b.renderBanners(f,e,a)}.bind(b)};window.context&&window.context.reportRenderedEntityIdentifier&&a&&a.creatives&&a.creatives[0]&&a.creatives[0].creativemacros&&a.creatives[0].creativemacros.CLICKURL&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+
b.config.poolid+"_"+a.creatives[0].creativemacros.CLICKURL);b.res=f}b.triggerAllModuleCallbacks(d,b.res)}.bind(b)};return l}(q("./src/zonemasters/requests/superrequest.ts").default);l.default=d},"./src/zonemasters/requests/starjsonrequest.ts":function(d,l,q){var t=this&&this.__extends||function(){var d=function(l,h){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var g in d)d.hasOwnProperty(g)&&(b[g]=d[g])};return d(l,h)};return function(l,
h){function b(){this.constructor=l}d(l,h);l.prototype=null===h?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0});d=function(d){function l(h){return d.call(this,h)||this}t(l,d);l.prototype.makeAttempt=function(h){d.prototype.makeAttempt.call(this,h);var b=this,k=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),g=this.getViewAspxBaseUrl();g+="poolid="+this.config.poolid+"&rnd="+this.rnd;if(this.config.vast){g+=
"&fv=0&mv=1&json=c_m";if(this.config.width||this.config.w)g+=this.config.w;if(this.config.height||this.config.h)g+=this.config.h}g+="&callback="+k;this.config.json&&(g+="&json="+this.config.json);this.config.multi&&(g+="&multi="+this.config.multi);this.config.requiredmacros&&(g+="&requiredmacros="+this.config.requiredmacros);g+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);if(this.config.params){var a=this.config.params;g+=Object.keys(a).map(function(b){return[b,
a[b]]}).reduce(function(a,b){return a+="&"+b[0]+"="+encodeURIComponent(b[1])},"")}this.config.url&&(g=this.config.url);window[k]=function(a){var f={getAdTypeAvailable:function(a){return"none"}};b.res=f;b.status="complete";null==a||0===Object.keys(a).length&&a.constructor===Object||""===a?(b.res=null,b.status="failed"):null!=a.creatives&&0<a.creatives.length&&null!=a.creatives[0].code&&""!=a.creatives[0].code?(f.getAdTypeAvailable=function(a){return"banner"},f.renderAd=function(c,f,e){e(b.renderBanners(f,
a.creatives,c))},f.getResponseData=function(){return a}):null!=a.creatives&&0<a.creatives.length&&a.creatives[0].creativemacros&&(a.creatives[0].creativemacros.HTML5VID_VASTSTRING||a.creatives[0].creativemacros.HTML5VID_ADX||a.creatives[0].creativemacros.VIDEO1)?(f.nextAd=function(b){null==f.renderIndex?f.renderIndex=1:f.renderIndex++;return null==a.creatives||f.renderIndex>=a.creatives.length?!1:!0},f.getAdTypeAvailable=function(a){return"video"},f.renderAd=function(a,b,f){f()},f.getResponseData=
function(){return a.creatives[null!=f.renderIndex?f.renderIndex:0]}):(f.getAdTypeAvailable=function(a){return"json"},f.getResponseData=function(){return a});b.triggerAllModuleCallbacks(h,f)};this.config.jsres?setTimeout(function(){window[k](window[b.config.jsres])},0):this.config.vast&&3==this.config.vast&&this.config.url&&"undefined"!==typeof fetch?fetch(this.config.url).then(function(a){return a.text()}).then(function(a){window[k](a)}):this.mm.getScript(g)};return l}(q("./src/zonemasters/requests/superrequest.ts").default);
l.default=d},"./src/zonemasters/requests/superrequest.ts":function(d,l,q){Object.defineProperty(l,"__esModule",{value:!0});var t=q("./src/zonemasters/utils.ts");d=function(){function d(d){this.mm=d;this.rnd=Math.round(999999*Math.random());this.status=null;this.modcb=[];this.attempts=0}d.prototype.init=function(d){this.config=d};d.prototype.triggerModuleCallback=function(d,h,b){if(d)for(var k=0;k<d.length;k++)if(b(d[k])){d=d[k];if(null==d)break;b=d.cb;d.cb=null;null!=b&&b(h);break}};d.prototype.triggerAllModuleCallbacks=
function(d,h,b){this.status="complete";if(d)for(var k=0;k<d.length;k++)if(null==b||b(d[k])){var g=d[k].cb;d[k].cb=null;null!=g&&g(h)}};d.prototype.addCallback=function(d,h){var b=d.module;this.mm.log("  adding callback for module: "+b.info.name+" kind: "+b.kind+" at "+this.mm.getTimeElapsed());var k,g=k||(k={});g[g.NotAdded=0]="NotAdded";g[g.CallbackCompleted=1]="CallbackCompleted";g[g.CallbackPending=2]="CallbackPending";g=k.NotAdded;for(var a=0;a<this.modcb.length;a++){var e=this.modcb[a];if(e.module.info.name==
b.info.name){g=null==e.cb?k.CallbackCompleted:k.CallbackPending;break}}a=this.getStatus();g==k.NotAdded&&this.modcb.push({module:b,cb:h,instance:d});if(g==k.CallbackPending)h(null);else{if(null!=a&&"pending"==a)this.makeAttempt([{module:b,cb:h,instance:d}]);else{for(a=0;a<this.modcb.length;a++)e=this.modcb[a],e.module.info.name==b.info.name&&null==e.cb&&(e.cb=h);this.makeAttempt(this.modcb)}this.attempts++}};d.prototype.getStatus=function(){return this.status};d.prototype.makeAttempt=function(d){null==
this.status&&(this.status="pending")};d.prototype.getViewAspxKVPObject=function(){var d={};null!=this.mm.coppa&&(d.tfcd=this.mm.coppa?"1":"0");null!=this.mm.usp&&(d.usp=""+this.mm.usp);null!=this.mm.gdprApplies&&(d.gpdr=this.mm.gdprApplies?"1":"0");this.mm.gdprApplies&&null!=this.mm.getPubConsent()&&(d.gdpr_consent=""+this.mm.getPubConsent());this.mm.debug&&(d.debug="1");if(this.mm.zonedata.options&&this.mm.zonedata.options.modulus){var h=Math.round(100*this.mm.getRand())%10;d.modulus=""+h}this.mm.forcecampaigngroupid&&
(d.forcecampaigngroupid=this.mm.forcecampaigngroupid);return d};d.prototype.getViewAspxBaseUrl=function(){var d=this.mm.serverroot;this.mm.zonedata&&this.mm.zonedata.options&&this.mm.zonedata.options.referrerRevshare&&this.mm.zonedata.zone_referrer?d+="/viewiogame.aspx?iogamereferrerdomain="+this.mm.zonedata.zone_referrer+"&":this.config&&this.config.contentid?d+="/viewzonecontent.aspx?contentid="+this.config.contentid+"&":(d+="/view.aspx?",this.config.subpoolid&&(d+="subpoolid="+this.config.subpoolid+
"&"));var h=this.getViewAspxKVPObject();(h=t.objectToQueryString(h))&&(d+=h+"&");return d};d.generateIframe=function(){var d=document.createElement("iframe");d.style.borderWidth="0";d.scrolling="no";d.marginwidth=0;d.marginheight=0;d.topmargin=0;d.leftmargin=0;d.allowtransparency=!0;d.setAttribute("marginwidth","0");d.setAttribute("marginheight","0");d.setAttribute("topmargin","0");d.setAttribute("leftmargin","0");d.setAttribute("allowtransparency","true");return d};d.insertNewIframe=function(d){var h=
this.generateIframe();h.width="0";h.height="0";if(null!=d.sandbox)h.setAttribute("sandbox",d.sandbox),h.setAttribute("srcdoc",d.renderHtml),d.intoEl.appendChild(h);else{d.intoEl.appendChild(h);var b=h.contentWindow.document;b.write(d.renderHtml);b.close()}h.width=""+d.width;h.height=d.height;return h};d.prototype.renderBanners=function(l,h,b){var k,g,a=this.config.adspacing||30,e="",f=0,c=h[0].height?h[0].height:this.config.height,m=this.config.multifooter||"</TD></TR></TABLE></TD>",p=this.config.multiheader||
"<TABLE border=0 cellpadding=0 cellspacing=0><TR><TD>",n=this.config.multisplitter||"</TD><TD width="+a+"></TD><TD>";this.config.multi&&(e+=p);for(p=0;p<h.length;p++){var q=h[p].width?h[p].width:(null===(k=h[p].creativemacros)||void 0===k?0:k.WIDTH)?h[p].creativemacros.WIDTH:null===(g=this.config)||void 0===g?void 0:g.width;null!=q&&(0<p&&(e+=n,f+=a),e+=h[p].code,f+=q,h[p].px_cr&&(e+="\n"+("<img width=0 height=0 src='"+h[p].px_cr+"' />")))}this.config.multi&&(e+=m);if(null!=l)return d.insertNewIframe({height:c,
width:""+f,intoEl:l,renderHtml:"<HTML><BODY>"+e+"</BODY></HTML>",sandbox:b.options.sandbox});throw Error("'el' was not defined.");};return d}();l.default=d},"./src/zonemasters/superclasses/basic/componentregistry.ts":function(d,l,q){Object.defineProperty(l,"__esModule",{value:!0});d=function(){function d(){}d.GetComponentRegistry=function(){return{}};d.RegisterComponent=function(d,l){};return d}();l.default=d},"./src/zonemasters/superclasses/basic/rootcomponent.ts":function(d,l,q){Object.defineProperty(l,
"__esModule",{value:!0});d=function(){function d(d){}d.prototype.$mount=function(d){this.$el=d;return this};d.prototype.renderTemplate=function(d,l){var h="";"undefined"!==typeof window.doT&&d.template&&(d.render=window.doT.template(d.template));d.render?(h=d.data&&"function"===typeof d.data?d.data():d,h=d.render(h)):d.template&&(h=d.template);d=d.divid+".js";h=h.split("@this").join(d);l.innerHTML=h};return d}();l.default=d},"./src/zonemasters/utils.ts":function(d,l,q){function t(a,b){if("string"!=
typeof a){var c="",d;for(d in a){var f=a[d],e;if(e="@"!=d.trim()[0])e=d.trim().charCodeAt(0),e=!(48<=e&&57>=e);e?(b?(c+="#"+b+" "+d,"."==d[0]&&(c+=" , #"+b+d)):c+=d,c+="{"):c+=d+"{";for(var g in f)if(f.hasOwnProperty(g))if(e=f[g],"object"==typeof e){var h={};h[g]=e;c+=t(h,b)}else c+=g+":"+e+";";c+="}\n"}return c}return a}function p(a){var b=null;if(null==a)return b;if("object"==typeof a&&a instanceof HTMLElement||a.constructor&&"HTMLDivElement"==a.constructor.name)b=a;else if(Array.isArray(a)){b=
[];for(var d=0;d<a.length;d++)b.push(p(a[d]))}else if("object"==typeof a)for(d in b={},a)b[d]=p(a[d]);else b=a;return b}function u(a,b,d){void 0===d&&(d=null);if(null==a)return null;if(null==b||"object"!==typeof b)return a;for(var c in b){var e=void 0;d&&void 0!==(e=d(c,a,b))?a[c]=e:null==a[c]||"object"!=typeof a[c]||"object"!=typeof b[c]||Array.isArray(b[c])?Array.isArray(b)||"object"==typeof b[c]?a[c]=p(b[c]):(e=b[c],a[c]="undefined"!==typeof e?e:a[c]):a[c]=u(a[c],b[c])}return a}function h(a,b,
d){if("conditions"==a&&null!=b[a]&&null!=d[a])return b=b[a],a=d[a],a=Array.isArray(b)&&"&"==b[0]&&Array.isArray(a)?b.concat(a):Array.isArray(b)||Array.isArray(a)?["&",b,a]:void 0,a}function b(a){a=a.split("<br");for(var b="",d=0;d<a.length;d++){var e=a[d];e=e.trim();"/"==e[0]&&">"==e[1]&&(e=e.slice(2));e=e.trim();e.length>b.length&&(b=e)}return b}function k(a,b,d){void 0===d&&(d=null);if(null==d){d={};try{d["%%REFERER%%"]=window.location.href,d["%%REFERERHOSTNAME%%"]=window.location.hostname,d["%%IP%%"]=
a.getIP()}catch(H){}}switch(typeof b){case "string":a=Object.keys(d);for(var c=0;c<a.length;c++){var e=a[c],f=d[e];b=b.split(e).join(f)}break;case "object":for(c=Object.keys(b),e=0;e<c.length;e++)f=c[e],b[f]=k(a,b[f],d)}return b}function g(a){return null==a?[]:Array.isArray(a)?a:[a]}Object.defineProperty(l,"__esModule",{value:!0});l.toStringArrayLower=l.toArray=l.parsedCookies=l.objectToQueryString=l.macroReplace=l.autoFitText=l.getCtx=l.from_utf8=l.getLongestTextLine=l.mergeObjectsWithConditions=
l.extendLite=l.mergeObjects=l.deepClone=l.getCssString=void 0;l.getCssString=t;l.deepClone=p;l.mergeObjects=u;l.extendLite=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};l.mergeObjectsWithConditions=function(a,b){return u(a,b,h)};l.getLongestTextLine=b;l.from_utf8=function(a){try{return decodeURIComponent(escape(a))}catch(c){return""}};var a=null,e=null;l.getCtx=function(){a||(e=document.createElement("canvas"),a=e.getContext("2d"));return a};l.autoFitText=function(a){var c=
this.getCtx(),d=getComputedStyle(a);c.font=d.fontSize+" "+d.fontFamily;var e=b(a.innerText);c=c.measureText(e).width;e=parseFloat(d.width);isNaN(e)&&0<a.clientWidth?e=a.clientWidth:isNaN(e)&&(e=a.parentElement.clientWidth);c>=.95*e&&(c=e/c*.95,a.style.fontSize=parseFloat(d.fontSize)*c+"px")};l.macroReplace=k;l.objectToQueryString=function(a){var b="";if(a&&"object"===typeof a)for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f];0<e&&(b+="&");b+=f+"="+g}return b};l.parsedCookies=function(){return document.cookie.split(";").reduce(function(a,
b){b=b.split("=");b[0]=b[0].trim();b[1]=b.slice(1).join("=");a[b[0]]=b[1];return a},{})};l.toArray=g;l.toStringArrayLower=function(a){a=g(a);for(var b=0;b<a.length;b++)"string"===typeof a[b]&&(a[b]=a[b].toLowerCase());return a}},0:function(d,l,q){d.exports=q("./src/zonemasters/mobilemodules.ts")}});
